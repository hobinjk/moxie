{
  "version": 3,
  "sources": ["../EIParser.js", "../node_modules/gw2-data/SkillData.js", "../node_modules/gw2-data/SkillIds.js", "../Mishap.js", "../passes.js", "../TargetSelect.js", "../moxie.js", "../benchmark.js", "../node_modules/ventaris-tablet/drawCastTimeline.js", "../node_modules/ventaris-tablet/drawBuffTimeline.js", "../node_modules/ventaris-tablet/drawDpsGraph.js", "../EasterEgg.js"],
  "sourcesContent": ["async function getJson(permalink) {\n  const res = await fetch(`https://dps.report/getJson?permalink=${permalink}`);\n  const json = await res.json();\n\n  if (json.hasOwnProperty('error')) {\n    alert(`failed to fetch that log, message from dps.report: \"${json.error}\"`);\n    return;\n  }\n  return eiLogDataToLog(json, []);\n}\n\nfunction parseJson(json) {\n  return eiLogDataToLog(json, []);\n}\n\nfunction eiLogDataToLog(eiData, usedStuff) {\n  if (eiData.skillMap) {\n    for (const skillKey in eiData.skillMap) {\n      const skill = eiData.skillMap[skillKey];\n      if (!skill.id) {\n        skill.id = skillKey.substr(1);\n      }\n      usedStuff.push(skill);\n    }\n  }\n  if (eiData.buffMap) {\n    for (const buffKey in eiData.buffMap) {\n      const buff = eiData.buffMap[buffKey];\n      if (!buff.id) {\n        buff.id = buffKey.substr(1);\n      }\n      usedStuff.push(buff);\n    }\n  }\n\n  let allBuffs = {};\n  let allCasts = {};\n  let targetDamage1S = {};\n\n  let players = eiData.players.map((player, i) => {\n    return Object.assign({\n      id: i,\n    }, player);\n  });\n\n  let apiMode = false;\n  for (let i = 0; i < eiData.players.length; i++) {\n    if (eiData.players[i].hasOwnProperty('details')) {\n      let {buffs, casts} = parseHtmlData(eiData.players[i].details);\n      allBuffs[i] = buffs;\n      allCasts[i] = casts;\n    } else {\n      let {buffs, casts} = parseApiData(eiData.players[i]);\n      apiMode = true;\n      allBuffs[i] = buffs;\n      allCasts[i] = casts;\n    }\n    const tdps = eiData.players[i].targetDamage1S;\n    if (tdps && tdps[0]) {\n      targetDamage1S[i] = tdps[0][0];\n    }\n  }\n\n  let skills = {};\n\n  for (let usedThing of usedStuff) {\n    skills[usedThing.id] = usedThing.name;\n  }\n\n\n  let timeMul = apiMode ? 1 : 1000;\n  return {\n    boss: eiData.fightName,\n    players,\n    start: eiData.phases[0].start * timeMul,\n    end: eiData.phases[0].end * timeMul,\n    skills,\n    casts: allCasts,\n    buffs: allBuffs,\n    targetDamage1S,\n  };\n}\n\nfunction parseHtmlData(details) {\n  let buffs = {};\n  for (let boon of details.boonGraph[0]) {\n    buffs[boon.id] = [];\n    let prevStacks = 0;\n    for (let state of boon.states) {\n      let time = state[0] * 1000;\n      let stacks = state[1];\n\n      for (let i = 0; i < Math.abs(stacks - prevStacks); i++) {\n        if (stacks > prevStacks) {\n          buffs[boon.id].push({Apply: time});\n        } else {\n          buffs[boon.id].push({Remove: time});\n        }\n      }\n\n      prevStacks = stacks;\n    }\n  }\n\n  let casts = [];\n  for (let rotation of details.rotation) {\n    if (!rotation[0]) {\n      continue;\n    }\n    for (let cast of details.rotation[0]) {\n      let time = cast[0] * 1000;\n      let id = cast[1];\n      let duration = cast[2]; // this is in ms\n      let endEvent = cast[3];\n      let _quicknessProbably = cast[4];\n      casts.push({\n        id,\n        start: time,\n        end: time + duration,\n        fired: endEvent !== 2,\n      });\n    }\n  }\n\n  return {buffs, casts};\n}\n\nfunction parseApiData(player) {\n  let buffs = {};\n  let casts = [];\n\n  for (let buff of player.buffUptimes) {\n    buffs[buff.id] = [];\n    let prevStacks = 0;\n    for (let state of buff.states) {\n      let [time, stacks] = state;\n\n      for (let i = 0; i < Math.abs(stacks - prevStacks); i++) {\n        if (stacks > prevStacks) {\n          buffs[buff.id].push({Apply: time});\n        } else {\n          buffs[buff.id].push({Remove: time});\n        }\n      }\n\n      prevStacks = stacks;\n    }\n  }\n\n  if (!player.rotation) {\n    player.rotation = [];\n  }\n  for (let skill of player.rotation) {\n    let id = skill.id;\n    for (let cast of skill.skills) {\n      let start = cast.castTime;\n      let end = start + cast.duration;\n      let fired = cast.duration + cast.timeGained > 0;\n      casts.push({\n        id,\n        start,\n        end,\n        fired,\n      });\n    }\n  }\n\n  return {buffs, casts};\n}\n\nmodule.exports = {\n  parseJson,\n  getJson,\n};\n", "const DEBUG = false;\n\nclass SkillData {\n  constructor() {\n    this.loadSkill = this.loadSkill.bind(this);\n    this.data = {};\n    if (DEBUG) {\n      this.failuresLog = document.createElement('div');\n      this.failuresLog.style.display = 'none';\n      this.failuresLog.id = 'failures-log';\n      document.body.appendChild(this.failuresLog);\n    }\n  }\n\n  load(skills) {\n    return Promise.all(Object.keys(skills).map(this.loadSkill));\n  }\n\n  async loadSkill(id) {\n    try {\n      const res = await fetch(`api-cache/${id}.json`);\n      const data = await res.json();\n      this.data[id] = data;\n    } catch (e) {\n      console.log('could not fetch', id);\n      await this.loadSkillFromAPI(id);\n      if (DEBUG) {\n        this.failuresLog.innerHTML += `curl https://api.guildwars2.com/v2/skills/${id} > ${id}.json<br/>\\n`;\n      }\n    }\n  }\n\n  async loadSkillFromAPI(id) {\n    try {\n      const res = await fetch(`https://api.guildwars2.com/v2/skills/${id}`);\n      const data = await res.json();\n      this.data[id] = data;\n    } catch (e) {\n      console.log('really could not fetch', id);\n    }\n  }\n\n  get(id) {\n    return this.data[id];\n  }\n}\n\nexport default new SkillData();\n", "export default {\n  GLYPH_OF_STORMS_FIRE: 5736,\n  GLYPH_OF_STORMS_AIR: 5737,\n  PRIMORDIAL_STANCE: 42086,\n  PRIMORDIAL_STANCE_EFFECT: 40183,\n  ATTUNEMENT_FIRE_FIRE: 43470,\n  // ATTUNEMENT_FIRE_AIR: 43229,\n  // ATTUNEMENT_AIR_FIRE: 42811,\n  ATTUNEMENT_AIR_AIR: 42264,\n  ATTUNEMENT_EARTH_EARTH: 44857,\n  ARCANE_BLAST: 5539,\n  FLAME_UPRISING: 45313,\n  QUANTUM_STRIKE: 43803,\n  FIRE_GRAB: 5557,\n  ELEMENTS_OF_RAGE: 42416,\n  CONJURE_FIERY_GREATSWORD: 5516,\n  FIERY_GREATSWORD_FIRESTORM: 5531,\n  FIERY_GREATSWORD_FIERY_RUSH: 5517,\n  FRESH_AIR: 34241,\n\n  ASSASSINS_SIGNET_ACTIVE: 44597,\n  BOUNDING_DODGER: 33162,\n  FIST_FLURRY: 30868,\n\n  THE_PRESTIGE: 10285,\n  MAGIC_BULLET: 10229,\n  CRY_OF_FRUSTRATION: 10190,\n  AXES_OF_SYMMETRY: 43761,\n  IMAGINARY_AXES: 44321,\n  SIGNET_OF_THE_ETHER: 21750,\n  PHANTASMAL_BERSERKER: 10221,\n  PHANTASMAL_SWORDSMAN: 10174,\n  PHANTASMAL_DISENCHANTER: 10267,\n  PHANTASMAL_WARDEN: 10282,\n  WELL_OF_CALAMITY: 30525,\n  WELL_OF_RECALL: 29856,\n  WELL_OF_ACTION: 30814,\n  SIGNET_OF_INSPIRATION: 10236,\n  GRAVITY_WELL: 30359,\n\n  DODGE: 65001,\n  WEAPON_SWAP: -2,\n\n  WEAVE_SELF: 43638,\n  ATTUNEMENT_AIR_WATER: '-12',\n  ATTUNEMENT_AIR_FIRE: '-11',\n  ATTUNEMENT_WATER_FIRE: '-8',\n  ATTUNEMENT_FIRE_AIR: '-6',\n  ATTUNEMENT_EARTH_AIR: '-16',\n  ATTUNEMENT_EARTH_FIRE: '-14',\n  ATTUNEMENT_WATER_EARTH: '-10',\n  ATTUNEMENT_FIRE_EARTH: '-7',\n  ATTUNEMENT_FIRE_WATER: '-5',\n  CONJURE_LIGHTNING_HAMMER: 5624,\n\n  SUNDERING_LEAP: 29613,\n  THROW_BOLAS: 14354,\n\n  SWORD_OF_JUSTICE: 9168,\n  SWORD_OF_JUSTICE_ETERNAL_ARMORY: 44846,\n  ORB_OF_WRATH: 9098,\n  ZEALOTS_FIRE: 9089,\n  RENEWED_FOCUS: 9154,\n  SPEAR_OF_JUSTICE: 29632,\n  JUSTICE: 30232, // Not in EI but this would be the debuff to track\n  SHIELD_OF_COURAGE: 30029,\n  MANTRA_OF_POTENCE: 40915,\n\n  SHARPENING_STONE: 9963,\n  ONE_WOLF_PACK: 45717,\n  FROST_TRAP: 12492,\n  SIC_EM: 33902,\n  TWICE_AS_VICIOUS: 45600,\n\n  SEARING_FISSURE: 28357,\n  LEGENDARY_ASSASSIN_STANCE: 27890,\n  BATTLE_SCARS: 26646,\n  FORERUNNER_OF_DEATH: 62811,\n\n  SHREDDER_GYRO: 29921,\n\n  SUPERCONDUCTING_SIGNET: 63113,\n  FLAME_BLAST: 5931,\n\n  WELL_OF_BOUNTY: 63323,\n  PURGING_FLAMES: 9187,\n\n  STONESTRIKE: 62683,\n  SHATTERING_ICE: 62698,\n  CRESCENT_WIND_BUFF: 62707,\n  SHOCK_BLAST: 62716,\n  DEPLOY_JADE_SPHERE: 62723,\n  ELEMENTAL_EMPOWERMENT: 62733,\n  WIND_SLAM: 62747,\n  FLAME_WHEEL: 62758,\n  ROCKY_LOOP_BUFF: 62768,\n  GROUND_POUND: 62778,\n  RELENTLESS_FIRE_BUFF: 62805,\n  TRIPLE_SEAR: 62807,\n  HURRICANE_OF_PAIN: 62812,\n  DEPLOY_JADE_SPHERE2: 62813,\n  ICY_COIL: 62834,\n  CLEANSING_TYPHOON: 62843,\n  STREAM_STRIKE: 62865,\n  GRAND_FINALE: 62876,\n  SURGING_FLAMES: 62884,\n  CRESCENT_WIND: 62887,\n  SHATTERING_ICE_EFFECT: 62909,\n  MOLTEN_END: 62910,\n  SINGEING_STRIKE: 62925,\n  FLAME_WHEEL_BUFF: 62931,\n  EMPOWERING_AURAS: 62939,\n  DEPLOY_JADE_SPHERE3: 62940,\n  CRASHING_FONT: 62948,\n  RELENTLESS_FIRE: 62965,\n  ROCKY_LOOP: 62975,\n  WHIRLING_STONES: 62976,\n  ICY_COIL_BUFF: 62984,\n\n  FACET_OF_LIGHT: 27220,\n\n  DEADLY_BLADES: 63409,\n\n  // Auto-generated extra ids\n  \"Confusing Images\":10168,\"Chaos Storm\":10169,\"Mind Slash\":10170,\"Mind Gash\":10171,\"Mind Spike\":10172,\"Illusionary Leap\":10173,\"Phantasmal Swordsman\":10174,\"Phantasmal Duelist\":10175,\"Temporal Curtain\":10186,\"Veil\":10187,\"Phantasmal Mage\":10189,\"Cry of Frustration\":10190,\"Mind Wrack\":10191,\"Distortion\":10192,\"Mind Blast\":10196,\"Null Field\":10203,\"Mantra of Pain\":10211,\"Phantasmal Warlock\":10216,\"Mind Stab\":10218,\"Spatial Surge\":10219,\"Phantasmal Berserker\":10221,\"Magic Bullet\":10229,\"Signet of Midnight\":10234,\"Signet of Inspiration\":10236,\"Illusion of Life\":10244,\"Signet of Illusions\":10247,\"Phantasmal Disenchanter\":10267,\"Winds of Chaos\":10273,\"Illusionary Counter\":10276,\"Illusionary Riposte\":10280,\"Phantasmal Warden\":10282,\"The Prestige\":10285,\"Ether Bolt\":10289,\"Ether Blast\":10290,\"Ether Clone\":10291,\"Time Warp\":10311,\"Counterspell\":10314,\"Mirror Blade\":10333,\"Blurred Frenzy\":10334,\"Well of Blood\":10527,\"Ghastly Claws\":10528,\"Grasping Dead\":10532,\"Blood Is Power\":10544,\"Well of Corruption\":10545,\"Well of Suffering\":10546,\"Plaguelands\":10549,\"Putrid Curse\":10552,\"Spinal Shivers\":10555,\"Wail of Doom\":10556,\"Locust Swarm\":10557,\"Life Leech\":10560,\"Rending Claws\":10561,\"Necrotic Grasp\":10596,\"Chillblains\":10605,\"Epidemic\":10606,\"Well of Darkness\":10607,\"Spectral Ring\":10608,\"Well of Power\":10609,\"Charge\":45743,\"Fear\":10660,\"Blood Curse\":10698,\"Rending Curse\":10699,\"Unholy Feast\":10701,\"Deathly Swarm\":10705,\"Enfeebling Blood\":10706,\"Bandage\":1175,\"Ricochet\":12466,\"Poison Volley\":12468,\"Barrage\":12469,\"Crossfire\":12470,\"Slash\":12474,\"Crippling Thrust\":12472,\"Precision Swipe\":12473,\"Hilt Bash\":12475,\"Crippling Talon\":12477,\"Stalker's Strike\":12478,\"Splitblade\":12480,\"Thunderclap\":5728,\"Throw Dirt\":12486,\"Slice\":12487,\"Enduring Swing\":12488,\"Winter's Bite\":12490,\"Signet of the Wild\":12491,\"Frost Trap\":12492,\"Stone Spirit\":12495,\"Viper's Nest\":12496,\"Frost Spirit\":12497,\"Flame Trap\":12499,\"Muddy Terrain\":12501,\"Bonfire\":12504,\"Crippling Shot\":12507,\"Concussion Shot\":12508,\"Rapid Fire\":12509,\"Long Range Shot\":12510,\"Point-Blank Shot\":12511,\"Swoop\":12521,\"Counterattack\":12522,\"Maul\":46629,\"Sharpening Stone\":12537,\"Spirit of Nature\":12569,\"Hunter's Shot\":12573,\"Entangle\":12580,\"Cold Snap\":12593,\"Call Lightning\":45216,\"Quicksand\":12595,\"Nature's Renewal\":12596,\"Hunter's Call\":12620,\"Call of the Wild\":12621,\"\\\"Sic 'Em!\\\"\":12633,\"Throw Torch\":12635,\"Path of Scars\":12638,\"Whirling Defense\":12639,\"Trail of Knives\":13003,\"Double Strike\":13004,\"Death Blossom\":13006,\"Shadow Strike\":13010,\"Trick Shot\":13022,\"Choking Gas\":13024,\"Prepare Thousand Needles\":13026,\"Hide in Shadows\":13027,\"Caltrops\":13028,\"Smoke Bomb\":13033,\"Shadow Shot\":13040,\"Assassin's Signet\":13046,\"Signet of Malice\":13050,\"Skale Venom\":13055,\"Thieves Guild\":13082,\"Vital Shot\":13084,\"Wild Strike\":13087,\"Heartseeker\":13097,\"Lotus Strike\":13108,\"Repeater\":59526,\"Basilisk Venom\":13132,\"Throw Bolas\":14354,\"Greatsword Swing\":14356,\"Hammer Swing\":14358,\"Staggering Blow\":14359,\"Shield Bash\":14361,\"Hamstring\":14363,\"Sever Artery\":14364,\"Gash\":14365,\"Savage Leap\":14366,\"Chop\":14369,\"Double Chop\":14370,\"Triple Chop\":14371,\"Greatsword Slice\":14373,\"Brutal Strike\":14374,\"Mace Smash\":63077,\"Mace Bash\":14377,\"Pulverize\":14378,\"Hammer Bash\":14384,\"Hammer Smash\":14385,\"Fierce Blow\":14386,\"Throw Rock\":14390,\"Call of Valor\":14394,\"Throw Axe\":14398,\"Whirling Axe\":14399,\"\\\"To the Limit!\\\"\":14402,\"Banner of Strength\":14405,\"Banner of Discipline\":14407,\"Banner of Tactics\":14408,\"Balanced Stance\":14412,\"Tremor\":14415,\"Dual Strike\":14418,\"Battle Standard\":14419,\"Cyclone Axe\":14421,\"Eviscerate\":43566,\"Dual Shot\":14431,\"Whirlwind Attack\":14447,\"Hammer Shock\":14482,\"Seismic Leap\":14490,\"Final Thrust\":14497,\"Pommel Bash\":14503,\"Pin Down\":14504,\"Smoldering Arrow\":14505,\"Counterblow\":14507,\"Bladetrail\":14510,\"Backbreaker\":14511,\"Fan of Fire\":14519,\"Hundred Blades\":14554,\"Throw Boulder\":14556,\"Vapor Blade\":15716,\"Impale\":15717,\"Dragon's Claw\":15718,\"Cloak and Dagger\":16432,\"Reaper's Mark\":19115,\"Putrid Mark\":19116,\"Mark of Blood\":19117,\"Static Shock\":21661,\"Litany of Wrath\":21664,\"Signet of the Ether\":21750,\"Water Spirit\":21773,\"Aqua Surge\":21775,\"Thousand Cuts\":24755,\"Glyph of Lesser Elementals\":25486,\"Vengeful Hammers\":26557,\"Facet of Strength\":26644,\"Manifest Toxin\":26666,\"Forced Engagement\":26679,\"Unrelenting Assault\":26699,\"Anguish Swipe\":26730,\"Release Hammers\":26956,\"Facet of Elements\":27014,\"Misery Swipe\":27066,\"Deathstrike\":28625,\"Gaze of Darkness\":27080,\"Impossible Odds\":27107,\"Elemental Blast\":27162,\"Facet of Light\":27220,\"Soothing Stone\":27372,\"Banish Enchantment\":27505,\"Field of the Mists\":27665,\"Facet of Chaos\":27760,\"Echoing Eruption\":27964,\"Rite of the Great Dwarf\":27975,\"Phase Smash\":27976,\"Chaotic Release\":28075,\"Legendary Dragon Stance\":28085,\"Drop the Hammer\":28110,\"Burst of Strength\":28113,\"Legendary Assassin Stance\":28134,\"Essence Sap\":31438,\"Coalescence of Ruin\":28253,\"Embrace the Darkness\":28287,\"Searing Fissure\":28357,\"Facet of Darkness\":28379,\"Relinquish Power\":28382,\"Temporal Rift\":28409,\"Legendary Dwarf Stance\":28419,\"Shackling Wave\":28472,\"Legendary Demon Stance\":28494,\"Inspiring Reinforcement\":28516,\"Hammer Bolt\":28549,\"Rift Slash\":28964,\"Surge of the Mists\":28978,\"Rejuvenating Assault\":29002,\"Preparation Thrust\":29057,\"Mender's Rebuke\":29145,\"Project Tranquility\":29148,\"Rapid Swipe\":29180,\"Chilling Isolation\":29233,\"Brutal Blade\":29256,\"Renewing Wave\":29321,\"Forceful Bash\":29331,\"Facet of Nature\":29371,\"Overload Water\":29415,\"Life Rend\":29442,\"Life Slash\":29458,\"Wildfire\":29533,\"\\\"Wash the Pain Away!\\\"\":29535,\"Bandage Blast\":29547,\"Glyph of the Tides\":30448,\"Mimic\":29578,\"Sundering Leap\":29613,\"Overload Earth\":29618,\"Deflecting Shot\":29630,\"Deja Vu\":29649,\"Dusk Strike\":29705,\"Overload Fire\":29706,\"Terrify\":29709,\"Overload Air\":29719,\"Grasping Darkness\":29740,\"Bandage Self\":29772,\"Negative Bash\":29785,\"Test of Faith\":29786,\"Symbol of Energy\":29789,\"Continuum Split\":29830,\"Blaze Breaker\":29845,\"Arc Divider\":29852,\"Nightfall\":29855,\"Well of Recall\":29856,\"Chilling Scythe\":29867,\"Spear of Justice\":29887,\"Weakening Charge\":29911,\"Shredder Gyro\":29921,\"Scorched Earth\":29923,\"Flames of War\":29940,\"Wild Blow\":29941,\"\\\"Flash-Freeze!\\\"\":29948,\"Infusing Terror\":29958,\"\\\"Feel My Wrath!\\\"\":29965,\"Cyclone\":30008,\"Shield of Courage\":30029,\"Shattering Blow\":30074,\"Electro-whirl\":30088,\"Staff Bash\":30135,\"Gravedigger\":30163,\"Blood Reckoning\":30189,\"Hook Strike\":30210,\"True Shot\":30229,\"Dragon's Maw\":30273,\"Life Reap\":30278,\"Chemical Field\":30279,\"Well of Eternity\":30305,\"Dust Storm\":30336,\"Head Butt\":30343,\"Medic Gyro\":30357,\"Gravity Well\":30359,\"Procession of Blades\":30364,\"Mortar Shot\":30371,\"Channeled Vigor\":30400,\"\\\"Aftershock!\\\"\":30432,\"Punishing Strikes\":30434,\"Berserk\":30435,\"Puncture Shot\":30471,\"Equalizing Blow\":30489,\"Positive Strike\":30501,\"Soul Spiral\":30504,\"Med Blaster\":30521,\"Well of Calamity\":30525,\"Executioner's Scythe\":30557,\"Vault\":30597,\"Staff Strike\":30614,\"Hunter's Ward\":30628,\"Tides of Time\":30643,\"Rocket Charge\":30665,\"Flaming Flurry\":30682,\"Palm Strike\":30693,\"Continuum Shift\":30747,\"Echo of Memory\":30769,\"Wings of Resolve\":30783,\"Reaper's Shroud\":30792,\"Lightning Orb\":30795,\"Fading Twilight\":30799,\"Elite Mortar Kit\":30800,\"Well of Action\":30814,\"Death's Charge\":30825,\"Decapitate\":30851,\"Death Spiral\":30860,\"Fist Flurry\":30868,\"Poison Gas Shell\":30885,\"Exit Reaper's Shroud\":30961,\"Spare Capacitor\":31167,\"Blast Gyro\":31248,\"Lunar Impact\":31318,\"Seed of Life\":31406,\"Sublime Conversion\":31496,\"Natural Convergence\":31503,\"Ancestral Grace\":31535,\"Lightning Assault\":31639,\"Vine Surge\":31700,\"Solar Beam\":31710,\"Cosmic Ray\":31796,\"Astral Wisp\":31889,\"Rejuvenating Tides\":31894,\"\\\"We Heal As One!\\\"\":31914,\"Hunter's Verdict\":33134,\"Glyph of Elemental Harmony\":34743,\"Unholy Burst\":38767,\"Steal Warmth\":39960,\"Fire Strike\":39964,\"Steal Resistance\":40133,\"Rust Frenzy\":40139,\"Natural Frenzy\":40170,\"Bloodbane Path\":40175,\"Primordial Stance\":40183,\"Chaos Vortex\":40184,\"False Oasis\":40200,\"Smoke Assault\":40255,\"Trail of Anguish\":40274,\"Keen Strike\":40275,\"Leading Swipe\":40301,\"Fire Swipe\":40326,\"Icerazor's Ire\":40485,\"Shattershot\":40497,\"Vulture Stance\":40498,\"Focused Slash\":40560,\"Primal Cry\":40588,\"Earthshaker\":40601,\"Symbol of Vengeance\":40624,\"Earthen Vortex\":40709,\"Deadly Aim\":40710,\"Worldly Impact\":40729,\"Steal Precision\":40888,\"Steal Health\":40903,\"Steal Strength\":40904,\"Mantra of Potence\":40915,\"Grinding Stones\":40963,\"Seiche\":41052,\"Crystal Sands\":41065,\"Skull Crack\":41110,\"Deactivate Photon Forge\":41123,\"Plasma Blast\":41125,\"Mirror Strikes\":41164,\"Rain of Spikes\":41206,\"Darkrazor's Daring\":41220,\"Kick\":41524,\"Flash Cutter\u2014Storm\":41684,\"Mantra of Solace\":41714,\"Tome of Resolve\":41780,\"Serpent Stab\":41800,\"Scorchrazor\":41820,\"Sevenshot\":41829,\"Legendary Renegade Stance\":41858,\"Prime Light Beam\":42009,\"Blade Burst\":42163,\"Tome of Courage\":42371,\"Twin Strike\":42271,\"Pile Driver\":42321,\"Steam Surge\":42330,\"Ghastly Breach\":42355,\"Ashen Blast\":42379,\"Bright Slash\u2014Storm\":42475,\"Flurry\":42494,\"Precise Cut\":42745,\"Citadel Bombardment\":42836,\"Laser Disk\":42842,\"Steal Time\":42863,\"Brutal Charge\":46432,\"Engage Photon Forge\":42938,\"Beastmode\":42944,\"Razorclaw's Rage\":42949,\"Fracturing Strike\":42954,\"Leave Beastmode\":43014,\"Pyro Vortex\":43074,\"Crystalline Strike\":43080,\"Break Enchantments\":43123,\"Sand Flare\":43148,\"Steal Durability\":43373,\"Prelude Lash\":43375,\"Deadeye's Mark\":43390,\"Sun Edge\":43476,\"Double Arc\":43536,\"Frenzied Attack\":43548,\"Plasma Beam\":43576,\"Crystal Slash\":43616,\"Head Toss\":43636,\"Weave Self\":43638,\"Searing Slash\":43826,\"Crippling Leap\":43726,\"Axes of Symmetry\":43761,\"Pyroclastic Blast\":43762,\"Steal Defenses\":43768,\"Quantum Strike\":43803,\"Spiritcrush\":43993,\"Wastrel's Ruin\":44004,\"Death's Judgment\":44087,\"Refraction Cutter\":44110,\"Full Counter\":44165,\"Light Strike\u2014Storm\":44260,\"Deadly Delivery\":44278,\"Oppressive Collapse\":44296,\"Imaginary Axes\":44321,\"Tome of Justice\":44364,\"Cauterizing Strike\":44451,\"Steal Mobility\":44526,\"Corona Burst\":44530,\"Light Strike\":44588,\"Bleeding Edge\":44602,\"Plasma Burst\":44652,\"Mirage Mirror\":44677,\"Charged Strike\":44681,\"Three Round Burst\":44695,\"Lacerating Chop\":44791,\"Ethereal Chop\":44840,\"Sword of Justice\":9168,\"Lesser Fiery Eruption\":44918,\"Disrupting Stab\":44937,\"Manifest Sand Shade\":44946,\"Bear Stance\":44948,\"Polaric Leap\":44998,\"Core Cleave\":45047,\"Lingering Thoughts\":45243,\"Polaric Slash\":45259,\"Flame Uprising\":45313,\"Blazing Edge\":45402,\"Rain of Swords\":45425,\"Groundwork Gouge\":45426,\"Jaunt\":45449,\"Shadow Meld\":45508,\"Sun Ripper\":45581,\"Breakrazor's Bastion\":45686,\"One Wolf Pack\":45717,\"Bright Slash\":45756,\"Soulcleave's Summit\":45773,\"Photon Blitz\":45783,\"Dolyak Stance\":45789,\"Harrowing Wave\":45846,\"Flash Cutter\":45890,\"Moa Stance\":45970,\"Gleam Saber\":45979,\"Clapotis\":45983,\"Stone Tide\":46014,\"Mud Slide\":46018,\"Crystalline Sunder\":46024,\"Mantra of Flame\":46148,\"Aura Slicer\":46233,\"Gale Strike\":46295,\"Shadow Gust\":46335,\"Lava Skin\":46447,\"Cleansing Field\":49045,\"Vital Burst\":49082,\"Infusion Bomb\":50444,\"Malicious Sneak Attack\":50466,\"Malicious Backstab\":50481,\"Seeking Judgment\":51645,\"Devouring Darkness\":51647,\"Searing Light\":51660,\"Transmute Lightning\":51662,\"True Nature\":51696,\"Transmute Fire\":51711,\"Frozen Burst\":5487,\"Lightning Whip\":5489,\"Comet\":5490,\"Fireball\":5491,\"Fire Attunement\":5492,\"Water Attunement\":5493,\"Air Attunement\":5494,\"Earth Attunement\":5495,\"Drake's Breath\":5496,\"Flamewall\":5497,\"Stone Shards\":5500,\"Meteor Shower\":5501,\"Signet of Restoration\":5503,\"Swipe\":55031,\"Soul Grasp\":55050,\"Discharge Lightning\":5504,\"Grasping Earth\":5505,\"Ether Renewal\":5507,\"Flamestrike\":5508,\"Conjure Fiery Greatsword\":5516,\"Fiery Rush\":5517,\"Chain Lightning\":5518,\"Stoning\":5519,\"Ring of Earth\":5525,\"Arc Lightning\":5526,\"Eruption\":5528,\"Ride the Lightning\":5529,\"Swirling Winds\":5530,\"Firestorm\":5736,\"Flame Wave\":5532,\"Cone of Cold\":5537,\"Shatterstone\":5538,\"Arcane Blast\":5539,\"Signet of Fire\":5542,\"Lava Font\":5548,\"Water Blast\":5549,\"Ice Spike\":5550,\"Lightning Surge\":5552,\"Magnetic Wave\":5555,\"Freezing Gust\":5556,\"Fire Grab\":5557,\"Earthen Rush\":5559,\"Lightning Strike\":5561,\"Gale\":5562,\"Conjure Lightning Hammer\":5624,\"Burning Speed\":5644,\"Convergence\":5646,\"Static Field\":5671,\"Phoenix\":5675,\"Flame Burst\":5679,\"Geyser\":5681,\"Windborne Speed\":5682,\"Shock Wave\":5686,\"Updraft\":5687,\"Time Sink\":56873,\"Ring of Fire\":5691,\"Dragon's Tooth\":5692,\"Function Gyro\":56920,\"Split Second\":56930,\"Rewinder\":56928,\"Ice Shards\":5693,\"Rock Barrier\":5695,\"Invoke Lightning\":5725,\"Lightning Swing\":5726,\"Static Swing\":5727,\"Lightning Storm\":5737,\"Sandstorm\":5738,\"Hurl\":5780,\"Med Kit\":5802,\"Poison Grenade\":5806,\"Shrapnel Grenade\":5807,\"Freeze Grenade\":5809,\"Grenade Barrage\":5810,\"Bomb Kit\":5812,\"Big Ol' Bomb\":5813,\"Concussion Bomb\":5822,\"Fire Bomb\":5823,\"Fragmentation Shot\":5827,\"Poison Dart Volley\":5828,\"Static Shot\":5829,\"Blowtorch\":5831,\"Bomb\":5842,\"Supply Crate\":5868,\"Grenade\":5882,\"Flamethrower\":5927,\"Flame Jet\":5928,\"Napalm\":5929,\"Air Blast\":5930,\"Flame Blast\":5931,\"Elixir Gun\":5933,\"Tranquilizer Dart\":5934,\"Glob Shot\":5935,\"Acid Bomb\":5936,\"Super Elixir\":5937,\"Fumigate\":5965,\"Rifle Burst\":6003,\"Net Shot\":6004,\"Jump Shot\":6005,\"Grenade Kit\":6020,\"Magnetic Shield\":6053,\"Blunderbuss\":6153,\"Overcharged Shot\":6154,\"Throw Mine\":6161,\"Mine Field\":6164,\"Surprise Shot\":6178,\"Flying Cutter\":62510,\"Vile Blast\":62511,\"Weeping Shots\":62513,\"Vicious Shot\":62517,\"Willbender Flames\":62618,\"Elixir of Risk\":62530,\"Voracious Arc\":62539,\"Exit Harbinger Shroud\":62540,\"Bladecall\":62560,\"Whirling Light\":62565,\"Harbinger Shroud\":62567,\"Bladesong Harmony\":62617,\"Bladeturn Requiem\":62597,\"Bladesong Dissonance\":62602,\"Unstable Bladestorm\":62607,\"Flash Combo\":62608,\"Tainted Bolts\":62611,\"Bladesong Sorrow\":62616,\"Dark Barrage\":62621,\"Elixir of Anguish\":62662,\"Elixir of Promise\":62667,\"Rushing Justice\":62668,\"Devouring Cut\":62672,\"Stonestrike\":62683,\"Mist Slash\":62688,\"Mist Unleashed\":62692,\"Water Rush\":62694,\"Gunstinger\":62697,\"Shattering Ice\":62698,\"Shock Blast\":62716,\"Deploy Jade Sphere\":62940,\"Elemental Celerity\":62725,\"Unsheathe Gunsaber\":62745,\"Wind Slam\":62747,\"Legendary Alliance\":62749,\"Arcing Mists\":62752,\"Flame Wheel\":62758,\"Ground Pound\":62778,\"Dragon's Roar\":62800,\"Dragon Trigger\":62803,\"Triple Sear\":62807,\"Hurricane of Pain\":62812,\"Nomad's Advance\":62832,\"Icy Coil\":62834,\"Cleansing Typhoon\":62843,\"Sheathe Gunsaber\":62861,\"Chilling Crack\":62862,\"Stream Strike\":62865,\"Grand Finale\":62876,\"Reaver's Rage\":62878,\"Surging Flames\":62884,\"Crescent Wind\":62887,\"Legendary Alliance Stance\":62891,\"Phantom's Onslaught\":62895,\"Tactical Reload\":62901,\"Molten End\":62910,\"Mist Swing\":62913,\"Singeing Strike\":62925,\"Eternity's Requiem\":62929,\"Spear of Archemorus\":62942,\"Crashing Font\":62948,\"Rain of Blows\":62958,\"Relentless Fire\":62965,\"Rocky Loop\":62975,\"Whirling Stones\":62976,\"Shadow Bolt\":63066,\"Siphon\":63067,\"Overbearing Smash\":63075,\"Superconducting Signet\":63113,\"Hammer Strike\":63118,\"Sundering Volley\":63129,\"Unleashed Savage Shock Wave\":63131,\"Triple Bolt\":63134,\"Enter Shadow Shroud\":63155,\"Exploding Spores\":63157,\"Energizing Slam\":63169,\"Barrier Blast\":63174,\"Double Bolt\":63182,\"Mace Strike\":63186,\"Unleashed Thump\":63208,\"Hammer Slam\":63222,\"Rocket Fist Prototype\":63234,\"Exit Shadow Shroud\":63251,\"Twilight Combo\":63254,\"Well of Sorrow\":63276,\"Well of Gloom\":63292,\"Shadowsquall\":63314,\"Well of Bounty\":63323,\"Thump\":63330,\"Unleashed Wild Swing\":63335,\"Jade Buster Cannon\":63374,\"Relentless Whirl\":63438,\"Rifle Burst Grenade\":68079,\"Overcharged Cartridges\":68085,\"Leap of Faith\":9080,\"Whirling Wrath\":9081,\"Shield of Wrath\":9082,\"Protector's Strike\":9086,\"Shield of Judgment\":9087,\"Cleansing Flame\":9088,\"Zealot's Fire\":9089,\"Symbol of Punishment\":9090,\"Shield of Absorption\":9091,\"Symbol of Judgment\":9095,\"Wave of Light\":9096,\"Symbol of Blades\":9097,\"Orb of Wrath\":9098,\"Chains of Light\":9099,\"Shelter\":9102,\"Zealot's Flame\":9104,\"Sword of Wrath\":9105,\"Sword Arc\":9106,\"Zealot's Defense\":9107,\"Faithful Strike\":9108,\"True Strike\":9109,\"Pure Strike\":9110,\"Symbol of Faith\":9111,\"Ray of Judgment\":9112,\"Bolt of Wrath\":9122,\"Strike\":9137,\"Vengeful Strike\":9138,\"Wrathful Strike\":9139,\"Holy Strike\":9140,\"Symbol of Swiftness\":9143,\"Line of Warding\":9144,\"Symbol of Resolution\":9146,\"Binding Blade\":9147,\"Wrath\":9149,\"Renewed Focus\":9154,\"Purging Flames\":9187,\"Pull\":9226,\"Sword Wave\":9227,\"Bane Signet\":9241,\"Smite Condition\":9245,\"Hallowed Ground\":9253,\"Empower\":9265\n};\n", "export default class Mishap {\n  constructor(start, end, label) {\n    this.start = start;\n    this.end = end;\n    this.label = label;\n    // uhhhh\n  }\n\n  render(log) {\n    const elt = document.createElement('li');\n    elt.classList.add('mishap');\n    const time = document.createElement('a');\n\n    const start = ((this.start - log.start) / 1000).toFixed(2);\n    const end = ((this.end - log.start) / 1000).toFixed(2);\n    time.dataset.start = this.start;\n    time.dataset.end = this.end;\n    time.innerHTML = `${start}s&mdash;${end}s`;\n    time.href = '#';\n    time.classList.add('time-link');\n    elt.appendChild(time);\n    if (this.label) {\n      elt.appendChild(document.createTextNode(' ' + this.label));\n    }\n    return elt;\n  }\n}\n", "import SkillData from 'gw2-data/SkillData';\nimport SkillIds from 'gw2-data/SkillIds';\nimport Mishap from './Mishap';\n\nconst reportCardItems = document.querySelector('.report-card-items');\n\nexport default function generateReportCard(log, selectedPlayer, benchmark) {\n  if (log.casts.length === 0) {\n    console.warn('Log has no casts');\n    return;\n  }\n  switch (benchmark.id) {\n    case 'weaver_power_btth':\n    case 'weaver_power_fa_small':\n      checkAutoChains(log);\n      checkWasted(log);\n      checkPrimordialAttunements(log);\n      checkArcaneBlasts(log);\n      checkAttunementTransitions(log);\n      checkBuffUptime(log, SkillIds.ELEMENTS_OF_RAGE, 100);\n      checkFGSTiming(log, benchmark);\n      // Check for both since air might be used\n      checkSkillUsage(log, SkillIds.GLYPH_OF_STORMS_FIRE);\n      checkSkillUsage(log, SkillIds.GLYPH_OF_STORMS_AIR);\n      break;\n    case 'weaver_power_btth_large':\n    case 'weaver_power_fa_large':\n      checkAutoChains(log);\n      checkWasted(log);\n      checkPrimordialAttunements(log);\n      checkAttunementTransitions(log);\n      checkBuffUptime(log, SkillIds.ELEMENTS_OF_RAGE, 100);\n      checkSkillUsage(log, SkillIds.GLYPH_OF_STORMS_AIR);\n      break;\n    case 'catalyst_power':\n      checkWasted(log);\n      checkAttunementTransitions(log);\n\n      checkSkillFrequency(log, SkillIds.STONESTRIKE, 54 / 93.5);\n\n      checkBuffUptime(log, SkillIds.CRESCENT_WIND_BUFF, 89.2);\n      checkBuffUptime(log, SkillIds.FLAME_WHEEL_BUFF, 98.6);\n      checkBuffUptime(log, SkillIds.ICY_COIL_BUFF, 75.6);\n      checkBuffUptime(log, SkillIds.ROCKY_LOOP_BUFF, 60.5);\n\n      checkBuffUptime(log, SkillIds.RELENTLESS_FIRE_BUFF, 51.3);\n      checkSkillUsage(log, SkillIds.SHATTERING_ICE);\n\n      checkSkillUsage(log, SkillIds.GLYPH_OF_STORMS_AIR);\n      break;\n    case 'daredevil_power':\n      checkAutoChains(log, true);\n      checkWasted(log);\n      checkBuffUptime(log, SkillIds.ASSASSINS_SIGNET_ACTIVE, 30);\n      checkBuffUptime(log, SkillIds.BOUNDING_DODGER, 65);\n      // checkSkillUsage(log, SkillIds.steal);\n      checkSkillUsage(log, SkillIds.FIST_FLURRY);\n      break;\n    case 'mirage':\n      checkAutoChains(log);\n      checkWasted(log);\n      checkSkillFrequency(log, SkillIds.IMAGINARY_AXES, 42 / 144);\n      checkSkillFrequency(log, SkillIds.AXES_OF_SYMMETRY, 16 / 144);\n      checkWeaponSwapCadence(log, [\n        {\n          dur: 11600,\n          label: 'A/P',\n        },\n        {\n          dur: 11600,\n          label: 'A/T',\n        }\n      ], SkillIds['Phantasmal Duelist'], true);\n\n      checkSkillUsage(log, SkillIds.THE_PRESTIGE);\n      checkSkillUsage(log, SkillIds.MAGIC_BULLET);\n      checkSkillUsage(log, SkillIds.CRY_OF_FRUSTRATION);\n      const optsEtherSig = {resets: new Set([SkillIds.SIGNET_OF_THE_ETHER])};\n      checkSkillUsage(log, SkillIds.SIGNET_OF_THE_ETHER);\n      checkSkillUsage(log, SkillIds['Phantasmal Duelist'], optsEtherSig);\n      checkSkillUsage(log, SkillIds['Phantasmal Mage'], optsEtherSig);\n\n      break;\n    case 'chrono_power_gs': {\n      checkAutoChains(log);\n      checkWasted(log);\n      const optsEtherSig = {resets: new Set([SkillIds.SIGNET_OF_THE_ETHER])};\n      const optsEtherSigLeni = Object.assign({leniency: 2}, optsEtherSig);\n      checkSkillUsage(log, SkillIds.SIGNET_OF_THE_ETHER);\n      checkSkillUsage(log, SkillIds.PHANTASMAL_BERSERKER, optsEtherSigLeni);\n      checkSkillUsage(log, SkillIds.PHANTASMAL_SWORDSMAN, optsEtherSig);\n      checkSkillUsage(log, SkillIds.PHANTASMAL_DISENCHANTER, optsEtherSig);\n      checkSkillUsage(log, SkillIds.WELL_OF_CALAMITY);\n      break;\n    }\n    case 'chrono_power_focus': {\n      checkAutoChains(log);\n      checkWasted(log);\n      const optsEtherSig = {resets: new Set([SkillIds.SIGNET_OF_THE_ETHER])};\n      const optsEtherSigLeni = Object.assign({leniency: 2}, optsEtherSig);\n      checkSkillUsage(log, SkillIds.SIGNET_OF_THE_ETHER);\n      checkSkillUsage(log, SkillIds.PHANTASMAL_SWORDSMAN, optsEtherSig);\n      checkSkillUsage(log, SkillIds.PHANTASMAL_DISENCHANTER, optsEtherSig);\n      checkSkillUsage(log, SkillIds.PHANTASMAL_WARDEN, optsEtherSigLeni);\n      break;\n    }\n    case 'chrono_power_boon': {\n      checkAutoChains(log);\n      checkWasted(log);\n      const optsEtherSig = {resets: new Set([SkillIds.SIGNET_OF_THE_ETHER])};\n      const optsEtherSigLeni = Object.assign({leniency: 2}, optsEtherSig);\n      checkSkillUsage(log, SkillIds.SIGNET_OF_THE_ETHER);\n      checkSkillUsage(log, SkillIds.PHANTASMAL_SWORDSMAN, optsEtherSigLeni);\n      checkSkillUsage(log, SkillIds.SIGNET_OF_INSPIRATION);\n      checkSkillUsage(log, SkillIds.WELL_OF_ACTION);\n      checkSkillUsage(log, SkillIds.WELL_OF_RECALL);\n      break;\n    }\n    case 'chrono_condi_boon': {\n      checkAutoChains(log);\n      checkWasted(log);\n      checkSkillUsage(log, SkillIds.SIGNET_OF_INSPIRATION);\n      checkSkillUsage(log, SkillIds.WELL_OF_ACTION);\n      checkSkillUsage(log, SkillIds.WELL_OF_RECALL);\n      break;\n    }\n    case 'virtuoso_gs': {\n      checkAutoChains(log);\n      checkWasted(log);\n      const optsEtherSig = {resets: new Set([SkillIds.SIGNET_OF_THE_ETHER])};\n      // const optsEtherSigLeni = Object.assign({leniency: 5}, optsEtherSig);\n      checkSkillUsage(log, SkillIds.SIGNET_OF_THE_ETHER);\n      checkSkillPerWeaponSwap(log, SkillIds.PHANTASMAL_BERSERKER, 3);\n      checkSkillPerWeaponSwap(log, SkillIds.PHANTASMAL_SWORDSMAN, 2);\n      checkBuffUptime(log, SkillIds.DEADLY_BLADES, 75)\n      checkSkillUsage(log, SkillIds.PHANTASMAL_DISENCHANTER, optsEtherSig);\n      checkSkillUsage(log, SkillIds['Rain of Swords']);\n      checkSkillUsage(log, SkillIds['Bladesong Harmony']);\n      checkSkillPerWeaponSwap(log, SkillIds['Unstable Bladestorm'], 2);\n      checkSkillPerWeaponSwap(log, SkillIds['Bladecall'], 3);\n      checkSkillPerWeaponSwap(log, SkillIds['Mind Stab'], 2);\n      checkSkillPerWeaponSwap(log, SkillIds['Mirror Blade'], 3);\n      checkWeaponSwapCadence(log, [\n        {\n          dur: 13300,\n          label: 'GS',\n        },\n        {\n          dur: 12100,\n          label: 'D/S',\n        }\n      ], SkillIds.PHANTASMAL_BERSERKER);\n      // checkSkillUsage(log, SkillIds['Mantra of Pain'])\n      break;\n    }\n    case 'virtuoso_focus': {\n      checkAutoChains(log);\n      checkWasted(log);\n      const optsEtherSig = {resets: new Set([SkillIds.SIGNET_OF_THE_ETHER])};\n      const optsEtherSigLeni = Object.assign({leniency: 3}, optsEtherSig);\n      checkSkillUsage(log, SkillIds.SIGNET_OF_THE_ETHER);\n      checkSkillUsage(log, SkillIds.PHANTASMAL_WARDEN, optsEtherSigLeni);\n      checkSkillUsage(log, SkillIds.PHANTASMAL_SWORDSMAN, optsEtherSig);\n      checkSkillUsage(log, SkillIds.PHANTASMAL_DISENCHANTER, optsEtherSig);\n      checkSkillPerWeaponSwap(log, SkillIds['Unstable Bladestorm'], 2);\n      checkSkillPerWeaponSwap(log, SkillIds['Bladecall'], 4);\n      checkBuffUptime(log, SkillIds.DEADLY_BLADES, 69)\n      checkSkillUsage(log, SkillIds['Rain of Swords']);\n      checkSkillUsage(log, SkillIds['Bladesong Harmony']);\n      // checkSkillUsage(log, SkillIds['Mantra of Pain'])\n      break;\n    }\n    case 'virtuoso_condi': {\n      checkAutoChains(log);\n      checkWasted(log);\n      const optsEtherSig = {resets: new Set([SkillIds.SIGNET_OF_THE_ETHER])};\n      const optsIlluSig = {resets: new Set([SkillIds['Signet of Illusions']])};\n      // const optsEtherSigLeni = Object.assign({leniency: 3}, optsEtherSig);\n      checkSkillUsage(log, SkillIds.SIGNET_OF_THE_ETHER);\n      checkSkillUsage(log, SkillIds.PHANTASMAL_WARDEN, optsEtherSig);\n      checkSkillUsage(log, SkillIds.PHANTASMAL_SWORDSMAN, optsEtherSig);\n      checkSkillUsage(log, SkillIds['Signet of Illusions']);\n      // TODO this skill has two charges\n      checkSkillUsage(log, SkillIds['Bladesong Harmony'], optsIlluSig);\n      checkSkillUsage(log, SkillIds['Bladesong Sorrow'], optsIlluSig);\n      checkSkillFrequency(log, SkillIds['Bladecall'], 23 / 105);\n      checkSkillFrequency(log, SkillIds['Unstable Bladestorm'], 11 / 105);\n      checkBuffUptime(log, SkillIds.DEADLY_BLADES, 95)\n      break;\n    }\n    case 'virtuoso_condi_chaos': {\n      checkAutoChains(log);\n      checkWasted(log);\n      // const optsEtherSigLeni = Object.assign({leniency: 3}, optsEtherSig);\n      // TODO this skill has two charges\n      checkSkillUsage(log, SkillIds['Bladesong Harmony']);\n      checkSkillUsage(log, SkillIds['Bladesong Sorrow']);\n      checkSkillUsage(log, SkillIds['Rain of Swords']);\n      checkSkillUsage(log, SkillIds['Bladecall']);\n      checkSkillUsage(log, SkillIds['Unstable Bladestorm']);\n      checkBuffUptime(log, SkillIds.DEADLY_BLADES, 95)\n      // checkSkillUsage(log, SkillIds['The Prestige']);\n      break;\n    }\n\n    case 'firebrand_condi':\n    case 'firebrand_condi_quick': {\n      checkAutoChains(log);\n      checkWasted(log);\n      checkAmmoSkillUsage(log, SkillIds.SWORD_OF_JUSTICE_ETERNAL_ARMORY,\n                          16000 / 1.25, 4);\n      checkBadSkillUsage(log, SkillIds.ORB_OF_WRATH, 6);\n      // Check for spamming zealot's fire which should be cast exactly twice\n      // every 10ish seconds\n      checkNotChained(log, SkillIds.ZEALOTS_FIRE, 2, 5000);\n      break;\n    }\n    case 'soulbeast_power_moa_gs':\n    case 'soulbeast_power_moa_lb': {\n      checkAutoChains(log);\n      checkWasted(log);\n      checkSkillUsage(log, SkillIds.ONE_WOLF_PACK);\n      checkSkillUsage(log, SkillIds.FROST_TRAP);\n      checkBuffUptime(log, SkillIds.SIC_EM, 45);\n      checkBuffUptime(log, SkillIds.TWICE_AS_VICIOUS, 97);\n      break;\n    }\n    case 'renegade_kalla':\n    case 'renegade_deva_kalla':\n    case 'renegade_shiro': {\n      checkAutoChains(log);\n      checkWasted(log);\n      checkAverageSkillDuration(log, SkillIds.SEARING_FISSURE, 600);\n      apologizeForMissingPasses(log);\n      break;\n    }\n    case 'mechanist_condi_signets': {\n      checkWasted(log);\n      checkSkillUsage(log, SkillIds['Shrapnel Grenade'], {leniency: 3});\n      checkSkillUsage(log, SkillIds['Blowtorch']);\n      checkSkillUsage(log, SkillIds['Superconducting Signet']);\n      checkSkillUsage(log, SkillIds['Poison Grenade']);\n      break;\n    }\n    case 'vindicator_power_gs': {\n      checkAutoChains(log);\n      checkWasted(log);\n      checkBuffUptime(log, SkillIds.FORERUNNER_OF_DEATH, 100);\n      checkSkillUsage(log, SkillIds['Mist Unleashed'], {leniency: 5});\n      checkSkillUsage(log, SkillIds['Phantom\\'s Onslaught'], {leniency: 3});\n      checkSkillUsage(log, SkillIds['Eternity\\'s Requiem']);\n      checkSkillFrequency(log, SkillIds['Death Drop'], 17 / 109);\n    }\n    default:\n      console.warn('Nothing cool to do for', benchmark.id);\n      checkAutoChains(log);\n      checkWasted(log);\n      apologizeForMissingPasses(log);\n      break;\n  }\n}\n\nfunction addReportCardItem(log, grade, explanation, mishaps) {\n  const item = document.createElement('li');\n  item.classList.add('report-card-item');\n  const gradeElt = document.createElement('span');\n  gradeElt.classList.add('grade', 'grade-' + grade.toLowerCase());\n  gradeElt.textContent = grade;\n  const explanationElt = document.createElement('span');\n  explanationElt.classList.add('explanation');\n  explanationElt.textContent = explanation;\n  const expander = document.createElement('div');\n  expander.classList.add('report-card-item-expander');\n  expander.textContent = 'Show Mishaps';\n  expander.addEventListener('click', function() {\n    if (item.classList.contains('open')) {\n      expander.textContent = 'Show Mishaps';\n      item.classList.remove('open');\n      item.parentNode.classList.remove('single');\n    } else {\n      expander.textContent = 'Hide Mishaps';\n      item.classList.add('open');\n      item.parentNode.classList.add('single');\n    }\n  });\n  item.appendChild(gradeElt);\n  item.appendChild(document.createTextNode(' '));\n  item.appendChild(explanationElt);\n  item.appendChild(expander);\n  const mishapList = document.createElement('ul');\n  mishapList.classList.add('mishap-list');\n  for (let mishap of mishaps) {\n    mishapList.appendChild(mishap.render(log));\n  }\n  item.appendChild(mishapList);\n  reportCardItems.appendChild(item);\n\n  console.log('additional data', mishaps);\n}\n\nfunction checkAutoChains(log, strict) {\n  const chains = [];\n\n  for (const cast of log.casts) {\n    if (!cast.fired) {\n      continue;\n    }\n    let data = SkillData.get(cast.id);\n    if (data && data.slot) {\n      if (data.slot !== 'Weapon_1') {\n        continue;\n      }\n\n      if (!data.prev_chain && data.next_chain) {\n        chains.push([cast]);\n      }\n      if (data.prev_chain) {\n        if (!chains[chains.length - 1]) {\n          console.warn('Phantom chain!', cast);\n          continue;\n        }\n        chains[chains.length - 1].push(cast);\n      }\n    }\n  }\n  let wastedOne = {chains: [], total: 0};\n  let wastedTwo = {chains: [], total: 0};\n  for (let chain of chains) {\n    if (chain.length === 3) {\n      continue;\n    }\n    console.log('bad chain of length', chain.length);\n    if (chain.length > 3) {\n      console.log('wait what', chain);\n    }\n    if (chain.length === 1) {\n      wastedOne.total += chain[chain.length - 1].end - chain[0].start;\n      wastedOne.chains.push(chain);\n    } else if (chain.length === 2) {\n      wastedTwo.total += chain[chain.length - 1].end - chain[0].start;\n      wastedTwo.chains.push(chain);\n    }\n  }\n  console.log('wastedOne', wastedOne);\n  console.log('wastedTwo', wastedTwo);\n  const dur = log.casts[log.casts.length - 1].end - log.casts[0].start;\n  console.log('eliminating one', 1 - (dur - wastedOne.total) / dur);\n  console.log('eliminating two', 1 - (dur - wastedTwo.total) / dur);\n\n\n  if (strict) {\n    let woGrade = '';\n    if (wastedOne.chains.length === 0) {\n      woGrade = 'S';\n    } else if (wastedOne.chains.length < 3) {\n      woGrade = 'A';\n    } else if (wastedOne.chains.length < 7) {\n      woGrade = 'B';\n    } else if (wastedOne.chains.length < 15) {\n      woGrade = 'C';\n    } else {\n      woGrade = 'D';\n    }\n\n    let attacks = 'attack';\n    if (wastedOne.chains.length !== 1) {\n      attacks += 's';\n    }\n    let woSummary = `Let ${wastedOne.chains.length} single auto ${attacks} happen`;\n    addReportCardItem(log, woGrade, woSummary, wastedOne.chains.map((chain) => {\n      return new Mishap(chain[0].start, chain[chain.length - 1].end);\n    }));\n  }\n\n  let wtGrade = '';\n  if (wastedTwo.chains.length === 0) {\n    wtGrade = 'S';\n  } else if (wastedTwo.chains.length < 2) {\n    wtGrade = 'A';\n  } else if (wastedTwo.chains.length < 5) {\n    wtGrade = 'B';\n  } else {\n    wtGrade = 'C';\n  }\n  let wtSummary = `Missed ${wastedTwo.chains.length} auto chain finisher`;\n  if (wastedTwo.chains.length !== 1) {\n    wtSummary += 's';\n  }\n  addReportCardItem(log, wtGrade, wtSummary, wastedTwo.chains.map((chain) => {\n    return new Mishap(chain[0].start, chain[chain.length - 1].end);\n  }));\n}\n\nfunction checkWasted(log) {\n  let deadspace = 0;\n  let dsMishaps = [];\n  let cancels = 0;\n  let cancelMishaps = [];\n  let lastEnd = -1;\n  for (const cast of log.casts) {\n    if (cast.end === cast.start) {\n      continue;\n    }\n    if (lastEnd > 0) {\n      let wasted = cast.start - lastEnd;\n      if (wasted < 0) {\n        console.log('WHAT', cast);\n      } else {\n        deadspace += wasted;\n\n        // Nobody's frame-perfect\n        if (wasted > 30) {\n          dsMishaps.push(new Mishap(lastEnd, cast.start, log.skills[cast.id] || 'Unknown skill'));\n        }\n      }\n    }\n    if (!cast.fired) {\n      cancels += cast.end - cast.start;\n      // Nobody's frame-perfect\n      if (cast.end - cast.start > 30) {\n        cancelMishaps.push(new Mishap(cast.start, cast.end, log.skills[cast.id] || 'Unknown skill'));\n      }\n    }\n    lastEnd = cast.end;\n  }\n\n  console.log('deadspace', deadspace);\n  console.log('cancels', cancels);\n  let dur = lastEnd - log.casts[0].start;\n  console.log('out of', dur);\n  console.log('kills your deeps by', 1 - (dur - deadspace - cancels) / dur);\n\n  const dsSummary = `Did nothing for ${(deadspace / 1000).toFixed(2)} seconds`;\n  let dsGrade = 'C';\n  if (deadspace < 500) {\n    dsGrade = 'S';\n  } else if (deadspace < 1000) {\n    dsGrade = 'A';\n  } else if (deadspace < 2000) {\n    dsGrade = 'B';\n  }\n  addReportCardItem(log, dsGrade, dsSummary, dsMishaps);\n\n  const cancelSummary = `Canceled skills for ${(cancels / 1000).toFixed(2)} seconds`;\n  let cancelGrade = 'C';\n  if (cancels < 500) {\n    cancelGrade = 'S';\n  } else if (cancels < 1000) {\n    cancelGrade = 'A';\n  } else if (cancels < 2000) {\n    cancelGrade = 'B';\n  }\n  addReportCardItem(log, cancelGrade, cancelSummary, cancelMishaps);\n}\n\nfunction checkPrimordialAttunements(log) {\n  // Overlap between fire/fire and primordial\n  let primordial = log.buffs[SkillIds.PRIMORDIAL_STANCE];\n  const fireFire = log.buffs[SkillIds.ATTUNEMENT_FIRE_FIRE];\n\n  if (!primordial) {\n    primordial = [];\n    let tick = 1000;\n    let stanceDur = 5 * tick;\n    let lastPrimordial = log.start - stanceDur - tick;\n    for (const cast of log.casts) {\n      if (cast.id !== SkillIds.PRIMORDIAL_STANCE_EFFECT) {\n        continue;\n      }\n      let primStart = cast.start - tick;\n      if (primStart - lastPrimordial < stanceDur) {\n        continue;\n      }\n      if (lastPrimordial > log.start) {\n        primordial.push({\n          Remove: Math.min(lastPrimordial + stanceDur, primStart - 1),\n        });\n      }\n      lastPrimordial = primStart;\n      primordial.push({\n        Apply: primStart,\n      });\n    }\n    if (lastPrimordial > log.start) {\n      primordial.push({\n        Remove: Math.min(lastPrimordial + stanceDur, log.end),\n      });\n    }\n  }\n  let lastFireFireProcessed = 0;\n\n  let stanceStart = -1;\n  let misaligns = [];\n  let totalAligns = 0;\n  for (let event of primordial) {\n    if (event.Apply) {\n      if (stanceStart < 0) {\n        stanceStart = event.Apply;\n      }\n      continue;\n    }\n\n    if (event.Remove && stanceStart < 0) {\n      continue;\n    }\n    const stanceEnd = event.Remove;\n\n    let covered = 0;\n    const total = stanceEnd - stanceStart;\n    let ffStart = -1;\n    for (let i = lastFireFireProcessed; i < fireFire.length; i++) {\n      let ff = fireFire[i];\n      if (ff.Apply) {\n        if (ffStart < 0) {\n          ffStart = ff.Apply;\n          lastFireFireProcessed = i;\n        }\n        continue;\n      }\n\n      if (ff.Remove && ffStart < 0) {\n        continue;\n      }\n      const ffEnd = ff.Remove;\n      if (ffEnd > stanceStart && ffStart < stanceEnd) {\n        covered += Math.min(ffEnd, stanceEnd) - Math.max(stanceStart, ffStart);\n      }\n      // Wholly contained, instant good job\n      if (ffEnd < stanceEnd && ffStart > stanceStart) {\n        covered += total;\n        break;\n      }\n      ffStart = -1;\n      if (ffEnd > stanceEnd) {\n        break;\n      }\n    }\n    const coverage = covered / total;\n    totalAligns += 1;\n    if (coverage < 0.8) {\n      misaligns.push({\n        coverage: coverage,\n        mishap: new Mishap(stanceStart, stanceEnd, `${Math.floor(coverage * 100)}%`),\n      });\n    }\n    stanceStart = -1;\n  }\n\n  console.log(misaligns);\n\n  let summary = `Misaligned ${misaligns.length}/${totalAligns} Primordial Stance`;\n  if (misaligns.length !== 1) {\n    summary += 's';\n  }\n  let grade = 'D';\n  if (misaligns.length < 1) {\n    grade = 'S';\n  } else if (misaligns.length < 2) {\n    grade = 'A';\n  } else if (misaligns.length < 4) {\n    grade = 'B';\n  } else if (misaligns.length < 6) {\n    grade = 'C';\n  }\n  addReportCardItem(log, grade, summary, misaligns.map(a => a.mishap));\n}\n\nfunction checkArcaneBlasts(log) {\n  // Make sure arcane blasts benefit from the +power of fire attunement and\n  // ideally the +power of FGS\n  // it's only a ~10%? reduction of 2.2% of your dps so uh maybe not worth it\n  // also make sure it's being used enough -> 1 charge every 20 / 1.25 seconds\n  // with 3 at beginning\n\n  const recharge = 16000;\n  let nextCharge = log.start + recharge;\n  let charges = 3;\n  let overcaps = 0;\n  const mishaps = [];\n  let anyFound = false;\n  for (const cast of log.casts) {\n    if (cast.id === SkillIds.ARCANE_BLAST) {\n      anyFound = true;\n      let mishapStart = -1;\n      while (cast.start > nextCharge && nextCharge >= 0) {\n        if (charges < 3) {\n          charges += 1;\n        } else {\n          overcaps += 1;\n          mishapStart = Math.min(mishapStart, nextCharge);\n        }\n        nextCharge += recharge;\n      }\n      if (mishapStart > 0) {\n        mishaps.push(new Mishap(mishapStart, cast.start));\n      }\n\n      charges -= 1;\n      if (nextCharge < 0) {\n        nextCharge = cast.start + recharge;\n      }\n    }\n  }\n  if (nextCharge < log.end) {\n    overcaps += Math.floor((log.end - nextCharge) / recharge);\n    mishaps.push(new Mishap(nextCharge, log.end));\n  }\n  if (!anyFound) {\n    // EI doesn't track instants\n    return;\n  }\n  let grade = 'D';\n  if (overcaps < 1) {\n    grade = 'S';\n  } else if (overcaps < 2) {\n    grade = 'A';\n  } else if (overcaps < 4) {\n    grade = 'B';\n  } else if (overcaps < 6) {\n    grade = 'C';\n  }\n  if (nextCharge >= 0) {\n    const chargePlural = overcaps === 1 ? 'charge' : 'charges';\n    const summary = `Lost ${overcaps} ${chargePlural} of Arcane Blast`;\n    addReportCardItem(log, grade, summary, mishaps);\n  } else {\n    addReportCardItem(log, 'S', 'Missing Arcane Blast casts', []);\n  }\n}\n\nfunction checkAttunementTransitions(log) {\n  if (!log.buffs.hasOwnProperty(SkillIds.ATTUNEMENT_FIRE_FIRE)) {\n    // Old EI html log\n    return;\n  }\n  // Pretty sure that every attunement swap that changes the primary element\n  // should be accompanied by a skill with a long cast time\n  // fire/fire -> air/fire is fire 2 alwaaays-ish\n  // air/air -> fire/air is air 3\n  const usualTransitions = {\n    [SkillIds.FLAME_UPRISING]: true, // Flame Uprising\n    [SkillIds.QUANTUM_STRIKE]: true, // Quantum Strike\n    [SkillIds.GLYPH_OF_STORMS_FIRE]: true, // Fire Storm\n    // Fire Grab, slightly worse than Flame Uprising but as good as QS so w/e\n    [SkillIds.FIRE_GRAB]: true,\n  };\n\n  const mishaps = [];\n\n  const fireFire =\n    log.buffs[SkillIds.ATTUNEMENT_FIRE_FIRE]\n      .filter(event => event.hasOwnProperty('Remove')).values();\n  const airAir =\n    log.buffs[SkillIds.ATTUNEMENT_AIR_AIR]\n      .filter(event => event.hasOwnProperty('Remove')).values();\n\n  let ff = fireFire.next();\n  let aa = fireFire.next();\n\n  for (const cast of log.casts) {\n    while (ff.value && ff.value.Remove < cast.start) {\n      ff = fireFire.next();\n    }\n    while (aa.value && aa.value.Remove < cast.start) {\n      aa = airAir.next();\n    }\n\n    if (ff.value && ff.value.Remove < cast.end) {\n      console.log('ff transition', cast, log.skills[cast.id]);\n      if (!usualTransitions[cast.id]) {\n        mishaps.push(new Mishap(cast.start, cast.end, log.skills[cast.id]));\n      }\n    }\n    if (aa.value && aa.value.Remove < cast.end) {\n      console.log('aa transition', cast, log.skills[cast.id]);\n      if (!usualTransitions[cast.id]) {\n        mishaps.push(new Mishap(cast.start, cast.end, log.skills[cast.id]));\n      }\n    }\n  }\n\n  let grade = 'D';\n  if (mishaps.length < 1) {\n    grade = 'S';\n  } else if (mishaps.length < 3) {\n    grade = 'A';\n  } else if (mishaps.length < 6) {\n    grade = 'B';\n  } else if (mishaps.length < 14) {\n    grade = 'C';\n  }\n  let summary = `Switched attunements during ${mishaps.length} unsafe skill`;\n  if (mishaps.length !== 1) {\n    summary += 's';\n  }\n  addReportCardItem(log, grade, summary, mishaps);\n}\n\nfunction checkBuffUptime(log, buffId, targetPerc) {\n  const elements = log.buffs[buffId];\n\n  let downtime = 0;\n  let lastApply = -1;\n  let lastRemove = -1;\n  let mishaps = [];\n\n  for (let event of elements) {\n    if (event.Apply) {\n      if (lastApply < 0) {\n        if (lastRemove > 0) {\n          // Nobody's frame-perfect\n          if (event.Apply - lastRemove > 30) {\n            mishaps.push(new Mishap(lastRemove, event.Apply));\n          }\n          downtime += event.Apply - lastRemove;\n        }\n        lastApply = event.Apply;\n      }\n    }\n\n    if (event.Remove) {\n      lastRemove = event.Remove;\n      lastApply = -1;\n    }\n  }\n\n  const dropped = (downtime / 1000).toFixed(2);\n  const perc = 100 - Math.floor(100 * downtime / (log.end - log.start));\n  const name = log.skills[buffId];\n  const summary = `Had ${perc}% uptime on ${name} (dropped for ${dropped}s, target ${targetPerc}%)`;\n  let grade = 'D';\n  const percDiff = (targetPerc - perc) / targetPerc;\n  if (percDiff < 0.02) {\n    grade = 'S';\n  } else if (percDiff < 0.05) {\n    grade = 'A';\n  } else if (percDiff < 0.1) {\n    grade = 'B';\n  } else if (percDiff < 0.25) {\n    grade = 'C';\n  }\n  addReportCardItem(log, grade, summary, mishaps);\n}\n\nfunction getFGSTiming(casts) {\n  let firstStart = -1, firstEnd = -1;\n  let secondStart = -1, secondEnd = -1;\n  let isFirstFGS = true;\n  for (const cast of casts) {\n    if (isFirstFGS) {\n      // Conjure FGS\n      if (cast.id === SkillIds.CONJURE_FIERY_GREATSWORD) {\n        firstStart = cast.start;\n      }\n      // Firestorm (FGS 5)\n      if (cast.id === SkillIds.FIERY_GREATSWORD_FIRESTORM) {\n        firstEnd = cast.end;\n        isFirstFGS = false;\n      }\n    } else if (secondEnd < 0) {\n      // Fiery rush (fgs 4)\n      if (cast.id === SkillIds.FIERY_GREATSWORD_FIERY_RUSH) {\n        console.log('secondStart', cast.start);\n        secondStart = cast.start;\n      }\n      if (cast.id === SkillIds.FIERY_GREATSWORD_FIRESTORM) {\n        secondEnd = cast.end;\n      }\n    } else {\n      break;\n    }\n  }\n  return {\n    firstStart,\n    firstEnd,\n    secondStart,\n    secondEnd,\n  };\n}\n\nfunction checkFGSTiming(log, benchmark) {\n  let {\n    firstStart: benchFirstStart,\n    firstEnd: benchFirstEnd,\n    secondStart: benchSecondStart,\n    secondEnd: benchSecondEnd,\n  } = getFGSTiming(benchmark.casts);\n  let {firstStart, firstEnd, secondStart, secondEnd} = getFGSTiming(log.casts);\n  console.log(getFGSTiming(benchmark.casts), getFGSTiming(log.casts));\n  if (firstStart < 0) {\n    addReportCardItem(log, 'D', 'Didn\\'t use FGS at all', []);\n    return;\n  }\n  if (secondStart < 0) {\n    addReportCardItem(log, 'D', 'Didn\\'t pick up second FGS', []);\n    return;\n  }\n  const firstDur = firstEnd - firstStart;\n  const secondDur = secondEnd - secondStart;\n  const benchFirstDur = benchFirstEnd - benchFirstStart;\n  const benchSecondDur = benchSecondEnd - benchSecondStart;\n\n  const diff = (firstStart - log.start - benchFirstStart) +\n    (firstDur - benchFirstDur) +\n    (secondStart - log.start - benchSecondStart) +\n    (secondDur - benchSecondDur);\n\n  console.log('fgs diff', diff, firstStart, firstEnd, secondStart, secondEnd);\n\n  let grade = 'D';\n  if (diff < 500) {\n    grade = 'S';\n  } else if (diff < 1000) {\n    grade = 'A';\n  } else if (diff < 2000) {\n    grade = 'B';\n  } else if (diff < 4000) {\n    grade = 'C';\n  }\n\n  function toSecStr(x) {\n    return `${Math.round(x / 10) * 10 / 1000}s`;\n  }\n  console.log('wait what', benchSecondStart);\n  const mishaps = [\n    new Mishap(firstStart, firstEnd, `First FGS (bench is ${toSecStr(benchFirstStart)}-${toSecStr(benchFirstEnd)})`),\n    new Mishap(secondStart, secondEnd, `Second FGS (bench is ${toSecStr(benchSecondStart)}-${toSecStr(benchSecondEnd)})`),\n  ];\n\n  addReportCardItem(log, grade, `Goofed around with FGS for ${(diff / 1000).toFixed(2)} seconds`, mishaps);\n}\n\nfunction checkSkillUsage(log, skillId, options = {}) {\n  // Use on cooldown after first use\n  const skillData = SkillData.get(skillId);\n  if (!skillData) {\n    console.warn('Missing skill data', skillId);\n    return;\n  }\n\n  let recharge;\n  let countRecharge = 0;\n  for (let fact of skillData.facts) {\n    if (fact.type === 'Recharge') {\n      recharge = fact.value * 1000 / 1.25;\n    }\n    if (fact.text === 'Count Recharge') {\n      countRecharge = fact.duration * 1000 / 1.25;\n    }\n  }\n  if (!recharge) {\n    console.warn('Missing skill recharge', skillId, skillData);\n    return;\n  }\n  // TODO handle countRecharge more correctly\n  recharge = Math.max(countRecharge, recharge);\n\n  let nextCast = log.start + recharge;\n  let wastedTime = 0;\n  const mishaps = [];\n  let resets = options.resets;\n  for (const cast of log.casts) {\n    if (resets && resets.has(cast.id)) {\n      nextCast = cast.end;\n    }\n    if (cast.id === skillId) {\n      if (cast.start > nextCast) {\n        let wasted = cast.start - nextCast;\n        if (wasted > 200) {\n          mishaps.push(new Mishap(nextCast, cast.start));\n        }\n        wastedTime += wasted;\n      }\n      nextCast = cast.end + recharge;\n    }\n  }\n  let wastedCasts = Math.floor(wastedTime / recharge);\n  let grade = 'D';\n  const leniency = options.leniency || 0;\n  wastedCasts -= leniency;\n  if (wastedCasts < 1) {\n    grade = 'S';\n  } else if (wastedCasts < 2) {\n    grade = 'A';\n  } else if (wastedCasts < 4) {\n    grade = 'B';\n  } else if (wastedCasts < 6) {\n    grade = 'C';\n  }\n  wastedCasts += leniency;\n  const castPlural = wastedCasts === 1 ? 'cast' : 'casts';\n  const summary = `Lost ${wastedCasts} ${castPlural} of ${skillData.name}`;\n  addReportCardItem(log, grade, summary, mishaps);\n}\n\nfunction checkSkillPerWeaponSwap(log, skillId, expectedCasts) {\n  // Use on cooldown after first use\n  const skillData = SkillData.get(skillId);\n  if (!skillData) {\n    console.warn('Missing skill data', skillId);\n    return;\n  }\n  let isFirstWeaponSwap = true;\n  let isInWeapon = false;\n\n  let castsInWeapon = 0;\n  let start = 0;\n  let results = [];\n\n  for (const cast of log.casts) {\n    if (cast.id === SkillIds.WEAPON_SWAP) {\n      isFirstWeaponSwap = false;\n      if (isInWeapon) {\n        isInWeapon = false;\n        results.push({\n          start,\n          end: cast.end,\n          castsInWeapon\n        });\n      }\n      start = cast.start;\n    }\n    if (isFirstWeaponSwap) {\n      continue;\n    }\n    if (cast.id === skillId) {\n      if (!isInWeapon) {\n        isInWeapon = true;\n        castsInWeapon = 0;\n      }\n      castsInWeapon += 1;\n    }\n  }\n  let grade = 'D';\n  let successes = 0;\n  let mishaps = [];\n  for (let result of results) {\n    if (result.castsInWeapon === expectedCasts) {\n      successes += 1;\n      continue;\n    }\n    mishaps.push(new Mishap(result.start, result.end, `Cast ${result.castsInWeapon}/${expectedCasts} times`));\n  }\n\n  if (results.length - successes === 0) {\n    grade = 'S';\n  } else if (results.length - successes < 2) {\n    grade = 'A';\n  } else if (results.length - successes < 4) {\n    grade = 'B';\n  } else if (results.length - successes < 6) {\n    grade = 'C';\n  }\n  const timePlural = results.length === 1 ? 'time' : 'times';\n  const summary = `Cast ${skillData.name} ${expectedCasts} per swap ${successes}/${results.length} ${timePlural}`;\n  addReportCardItem(log, grade, summary, mishaps);\n}\n\nfunction checkSkillFrequency(log, skillId, expectedCastsPerSecond) {\n  // Use on cooldown after first use\n  const skillData = SkillData.get(skillId);\n  if (!skillData) {\n    console.warn('Missing skill data', skillId);\n    return;\n  }\n\n  let casts = 0;\n  for (const cast of log.casts) {\n    if (cast.id === skillId) {\n      casts += 1;\n    }\n  }\n  let grade = 'D';\n  const expectedCasts =\n    Math.floor(expectedCastsPerSecond * (log.end - log.start) / 1000);\n  if (expectedCasts - casts < 1) {\n    grade = 'S';\n  } else if (expectedCasts - casts < 2) {\n    grade = 'A';\n  } else if (expectedCasts - casts < 4) {\n    grade = 'B';\n  } else if (expectedCasts - casts < 6) {\n    grade = 'C';\n  }\n  const timePlural = casts === 1 ? 'time' : 'times';\n  const summary = `Cast ${skillData.name} ${casts}/${expectedCasts} ${timePlural}`;\n  addReportCardItem(log, grade, summary, []);\n}\n\nfunction apologizeForMissingPasses(log) {\n  addReportCardItem(log, 'S', 'Missing build-specific advice', []);\n}\n\nfunction checkBadSkillUsage(log, skillId, leniency) {\n  const skillData = SkillData.get(skillId);\n  if (!skillData) {\n    console.warn('Missing skill data', skillId);\n    return;\n  }\n  const mishaps = [];\n  for (const cast of log.casts) {\n    if (!cast.fired) {\n      continue;\n    }\n    if (cast.id === skillId) {\n      mishaps.push(new Mishap(cast.start, cast.end));\n    }\n  }\n  let grade = 'D';\n  let badCasts = mishaps.length;\n  badCasts -= leniency;\n  if (badCasts < 1) {\n    grade = 'S';\n  } else if (badCasts < 2) {\n    grade = 'A';\n  } else if (badCasts < 4) {\n    grade = 'B';\n  } else if (badCasts < 6) {\n    grade = 'C';\n  }\n  badCasts += leniency;\n  const timePlural = badCasts === 1 ? 'time' : 'times';\n  const summary = `Cast bad skill ${skillData.name} ${badCasts} ${timePlural}`;\n  addReportCardItem(log, grade, summary, mishaps);\n}\n\nfunction checkNotChained(log, skillId, maxCasts, cooldown) {\n  const skillData = SkillData.get(skillId);\n  if (!skillData) {\n    console.warn('Missing skill data', skillId);\n    return;\n  }\n  const mishaps = [];\n  let chain = [];\n  let timeLost = 0;\n  for (const cast of log.casts) {\n    if (!cast.fired) {\n      continue;\n    }\n    if (cast.id !== skillId) {\n      if (chain.length === 0) {\n        continue;\n      }\n\n      if (cast.start - chain[0].end > cooldown) {\n        chain = [];\n      }\n      continue;\n    }\n    chain.push(cast);\n\n    if (chain.length > maxCasts) {\n      mishaps.push(new Mishap(cast.start, cast.end));\n      timeLost += cast.end - cast.start;\n    }\n  }\n\n  let grade = 'D';\n  let badCasts = mishaps.length;\n  if (badCasts < 1) {\n    grade = 'S';\n  } else if (badCasts < 2) {\n    grade = 'A';\n  } else if (badCasts < 4) {\n    grade = 'B';\n  } else if (badCasts < 6) {\n    grade = 'C';\n  }\n  const timePlural = badCasts === 1 ? 'time' : 'times';\n  const summary = `Spammed ${skillData.name} too much ${badCasts} ${timePlural} (lost ${(timeLost / 1000).toFixed(2)}s)`;\n  addReportCardItem(log, grade, summary, mishaps);\n}\n\nfunction checkAmmoSkillUsage(log, skillId, recharge, maxCharges) {\n  const skillData = SkillData.get(skillId);\n  if (!skillData) {\n    console.warn('Missing skill data', skillId);\n    return;\n  }\n\n  let charges = maxCharges;\n  let nextCharge = log.start + recharge;\n  let overcaps = 0;\n  const mishaps = [];\n  let anyFound = false;\n  for (const cast of log.casts) {\n    if (cast.id === skillId) {\n      anyFound = true;\n      let mishapStart = -1;\n      while (cast.start > nextCharge && nextCharge >= 0) {\n        if (charges < maxCharges) {\n          charges += 1;\n        } else {\n          overcaps += 1;\n          mishapStart = Math.min(mishapStart, nextCharge);\n        }\n        nextCharge += recharge;\n      }\n      if (mishapStart > 0) {\n        mishaps.push(new Mishap(mishapStart, cast.start));\n      }\n\n      charges -= 1;\n      if (nextCharge < 0) {\n        nextCharge = cast.start + recharge;\n      }\n    }\n  }\n  if (nextCharge < log.end) {\n    overcaps += Math.floor((log.end - nextCharge) / recharge);\n    mishaps.push(new Mishap(nextCharge, log.end));\n  }\n  if (!anyFound) {\n    // EI doesn't track instants\n    return;\n  }\n  let grade = 'D';\n  if (overcaps < 1) {\n    grade = 'S';\n  } else if (overcaps < 2) {\n    grade = 'A';\n  } else if (overcaps < 4) {\n    grade = 'B';\n  } else if (overcaps < 6) {\n    grade = 'C';\n  }\n  if (nextCharge >= 0) {\n    const chargePlural = overcaps === 1 ? 'charge' : 'charges';\n    const summary = `Lost ${overcaps} ${chargePlural} of ${skillData.name}`;\n    addReportCardItem(log, grade, summary, mishaps);\n  }\n}\n\nfunction checkAverageSkillDuration(log, skillId, targetDuration) {\n  const skillData = SkillData.get(skillId);\n  if (!skillData) {\n    console.warn('Missing skill data', skillId);\n    return;\n  }\n  let mishaps = [];\n  let castTimes = [];\n  for (const cast of log.casts) {\n    if (cast.id === skillId) {\n      castTimes.push(cast.end - cast.start);\n      if (cast.end - cast.start > targetDuration) {\n        let diff = (cast.end - cast.start - targetDuration) / 1000;\n        mishaps.push(new Mishap(cast.start + targetDuration, cast.end, `Over by ${diff.toFixed(2)}s`));\n      }\n    }\n  }\n\n  console.log('cast times', castTimes);\n\n  let totalDiff = 0;\n  for (let time of castTimes) {\n    totalDiff += time - targetDuration;\n  }\n\n  let grade = 'D';\n  if (totalDiff < 200) {\n    grade = 'S';\n  } else if (totalDiff < 500) {\n    grade = 'A';\n  } else if (totalDiff < 1000) {\n    grade = 'B';\n  } else if (totalDiff < 2000) {\n    grade = 'C';\n  }\n  const summary = `Left ${(totalDiff / 1000).toFixed(2)}s worth of ${skillData.name} uncancelled`;\n  addReportCardItem(log, grade, summary, mishaps);\n}\n\nfunction checkWeaponSwapCadence(log, durations, startSkillId, lenient) {\n  let durI = 0;\n  let isStarted = false;\n  let lastWs = 0;\n  let results = [];\n\n  for (const cast of log.casts) {\n    if (cast.id === startSkillId) {\n      isStarted = true;\n    }\n\n    if (cast.id === SkillIds.WEAPON_SWAP) {\n      if (isStarted) {\n        let targetDur = durations[durI];\n        results.push({\n          start: lastWs,\n          end: cast.end,\n          target: targetDur,\n        });\n        durI = (durI + 1) % durations.length;\n      }\n      lastWs = cast.end;\n    }\n  }\n\n  let grade = 'F';\n  let successes = 0;\n  let mishaps = [];\n  let over = 0;\n  let maxOver = 0;\n  for (let result of results) {\n    let dur = result.end - result.start;\n    if (result.target.dur > dur) {\n      successes += 1;\n      continue;\n    }\n    let amount = dur - result.target.dur;\n    over += amount;\n    maxOver = Math.max(maxOver, amount);\n    mishaps.push(new Mishap(result.start, result.end, `Spent ${amount} ms too long in ${result.target.label}`));\n  }\n\n  if (lenient) {\n    over -= maxOver;\n  }\n\n  if (over < 50) {\n    grade = 'S';\n  } else if (over < 200) {\n    grade = 'A';\n  } else if (over < 800) {\n    grade = 'B';\n  } else if (over < 2000) {\n    grade = 'C';\n  } else if (over < 5000) {\n    grade = 'D';\n  }\n  const swapPlural = results.length === 1 ? 'swap' : 'swaps';\n  let leniencyExplanation = '';\n  if (lenient) {\n    leniencyExplanation = `, ignored ${maxOver} ms`;\n  }\n  const summary = `Swapped late by ${over} ms (${successes}/${results.length} ${swapPlural}${leniencyExplanation})`;\n  addReportCardItem(log, grade, summary, mishaps);\n}\n", "const validSpecs = {\n  // Elementalist: true,\n  Tempest: true,\n  Weaver: true,\n  Catalyst: true,\n  // Mesmer: true,\n  Chronomancer: true,\n  Mirage: true,\n  Virtuoso: true,\n  // Necromancer: true,\n  Reaper: true,\n  Scourge: true,\n  Harbinger: true,\n  // Engineer: true,\n  Scrapper: true,\n  Holosmith: true,\n  Mechanist: true,\n  // Ranger: true,\n  // Druid: true,\n  Soulbeast: true,\n  Untamed: true,\n  // Thief: true,\n  Daredevil: true,\n  Deadeye: true,\n  Specter: true,\n  Guardian: true,\n  Dragonhunter: true,\n  Firebrand: true,\n  Willbender: true,\n  // Revenant: true,\n  Herald: true,\n  Renegade: true,\n  Vindicator: true,\n  // Warrior: true,\n  Berserker: true,\n  Spellbreaker: true,\n  Bladesworn: true,\n};\n\nexport default class TargetSelect {\n  constructor(log) {\n    this.boss = log.boss || 'Unknown';\n    console.log(log.players);\n    this.players = log.players\n      .filter(player => validSpecs[player.profession]);\n    this.onSelect = this.onSelect.bind(this);\n    this.elt = null;\n    this.playerSelect = null;\n    this.listener = null;\n  }\n\n  render() {\n    this.elt = document.createElement('div');\n    this.elt.classList.add('target-select');\n\n    let bossLabel = document.createElement('div');\n    bossLabel.classList.add('target-select-boss-label');\n    bossLabel.textContent = this.boss;\n    this.elt.appendChild(bossLabel);\n\n    this.playerSelect = document.createElement('select');\n    this.playerSelect.classList.add('target-select-player-select');\n    for (let player of this.players) {\n      let playerOption = document.createElement('option');\n      playerOption.textContent = player.name;\n      playerOption.value = player.name;\n      this.playerSelect.appendChild(playerOption);\n    }\n    this.elt.appendChild(this.playerSelect);\n\n    let submit = document.createElement('input');\n    submit.classList.add('target-select-submit');\n    submit.type = 'button';\n    submit.value = 'Analyze';\n    submit.addEventListener('click', this.onSelect);\n    this.elt.appendChild(submit);\n\n    document.querySelector('.target-select-container').appendChild(this.elt);\n  }\n\n  remove() {\n    this.elt.parentNode.classList.add('hidden');\n    this.elt.parentNode.removeChild(this.elt);\n    this.playerSelect = null;\n    this.elt = null;\n  }\n\n  onSelect() {\n    let selectedPlayer = null;\n    for (let player of this.players) {\n      if (this.playerSelect.value === player.name) {\n        selectedPlayer = player;\n      }\n    }\n    this.remove();\n    this.listener(selectedPlayer);\n    this.listener = null;\n  }\n}\n", "import generateReportCard from './passes';\nimport SkillData from 'gw2-data/SkillData';\nimport SkillIds from 'gw2-data/SkillIds';\nimport TargetSelect from './TargetSelect';\nimport EIParser from './EIParser';\nimport getBenchmarkForPlayer from './benchmark';\nimport drawCastTimeline from 'ventaris-tablet/drawCastTimeline';\nimport drawBuffTimeline from 'ventaris-tablet/drawBuffTimeline';\nimport drawDpsGraph from 'ventaris-tablet/drawDpsGraph';\nimport EasterEgg from './EasterEgg';\n\nconst setupContainer = document.querySelector('.setup-container');\nsetup();\n\nasync function setup() {\n  const dpsReportText = document.querySelector('.dpsreport-text');\n  const dpsReportSubmit = document.querySelector('.dpsreport-submit');\n\n  function dpsReportListener() {\n    let urlText = dpsReportText.value.trim();\n    if (!/^https:\\/\\/dps\\.report\\/[^/]+$/.test(urlText)) {\n      alert('Paste in format https://dps.report/Sosx-20180802-193036_cairn');\n      return;\n    }\n    let url = new URL(urlText);\n    dpsReportSubmit.value = 'Fetching';\n    dpsReportSubmit.removeEventListener('click', dpsReportListener);\n    dpsReportSubmit.removeEventListener('keypress', dpsTextListener);\n    loadDpsReport(url.pathname.substr(1));\n  }\n\n  function dpsTextListener(event) {\n    if (event.key === 'Enter') {\n      dpsReportListener();\n    }\n  }\n\n  dpsReportSubmit.addEventListener('click', dpsReportListener);\n  dpsReportText.addEventListener('keypress', dpsTextListener);\n\n  let logInput = document.getElementById('log-input');\n  logInput.addEventListener('change', function() {\n    let logLabel = document.querySelector('#log-input + label');\n    logLabel.textContent = 'Parsing';\n\n    let file = logInput.files[0];\n\n    setTimeout(function() {\n      loadEIJson(file);\n    }, 100);\n  });\n  setupContainer.classList.remove('hidden');\n\n  let videoContainer = document.querySelector('.gameplay-video-container');\n  let video = document.querySelector('.gameplay-video');\n  let videoInput = document.getElementById('video-input');\n  videoInput.addEventListener('change', function() {\n    let logLabel = document.querySelector('#video-input + label');\n    logLabel.textContent = 'Uploading';\n\n    let file = videoInput.files[0];\n\n    setTimeout(function() {\n      const reader = new FileReader();\n      reader.onload = function(event) {\n        console.log('woot');\n        let source = document.createElement('source');\n        source.src = event.target.result;\n        source.type = file.type;\n\n        video.appendChild(source);\n\n        videoContainer.classList.remove('no-video');\n      };\n      reader.onprogress = function(event) {\n        if (event.lengthComputable) {\n          let percent = Math.floor(100 * event.loaded / event.total) + '%';\n          logLabel.textContent = 'Uploading ' + percent;\n        }\n      };\n\n      reader.readAsDataURL(file);\n    }, 100);\n  });\n}\n\nfunction loadEIJson(file) {\n  const reader = new FileReader();\n  reader.onload = function(event) {\n    try {\n      const contents = event.target.result;\n      let log = EIParser.parseJson(JSON.parse(contents));\n      setupContainer.classList.add('hidden');\n      displayHeader(log);\n    } catch (_e) {\n      alert('Failed to parse log file, should be JSON blob');\n    }\n  };\n  reader.readAsText(file);\n}\n\nfunction loadDpsReport(slug) {\n  EIParser.getJson(slug).then(function(log) {\n    if (!log) {\n      // TODO: should reset state of app\n      return;\n    }\n    setupContainer.classList.add('hidden');\n    displayHeader(log);\n  }).catch(_ => {\n    alert('failed to fetch that log, typo maybe?');\n  });\n}\n\nfunction displayHeader(log) {\n  console.log('log', log);\n  let targetSelect = new TargetSelect(log);\n  targetSelect.listener = function(selectedPlayer) {\n    displayLog(log, selectedPlayer);\n  };\n  targetSelect.render();\n}\n\nasync function displayLog(log, selectedPlayer) {\n  console.log(selectedPlayer, log);\n  log.casts = log.casts[selectedPlayer.id];\n  log.buffs = log.buffs[selectedPlayer.id];\n  log.targetDamage1S = log.targetDamage1S[selectedPlayer.id];\n\n  log.casts.sort(function(a, b) {\n    return a.start - b.start;\n  });\n  const usedSkills = {};\n  for (let cast of log.casts) {\n    usedSkills[cast.id] = true;\n  }\n\n  for (let id in log.skills) {\n    if (!/^[A-Z]/.test(log.skills[id])) {\n      continue;\n    }\n    usedSkills[id] = true;\n  }\n\n  let benchmark = await getBenchmarkForPlayer(log, selectedPlayer);\n\n  for (let cast of benchmark.casts) {\n    usedSkills[cast.id] = true;\n  }\n  await SkillData.load(usedSkills);\n\n  document.getElementById('benchmark-name').textContent = benchmark.name;\n  benchmark.casts.sort(function(a, b) {\n    return a.start - b.start;\n  });\n\n  document.querySelector('.container').classList.remove('hidden');\n  const width = (log.end - log.start) / 20; // 20 ms = 1 pixel\n  const railHeight = 20;\n  const railPad = 4;\n\n  const timeline = document.querySelector('.timeline');\n  const video = document.querySelector('.gameplay-video');\n  const boardContainer = document.createElement('div');\n  boardContainer.classList.add('board-container');\n  boardContainer.classList.add('show-benchmark');\n  const board = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  board.style.width = width + 'px';\n  board.classList.add('board');\n  boardContainer.appendChild(board);\n\n  const legend = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  legend.classList.add('legend');\n  legend.classList.add('show-benchmark');\n\n  const needle = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n  needle.setAttribute('x', 0);\n  needle.setAttribute('y', 0);\n  needle.setAttribute('width', 2);\n  needle.classList.add('needle');\n  board.appendChild(needle);\n\n  timeline.appendChild(legend);\n  timeline.appendChild(boardContainer);\n\n  function timeToX(time) {\n    return width * (time - log.start) / (log.end - log.start);\n  }\n\n  function xToTime(x) {\n    return (x / width) * (log.end - log.start) + log.start;\n  }\n\n  const bonusSkills = {\n    [SkillIds.ATTUNEMENT_FIRE_FIRE]: 'Fire/Fire',\n    [SkillIds.ATTUNEMENT_FIRE_AIR]: 'Fire/Air',\n    [SkillIds.ATTUNEMENT_FIRE_WATER]: 'Fire/Water',\n    [SkillIds.ATTUNEMENT_FIRE_EARTH]: 'Fire/Earth',\n    [SkillIds.ATTUNEMENT_AIR_AIR]: 'Air/Air',\n    [SkillIds.ATTUNEMENT_AIR_WATER]: 'Air/Water',\n    [SkillIds.ATTUNEMENT_AIR_FIRE]: 'Air/Fire',\n    [SkillIds.ATTUNEMENT_WATER_FIRE]: 'Water/Fire',\n    [SkillIds.ATTUNEMENT_WATER_EARTH]: 'Water/Earth',\n    [SkillIds.ATTUNEMENT_EARTH_EARTH]: 'Earth/Earth',\n    [SkillIds.ATTUNEMENT_EARTH_AIR]: 'Earth/Air',\n    [SkillIds.ATTUNEMENT_EARTH_FIRE]: 'Earth/Fire',\n  };\n\n  for (const id in bonusSkills) {\n    log.skills[id] = bonusSkills[id];\n    benchmark.skills[id] = bonusSkills[id];\n  }\n\n  // Normalization, should be in other direction but that's difficult\n  for (const cast of benchmark.casts) {\n    cast.start += log.start;\n    cast.end += log.start;\n  }\n\n  const dimensions = {\n    railHeight,\n    railPad,\n    width,\n    timeToX,\n    xToTime,\n  };\n\n  const options = {\n    showBenchmark: true,\n    showDps: true,\n    showBoringBuffs: false,\n    videoOffset: 1.8,\n    showIcons: false,\n  };\n  const showBenchmark = document.getElementById('show-benchmark');\n  showBenchmark.checked = options.showBenchmark;\n  const showDps = document.getElementById('show-dps');\n  showDps.checked = options.showDps;\n  const showBoringBuffs = document.getElementById('show-boring-buffs');\n  showBoringBuffs.checked = options.showBoringBuffs;\n  const showIcons = document.getElementById('show-icons');\n  showIcons.checked = options.showIcons;\n\n  function onChange(key) {\n    return function(event) {\n      console.log('onchange', key, event, event.target);\n      options[key] = event.target.checked;\n      drawBoard(log, benchmark, selectedPlayer, dimensions, options);\n    };\n  }\n  showBenchmark.addEventListener('change', onChange('showBenchmark'));\n  showDps.addEventListener('change', onChange('showDps'));\n  showBoringBuffs.addEventListener('change', onChange('showBoringBuffs'));\n  showIcons.addEventListener('change', onChange('showIcons'));\n\n  drawBoard(log, benchmark, selectedPlayer, dimensions, options);\n\n  let boardContainerRect = boardContainer.getBoundingClientRect();\n\n  function scrollToLogTime(logTime, scrollVideo) {\n    const logX = timeToX(logTime);\n    needle.setAttribute('x', logX);\n    if (!scrollVideo || logX < boardContainer.scrollLeft ||\n        logX > boardContainer.scrollLeft + boardContainerRect.width) {\n      boardContainer.scrollLeft = logX - boardContainerRect.width / 2;\n    }\n    if (scrollVideo) {\n      video.currentTime = (logTime - log.start) / 1000 + options.videoOffset;\n    }\n  }\n\n  board.addEventListener('click', function(event) {\n    let totalX = event.clientX + boardContainer.scrollLeft -\n      boardContainerRect.left;\n    let logTime = xToTime(totalX);\n    scrollToLogTime(logTime, true);\n  });\n\n  document.body.addEventListener('click', function(event) {\n    if (event.target.classList.contains('time-link')) {\n      event.preventDefault();\n      let start = parseFloat(event.target.dataset.start);\n      if (start) {\n        scrollToLogTime(start, true);\n      }\n    }\n  });\n\n  video.addEventListener('timeupdate', function() {\n    scrollToLogTime((video.currentTime - options.videoOffset) * 1000 +\n                    log.start);\n  });\n\n  generateReportCard(log, selectedPlayer, benchmark);\n\n  EasterEgg.attach();\n}\n\nfunction normalizeBuffOrder(log, benchmark) {\n  let newBenchBuffs = {};\n  for (let id in log.buffs) {\n    if (benchmark.buffs.hasOwnProperty(id)) {\n      newBenchBuffs[id] = benchmark.buffs[id];\n    } else {\n      benchmark.skills[id] = benchmark.skills[id] || log.skills[id];\n      newBenchBuffs[id] = [];\n    }\n  }\n  benchmark.buffs = newBenchBuffs;\n}\n\nfunction drawBoard(log, benchmark, player, dimensions, options) {\n  const {railHeight, railPad} = dimensions;\n\n  const board = document.querySelector('.board');\n  const legend = document.querySelector('.legend');\n  const needle = document.querySelector('.needle');\n  board.innerHTML = '';\n  legend.innerHTML = '';\n\n  let row = 0;\n\n  if (options.showDps) {\n    drawDpsGraph(board, log, benchmark, dimensions);\n    const dpsGraphLabel = document.createElementNS('http://www.w3.org/2000/svg',\n                                                   'text');\n    dpsGraphLabel.textContent = 'Damage per 10s';\n    dpsGraphLabel.setAttribute('x', 0);\n    dpsGraphLabel.setAttribute('y', railHeight / 2);\n    dpsGraphLabel.classList.add('name');\n    legend.appendChild(dpsGraphLabel);\n\n    row += 3;\n  }\n\n  if (options.showBenchmark) {\n    drawCastTimeline(board, log, benchmark.casts, row, dimensions, 'benchmark',\n                     options.showIcons ? 'icon' : 'name');\n\n    const name = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n    name.textContent = 'Benchmark';\n    name.setAttribute('x', 0);\n    name.setAttribute('y', row * (railHeight + railPad) + railHeight / 2);\n    name.classList.add('name');\n    legend.appendChild(name);\n\n    row += 1;\n\n    normalizeBuffOrder(log, benchmark);\n    drawBuffTimeline(board, legend, benchmark, player, row + 1, dimensions,\n                     options.showBoringBuffs, true);\n  }\n\n  drawCastTimeline(board, log, log.casts, row, dimensions, null,\n                   options.showIcons ? 'icon' : 'name');\n  const buffCount = drawBuffTimeline(board, legend, log, player, row + 1,\n                                     dimensions, options.showBoringBuffs,\n                                     false);\n\n  const rowCount = buffCount + 1 + row;\n  board.style.height = rowCount * (railHeight + railPad) - railPad + 'px';\n  legend.style.height = rowCount * (railHeight + railPad) - railPad + 'px';\n\n  needle.setAttribute('height', rowCount * (railHeight + railPad) - railPad);\n  board.appendChild(needle);\n}\n", "import SkillIds from 'gw2-data/SkillIds';\nimport EIParser from './EIParser';\n\nasync function get(id, name) {\n  const url = `./benchmarks/${id}.json`;\n  const res = await fetch(url);\n  const raw = await res.json();\n  const log = EIParser.parseJson(raw);\n  log.casts = log.casts[0];\n  log.buffs = log.buffs[0];\n  log.targetDamage1S = log.targetDamage1S[0];\n  log.id = id;\n  if (!name) {\n    log.name = id.replace(/_/g, ' ');\n  }\n  return log;\n}\n\nfunction hasCast(log, id) {\n  for (let cast of log.casts) {\n    if (cast.id === id) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction hasBuff(log, name) {\n  if (log.buffMap) {\n    for (let key in log.buffMap) {\n      if (log.buffMap[key].name === name) {\n        return true;\n      }\n    }\n  }\n  if (log.skills) {\n    for (let key in log.skills) {\n      if (log.skills[key] === name) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nconst QUICKNESS = 1187;\nfunction hasGeneration(selectedPlayer, buffId) {\n  for (let buff of selectedPlayer.buffUptimes) {\n    if (buff.id !== buffId) {\n      continue;\n    }\n    for (let buffData of buff.buffData) {\n      for (let agentName in buffData.generated) {\n        if (buffData.generated[agentName] > 0) {\n          return true;\n        }\n      }\n    }\n  }\n  return false;\n}\n\nexport default function(log, selectedPlayer) {\n  const spec = selectedPlayer.profession;\n\n  if (spec === 'Tempest') {\n    if (selectedPlayer.weapons.includes('Dagger')) {\n      let isGlyphOfStorms =\n        log.skills.hasOwnProperty(SkillIds.GLYPH_OF_STORMS_FIRE);\n      if (isGlyphOfStorms) {\n        return get('tempest_condi_gos');\n      } else {\n        return get('tempest_condi_ele');\n      }\n    } else {\n      return get('tempest_power');\n    }\n  }\n\n  if (spec === 'Weaver') {\n    let isCondi = log.skills.hasOwnProperty(SkillIds.WEAVE_SELF);\n    let isFreshAir = log.buffs.hasOwnProperty(SkillIds.FRESH_AIR);\n    if (isCondi) {\n      if (isFreshAir) {\n        let isGlyphOfStorms =\n          log.skills.hasOwnProperty(SkillIds.GLYPH_OF_STORMS_FIRE);\n        if (isGlyphOfStorms) {\n          return get('weaver_hybrid_fa');\n        } else {\n          return get('weaver_hybrid_fa_elementals');\n        }\n      }\n      if (selectedPlayer.weapons.includes('Sword')) {\n        return get('weaver_condi_sword');\n      }\n      if (selectedPlayer.weapons.includes('Scepter')) {\n        return get('weaver_condi_scepter');\n      }\n      if (selectedPlayer.weapons.includes('Dagger')) {\n        return get('weaver_condi_dagger');\n      }\n    } else if (selectedPlayer.weapons.includes('Staff')) {\n      if (isCondi) {\n        return get('weaver_condi_staff');\n      }\n      return get('weaver_power_staff');\n    } else {\n      // See if LH was cast\n      if (hasCast(log, SkillIds.CONJURE_LIGHTNING_HAMMER)) {\n        if (isFreshAir) {\n          return get('weaver_power_fa_large');\n        } else {\n          return get('weaver_power_btth_large');\n        }\n      } else if (isFreshAir) {\n        return get('weaver_power_fa_small');\n      } else {\n        return get('weaver_power_btth');\n      }\n    }\n  }\n\n  if (spec === 'Catalyst') {\n    // if (hasCast(log, SkillIds.CONJURE_FIERY_GREATSWORD)) {\n    return get('catalyst_power');\n    // }\n    // return get('catalyst_power_quick');\n  }\n\n  if (spec === 'Chronomancer') {\n    if (selectedPlayer.weapons.includes('Shield')) {\n      if (selectedPlayer.weapons.includes('Scepter')) {\n        return get('chrono_condi_boon');\n      } else {\n        return get('chrono_power_boon');\n      }\n    }\n    if (selectedPlayer.weapons.includes('Greatsword')) {\n      if (hasCast(log, SkillIds.GRAVITY_WELL)) {\n        return get('chrono_power_gs');\n      } else if (hasGeneration(selectedPlayer, QUICKNESS)) {\n        return get('chrono_power_quick_gs');\n      } else {\n        return get('chrono_power_gs');\n      }\n    } else if (selectedPlayer.weapons.includes('Scepter')) {\n      return get('chrono_condi');\n    } else if (hasCast(log, SkillIds.GRAVITY_WELL)) {\n      return get('chrono_power_focus');\n    } else if (hasGeneration(selectedPlayer, QUICKNESS)) {\n      return get('chrono_power_quick_focus');\n    } else if (selectedPlayer.weapons.includes('Pistol')) {\n      return get('chrono_power_pistol');\n    } else {\n      return get('chrono_power_focus');\n    }\n  }\n\n  if (spec === 'Mirage') {\n    if (selectedPlayer.weapons.includes('Staff')) {\n      if (selectedPlayer.weapons.includes('Axe')) {\n        return get('mirage_staxe');\n      } else {\n        return get('mirage_staff');\n      }\n    }\n    return get('mirage');\n  }\n\n  if (spec === 'Virtuoso') {\n    if (selectedPlayer.weapons.includes('Greatsword')) {\n      return get('virtuoso_gs');\n    }\n    if (hasCast(log, SkillIds.PHANTASMAL_DISENCHANTER)) {\n      return get('virtuoso_focus');\n    }\n    if (hasCast(log, SkillIds.PHANTASMAL_WARDEN)) {\n      return get('virtuoso_condi');\n    }\n    return get('virtuoso_condi_chaos');\n  }\n\n  if (spec === 'Reaper') {\n    if (selectedPlayer.weapons.includes('Scepter')) {\n      return get('reaper_condi');\n    } else {\n      return get('reaper');\n    }\n  }\n\n  if (spec === 'Scourge') {\n    return get('scourge');\n  }\n\n  if (spec === 'Harbinger') {\n    // TODO check for quickness output?\n    return get('harbinger_condi');\n  }\n\n  // Engi bench is too old\n  // if (spec === 'Engineer') {\n  //   return get('engineer');\n  // }\n\n  if (spec === 'Holosmith') {\n    if (selectedPlayer.weapons.includes('Sword')) {\n      return get('holo_power_sword');\n    } else if (selectedPlayer.weapons.includes('Rifle')) {\n      return get('holo_power_rifle');\n    } else {\n      return get('holo_condi');\n    }\n  }\n\n  if (spec === 'Scrapper') {\n    if (hasCast(log, SkillIds.SHREDDER_GYRO)) {\n      return get('scrapper_quick');\n    }\n    return get('scrapper');\n  }\n\n  if (spec === 'Mechanist') {\n    if (hasCast(log, SkillIds.SUPERCONDUCTING_SIGNET)) {\n      return get('mechanist_condi_signets');\n    }\n    if (selectedPlayer.weapons.includes('Mace')) {\n      return get('mechanist_power_alac');\n    }\n    if (hasCast(log, SkillIds.FLAME_BLAST)) {\n      return get('mechanist_condi_alac');\n    }\n    return get('mechanist_condi');\n  }\n\n  if (spec === 'Soulbeast') {\n    // Soulbeast benches are too old\n    if (selectedPlayer.weapons.includes('Shortbow')) {\n      return get('soulbeast_condi_sb');\n    } else if (selectedPlayer.weapons.includes('Torch')) {\n      // Either offhand\n      if (selectedPlayer.weapons[1] === 'Axe' || selectedPlayer.weapons[3] === 'Axe') {\n        return get('soulbeast_hybrid');\n      }\n      return get('soulbeast_condi');\n    }\n\n    if (selectedPlayer.weapons.includes('Greatsword')) {\n      return get('soulbeast_power_moa_gs');\n    } else {\n      return get('soulbeast_power_moa_lb');\n    }\n  }\n\n  if (spec === 'Untamed') {\n    if (selectedPlayer.weapons.includes('Hammer')) {\n      return get('untamed_power');\n    }\n    return get('untamed_condi');\n  }\n\n  if (spec === 'Daredevil') {\n    if (selectedPlayer.weapons.includes('Staff')) {\n      return get('daredevil_power');\n    } else {\n      return get('daredevil_condi');\n    }\n  }\n\n  if (spec === 'Deadeye') {\n    if (selectedPlayer.weapons.includes('Rifle')) {\n      return get('deadeye_rifle');\n    } else if (selectedPlayer.weapons.includes('Pistol')) {\n      return get('deadeye_condi');\n    }\n  }\n  // Deadeye dagger bench is too old\n  //     return get('deadeye_dagger');\n\n  if (spec === 'Specter') {\n    if (hasCast(log, SkillIds.WELL_OF_BOUNTY)) {\n      return get('specter_condi_alac');\n    }\n    return get('specter_condi');\n  }\n\n  if (spec === 'Dragonhunter') {\n    if (selectedPlayer.weapons.includes('Sword')) {\n      if (hasCast(log, SkillIds.SHIELD_OF_COURAGE)) {\n        return get('dragonhunter_sword_virtues');\n      } else {\n        return get('dragonhunter_sword');\n      }\n    } else if (selectedPlayer.weapons.includes('Longbow')) {\n      return get('dragonhunter_longbow');\n    } else {\n      return get('dragonhunter_scepter');\n    }\n  }\n\n  if (spec === 'Guardian') {\n    return get('guardian');\n  }\n\n  if (spec === 'Firebrand') {\n    if (hasCast(log, SkillIds.RENEWED_FOCUS)) {\n      return get('firebrand_condi');\n    } else if (selectedPlayer.weapons.includes('Greatsword')) {\n      return get('firebrand_condi_gs');\n    } else {\n      return get('firebrand_condi_quick');\n    }\n  }\n\n  if (spec === 'Willbender') {\n    if (hasCast(log, SkillIds.PURGING_FLAMES)) {\n      if (selectedPlayer.weapons.includes('Greatsword')) {\n        return get('willbender_condi_gs');\n      }\n      if (hasBuff(log, 'Flowing Resolve')) {\n        return get('willbender_condi_alac_sword');\n      }\n      return get('willbender_condi_sword');\n    }\n    return get('willbender_power_focus');\n  }\n\n  if (spec === 'Herald') {\n    if (selectedPlayer.weapons.includes('Sword')) {\n      if (hasCast(log, SkillIds.FACET_OF_LIGHT)) {\n        return get('herald_boon');\n      } else {\n        return get('herald_power');\n      }\n    } else {\n      return get('herald_condi');\n    }\n  }\n\n  if (spec === 'Renegade') {\n    if (selectedPlayer.weapons.includes('Sword')) {\n      return get('renegade_alac');\n    }\n\n    let isDeva = log.buffs.hasOwnProperty(SkillIds.BATTLE_SCARS);\n\n    if (log.buffs.hasOwnProperty(SkillIds.LEGENDARY_ASSASSIN_STANCE)) {\n      return get('renegade_shiro');\n    } else if (isDeva) {\n      return get('renegade_deva_kalla');\n    } else {\n      return get('renegade_kalla');\n    }\n  }\n\n  if (spec === 'Vindicator') {\n    if (selectedPlayer.weapons.includes('Sword')) {\n      return get('vindicator_power_sword');\n    }\n    return get('vindicator_power_gs');\n  }\n\n  // Warrior bench is too old\n  // if (spec === 'Warrior') {\n  //   return get('warrior_banners');\n  // }\n\n  if (spec === 'Berserker') {\n    let isCondi = selectedPlayer.weapons.includes('Longbow');\n    if (isCondi) {\n      if (hasCast(log, SkillIds.SUNDERING_LEAP)) {\n        return get('berserker_condi');\n      } else {\n        return get('berserker_condi_banners');\n      }\n    } else if (hasCast(log, SkillIds.THROW_BOLAS)) {\n      return get('berserker_power');\n    } else {\n      return get('berserker_power_banners');\n    }\n  }\n\n  // Spellbreaker is hopefully banners\n  if (spec === 'Spellbreaker') {\n    return get('spellbreaker_banners');\n  }\n\n  if (spec === 'Bladesworn') {\n    if (hasBuff(log, 'Signet of Fury')) {\n      return get('bladesworn_power');\n    }\n    return get('bladesworn_banners');\n  }\n\n  return Promise.resolve({\n    targetDamage10S: [],\n    casts: [],\n  });\n}\n", "import SkillData from 'gw2-data/SkillData';\nimport SkillIds from 'gw2-data/SkillIds';\n\nconst boringSkills = {\n  [SkillIds.PRIMORDIAL_STANCE_EFFECT]: true, // Primordial Stance\n};\n\nconst specialCaseSkillNames = {\n  5663: '4', // FGS skill 4\n  43995: 'F2', // Gazelle charge\n};\n\nconst namesSpecterShroud = {\n  'Haunt Shot': '1',\n  'Grasping Shadows': '2',\n  'Dawn\\'s Repose': '3',\n  'Eternal Night': '4',\n  'Mind Shock': '5',\n};\n\nfunction castSkillIcon(cast) {\n  let data = SkillData.get(cast.id);\n  if (!data || !data.icon) {\n    return;\n  }\n  return data.icon;\n}\n\nfunction castSkillName(cast, skills) {\n  let data = SkillData.get(cast.id);\n  if (data && data.slot) {\n    let content = '';\n    // Downed_\\d is for shroud/forge skills\n    let matches = data.slot.match(/(Weapon|Downed)_(\\d)/);\n    if (matches && matches.length > 0) {\n      content = matches[2];\n      if (data.prev_chain && !data.next_chain) {\n        content += 'f';\n      }\n    } else if (data.slot === 'Elite') {\n      content = 'E';\n    } else if (data.slot === 'Utility') {\n      content = 'U';\n    } else if (data.slot === 'Heal') {\n      content = 'H';\n    } else if (data.slot === 'Toolbelt') {\n      content = 'T';\n    } else {\n      let profMatches = data.slot.match(/Profession_(\\d)/);\n      if (profMatches && profMatches.length > 0) {\n        content = 'F' + profMatches[1];\n      }\n    }\n    return content;\n  } else if (skills[cast.id]) {\n    let skillName = skills[cast.id];\n    if (skillName === 'Dodge') {\n      return 'D';\n    } else if (skillName.startsWith('Chapter')) {\n      let chapter = skillName.match(/Chapter (\\d)/);\n      if (chapter && chapter.length > 0) {\n        return 'C' + chapter[1];\n      }\n    } else if (skillName.startsWith('Epilogue')) {\n      return 'C5'; // Based on feedback! :D\n    } else if (namesSpecterShroud.hasOwnProperty(skillName)) {\n      return namesSpecterShroud[skillName];\n    }\n  }\n\n  if (specialCaseSkillNames.hasOwnProperty(cast.id)) {\n    return specialCaseSkillNames[cast.id];\n  }\n}\n\nfunction drawCasts(board, log, casts, row, dimensions, rectClass,\n                   labelMode = 'icon') {\n  const {railHeight, railPad, timeToX} = dimensions;\n\n  for (const cast of casts) {\n    if (boringSkills[cast.id]) {\n      continue;\n    }\n    const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n\n    const title = document.createElementNS('http://www.w3.org/2000/svg',\n                                           'title');\n    let label = log.skills[cast.id] || cast.id;\n    const startLabel = `${((cast.start - log.start) / 1000).toFixed(2)}s`;\n    const durLabel = `${((cast.end - cast.start) / 1000).toFixed(2)}s`;\n    label += ` (${startLabel}, ${durLabel})`;\n    title.textContent = label;\n\n    const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n    rect.classList.add('cast');\n    if (!cast.fired) {\n      g.classList.add('cancel');\n    }\n    if (rectClass) {\n      rect.classList.add(rectClass);\n    }\n\n    let skillIcon = castSkillIcon(cast);\n    let icon = null;\n\n    if (labelMode === 'icon') {\n      if (skillIcon) {\n        icon = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n        icon.setAttribute('x', timeToX(cast.start));\n        icon.setAttribute('y', (railHeight + railPad) * row + 1);\n        icon.setAttribute('width', railHeight - 2);\n        icon.setAttribute('height', railHeight - 2);\n        icon.classList.add('icon');\n        icon.setAttribute('href', skillIcon);\n      } else {\n        console.warn('No label for skill', cast.id, log.skills[cast.id]);\n      }\n    }\n\n    let skillName = castSkillName(cast, log.skills);\n    let text = null;\n    if (labelMode === 'name' || !icon) {\n      if (skillName) {\n        text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n        text.setAttribute('x', timeToX(cast.start));\n        text.setAttribute('y', (railHeight + railPad) * row + railHeight / 2);\n        text.classList.add('name');\n        text.textContent = skillName;\n      } else {\n        console.warn('No label for skill', cast.id, log.skills[cast.id]);\n      }\n    }\n\n    rect.setAttribute('x', timeToX(cast.start));\n    rect.setAttribute('y', (railHeight + railPad) * row);\n    const width = timeToX(cast.end) - timeToX(cast.start);\n    if (width > 6) {\n      rect.setAttribute('width', width);\n    } else {\n      rect.setAttribute('width', 2);\n      rect.classList.add('cast-instant');\n    }\n\n    rect.setAttribute('height', railHeight);\n\n    g.appendChild(title);\n    g.appendChild(rect);\n    if (icon) {\n      g.appendChild(icon);\n    }\n    if (text) {\n      g.appendChild(text);\n    }\n    board.appendChild(g);\n  }\n}\n\nexport default drawCasts;\n", "import SkillIds from 'gw2-data/SkillIds';\n\nconst boringBuffs = {\n  'Do Nothing Transformation Buff': true,\n  'Conjure Fire Attributes': true,\n  'Conjure Fiery Greatsword': true,\n  'Number of Boons': true,\n  'Ride the Lightning': true,\n  'Signet of Restoration': true,\n  'Elemental Refreshment': true,\n  'The Light of Deldrimor': true,\n  'Hylek Language Effect': true,\n  'Incoming!': true,\n  'Jump Mushroom Knowledge': true,\n  'Mushroom Tracking Knowledge': true,\n  'Nuhoch Alchemy': true,\n  'Radiant Attunement': true,\n  'Speed Mushroom Knowledge': true,\n  'Solar Beam': true,\n  'Stealth Gliding': true,\n  'Xera\\'s Fury': true,\n};\n\nconst profSpecificBuffs = {\n  // Weaver\n  'Fire/Fire': 0,\n  'Earth/Fire': 1,\n  'Earth/Earth': 2,\n  'Fire/Earth': 3,\n  'Fire/Water': 4,\n  'Water/Fire': 5,\n  'Water/Earth': 6,\n  'Air/Water': 7,\n  'Air/Fire': 8,\n  'Air/Air': 9,\n  'Fire/Air': 10,\n  'Primordial Stance': 11,\n  'Elements of Rage': 12,\n  'Signet of Fire': 13,\n  'Glyph of Elemental Power (Fire)': 14,\n  'Magnetic Wave': 15,\n  'Weaver\\'s Prowess': 16,\n  'Persistent Flames': 17,\n  'Fire Aura': 18,\n  // Tempest\n  'Air Attunement': 0,\n  'Earth Attunement': 1,\n  'Fire Attunement': 2,\n  'Water Attunement': 3,\n  'Transcendent Tempest': 4,\n  // Catawyst\n  'Crescent Wind': 5,\n  'Rocky Loop': 6,\n  'Flame Wheel': 7,\n  'Icy Coil': 8,\n  'Relentless Fire': 9,\n  'Elemental Empowerment':  10,\n  'Empowering Auras': 11,\n\n  // Chrono\n  'Fencer\\'s Finess': 0,\n  'Time Anchored': 1,\n  'Signet of the Ether': 2,\n  // Mirage\n  'Mirage Cloak': 0,\n  'Compounding Power': 1,\n  'Chaos Armor': 3,\n  // Virtuoso\n  'Deadly Blades': 4,\n  'Virtuoso Blade': 5,\n  'Signet of Illusions': 6,\n\n  // Reaper\n  'Reaper\\'s Shroud': 0,\n  // Scourge\n  'Plague Sending': 1,\n  'Soul Barbs': 2,\n  // Harbinger\n  'Harbinger Shroud': 0,\n  'Blight': 3,\n  'Locust Swarm': 4,\n\n  // Daredevil\n  'Assassin\\'s Signet (Passive)': 0,\n  'Assassin\\'s Signet (Active)': 1,\n  'Bounding Dodger': 2,\n  Revealed: 3,\n  'Lead Attacks': 4,\n  'Lotus Training': 5,\n  'Skale Venom': 6,\n  'Spider Venom': 7,\n  // Specter\n  'Shadow Shroud': 0,\n  // Deadeye\n  'Kneeling': 8,\n  'Deadeye\\'s Gaze': 9,\n\n  // Soulbeast\n  'One Wolf Pack': 0,\n  'Sharpening Stone': 1,\n  'Sic \\'Em!': 2,\n  'Twice as Vicious': 3,\n  // Untamed\n  'Unleashed': 2,\n  'Pet Unleashed': 3,\n\n  // Holosmith\n  'Photon Forge': 0,\n  'Afterburner': 1,\n\n  // Mechanist (nothing interesting yet)\n  // Scrapper (stability added based on profession)\n\n  // Renegade\n  'Legendary Demon Stance': 0,\n  'Legendary Assassin Stance': 1,\n  'Legendary Renegade Stance': 2,\n  'Legendary Dragon Stance': 3,\n  'Legendary Alliance Stance': 4,\n  'Embrace the Darkness': 5,\n  'Impossible Odds': 6,\n  'Razorclaw\\'s Rage': 7,\n  'Improved Kalla\\'s Fervor': 8,\n  // Herald\n  'Facet of Nature': 9,\n  'Facet of Light': 10,\n  'Facet of Elements': 11,\n  'Facet of Darkness': 12,\n  'Facet of Strength': 13,\n  'Burst of Strength': 14,\n  'Facet of Chaos': 15,\n  'Expose Defenses': 16,\n  // Vindicator\n  'Forerunner of Death': 9,\n\n  // Firebrand\n  'Zealot\\'s Flame': 0,\n  'Renewed Focus': 1,\n  'Ashes of the Just': 2,\n  // Dragonhunter\n  'Symbolic Avenger': 0,\n  'Shield of Wrath': 1,\n  'Spear of Justice': 2,\n  Justice: 3,\n  // Willbender\n  'Lethal Tempo': 8,\n  'Rushing Justice': 9,\n  // Guardian\n  'Inspiring Virtue': 4,\n  'Virtue of Courage': 5,\n  'Virtue of Justice': 6,\n  'Virtue of Resolve': 7,\n};\n\nfunction recreateJusticeFromSpearPassive(log) {\n  const buffs = log.buffs;\n  if (!buffs.hasOwnProperty(SkillIds.SPEAR_OF_JUSTICE)) {\n    console.log('no spear', log);\n    return;\n  }\n  const soj = buffs[SkillIds.SPEAR_OF_JUSTICE];\n  const fakeJusticeEvents = [];\n  for (const buffEvent of soj) {\n    if (!buffEvent.hasOwnProperty('Remove')) {\n      continue;\n    }\n    const time = buffEvent.Remove;\n    if (time === 0) {\n      continue;\n    }\n    const justiceDur = 6000 * 1.33; // 6000 base plus Big Game Hunter trait\n    fakeJusticeEvents.push({Apply: time});\n    fakeJusticeEvents.push({Remove: time + justiceDur});\n  }\n  buffs[SkillIds.JUSTICE] = fakeJusticeEvents;\n  log.skills[SkillIds.JUSTICE] = 'Justice';\n  console.log('did the thing', log);\n}\n\nfunction createBuffElement(x, y, height, outlineOnly) {\n  const group = document.createElementNS('http://www.w3.org/2000/svg',\n                                         'g');\n  const title = document.createElementNS('http://www.w3.org/2000/svg',\n                                         'title');\n  const rect = document.createElementNS('http://www.w3.org/2000/svg',\n                                        'rect');\n  rect.setAttribute('x', x);\n  rect.setAttribute('y', y);\n  rect.setAttribute('height', height);\n  rect.classList.add('buff');\n  if (outlineOnly) {\n    rect.classList.add('buff-outline');\n  } else {\n    group.appendChild(title);\n  }\n  group.appendChild(rect);\n  return group;\n}\n\nfunction finalizeBuffElement(buffElement, timeToX, end) {\n  const rect = buffElement.querySelector('rect');\n  rect.setAttribute('width', timeToX(end) -\n                    rect.getAttribute('x'));\n  const title = buffElement.querySelector('title');\n  if (!title) {\n    return;\n  }\n  const start = parseFloat(buffElement.dataset.start);\n  const startStr =\n    (parseFloat(buffElement.dataset.start) / 1000).toFixed(2);\n  const duration = ((end - start) / 1000).toFixed(2);\n  title.textContent = `${startStr}s, ${duration}s`;\n}\n\nfunction draw(board, legend, log, player, startRow, dimensions, showBoring,\n              outlineOnly) {\n  const {railHeight, railPad, timeToX} = dimensions;\n\n  recreateJusticeFromSpearPassive(log);\n\n  if (player.profession === 'Weaver') {\n    Object.assign(boringBuffs, {\n      'Fire Attunement': true,\n      'Water Attunement': true,\n      'Air Attunement': true,\n      'Earth Attunement': true,\n    });\n  }\n\n  if (player.profession === 'Scrapper') {\n    Object.assign(profSpecificBuffs, {\n      'Stability': 0,\n    });\n  }\n\n  for (let id in log.buffs) {\n    if (!log.skills[id]) {\n      console.warn('Missing skill name', id);\n      log.skills[id] = `${id}`;\n    }\n  }\n\n  let buffs = log.buffs;\n\n  if (!showBoring) {\n    buffs = {};\n    for (const id in log.buffs) {\n      const buffName = log.skills[id];\n      if (boringBuffs.hasOwnProperty(buffName)) {\n        continue;\n      }\n      if (profSpecificBuffs.hasOwnProperty(buffName)) {\n        buffs[id] = log.buffs[id];\n      }\n    }\n  }\n\n  const buffIds = Object.keys(buffs).sort((a, b) => {\n    let aName = log.skills[a];\n    let bName = log.skills[b];\n    if (profSpecificBuffs.hasOwnProperty(aName)) {\n      if (profSpecificBuffs.hasOwnProperty(bName)) {\n        return profSpecificBuffs[aName] - profSpecificBuffs[bName];\n      }\n      return -1;\n    } else if (profSpecificBuffs.hasOwnProperty(bName)) {\n      return 1;\n    }\n    return aName.localeCompare(bName);\n  });\n\n  let row = startRow;\n  for (const buffId of buffIds) {\n    // if (/^[+(12]/.test(skills[buffId])) {\n    //   continue;\n    // }\n    if (!/^[A-Z]/.test(log.skills[buffId])) {\n      continue;\n    }\n\n    if (log.skills[buffId].startsWith('Guild')) {\n      continue;\n    }\n\n    if (boringBuffs[log.skills[buffId]]) {\n      continue;\n    }\n\n    const buffElements = [];\n    for (const event of buffs[buffId]) {\n      if (event.Apply) {\n        const buffElement = createBuffElement(\n          timeToX(event.Apply), (railHeight + railPad) * row, railHeight,\n          outlineOnly);\n        buffElement.dataset.start = event.Apply;\n        buffElements.push(buffElement);\n      }\n      if (event.Remove) {\n        let buffElement = buffElements.pop();\n        if (!buffElement) {\n          buffElement = createBuffElement(\n            timeToX(log.start), (railHeight + railPad) * row, railHeight,\n            outlineOnly);\n          buffElement.dataset.start = log.start;\n        }\n        finalizeBuffElement(buffElement, timeToX, event.Remove);\n        board.appendChild(buffElement);\n      }\n    }\n    for (const buffElement of buffElements.reverse()) {\n      finalizeBuffElement(buffElement, timeToX, log.end);\n      board.appendChild(buffElement);\n    }\n\n    if (!outlineOnly) {\n      const name = document.createElementNS('http://www.w3.org/2000/svg',\n                                            'text');\n      name.textContent = log.skills[buffId];\n      name.setAttribute('x', 0);\n      name.setAttribute('y', row * (railHeight + railPad) + railHeight / 2);\n      name.classList.add('name');\n      legend.appendChild(name);\n    }\n    row += 1;\n  }\n\n  return row - startRow;\n}\n\nexport default draw;\n", "function getDps10s(targetDamage) {\n  const dps10s = new Array(targetDamage.length);\n  let max = 0;\n\n  for (let i = 0; i < targetDamage.length; i++) {\n    let damagePast = 0;\n    if (i >= 10) {\n      damagePast = targetDamage[i - 10];\n    }\n    let damagePresent = targetDamage[i];\n    let dps = (damagePresent - damagePast) / 10;\n    dps10s[i] = dps;\n    max = Math.max(dps, max);\n  }\n  return {dps10s, max};\n}\n\nfunction dpsToY(dpsMax, dimensions, linearScaling) {\n  const {railHeight, railPad} = dimensions;\n  let height = (railHeight + railPad) * 2 + railPad;\n  if (linearScaling) {\n    return function(dps) {\n      return height - dps / dpsMax * height + railPad;\n    };\n  }\n  let max = dpsMax * 1.5;\n  let logMax = Math.log(max - dpsMax);\n  let logMin = Math.log(max);\n  return function(dps) {\n    const logY = Math.log(max - dps);\n    const y = (logMax - logY) / (logMax - logMin) * height + railPad;\n    return y;\n  };\n}\n\nfunction getPath(log, dps10s, dpsMax, dimensions, linearScaling) {\n  const {timeToX} = dimensions;\n\n  let points = '';\n  let toY = dpsToY(dpsMax, dimensions, linearScaling);\n\n  for (let i = 0; i < dps10s.length; i++) {\n    let x = timeToX(i * 1000 + log.start);\n    let y = toY(dps10s[i]);\n    if (i === 0) {\n      points += 'M';\n    } else {\n      points += 'L';\n    }\n    points += x + ' ' + y + ' ';\n  }\n  const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n\n  path.setAttribute('d', points);\n  path.classList.add('dps-path');\n  return path;\n}\n\nclass Tooltip {\n  constructor(container, dps10s, benchDps10s, dpsMax, dimensions) {\n    this.dps10s = dps10s;\n    this.benchDps10s = benchDps10s;\n    this.timeToX = dimensions.timeToX;\n    this.toY = dpsToY(dpsMax, dimensions);\n\n    this.elt = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n    this.elt.classList.add('tooltip');\n    this.elt.classList.add('tooltip-hidden');\n\n    this.diffLine = document.createElementNS('http://www.w3.org/2000/svg',\n                                             'path');\n    this.diffLine.classList.add('tooltip-path');\n\n    this.explanation = document.createElementNS('http://www.w3.org/2000/svg',\n                                                'text');\n    this.explanation.classList.add('tooltip-explanation');\n\n    this.elt.appendChild(this.diffLine);\n    this.elt.appendChild(this.explanation);\n\n    container.appendChild(this.elt);\n  }\n\n  show(logTimeMs, time) {\n    if (time < 0) {\n      return;\n    }\n\n    let x = this.timeToX(logTimeMs);\n    this.elt.setAttribute('transform', `translate(${x} 0)`);\n\n    this.diffLine.setAttribute('d', '');\n\n    let expl = '';\n    let explY = 0;\n    if (time < this.dps10s.length) {\n      let dps = this.dps10s[time];\n      let dpsY = this.toY(dps);\n      explY = dpsY;\n\n      if (time < this.benchDps10s.length) {\n        let benchDps = this.benchDps10s[time];\n        let benchDpsY = this.toY(benchDps);\n        explY = Math.min(explY, (dpsY + benchDpsY) / 2);\n\n        let diffPath = `M0 ${dpsY} L0 ${benchDpsY}`;\n        this.diffLine.setAttribute('d', diffPath);\n\n        let diff = dps - benchDps;\n        let dir = diff > 0 ? 'Ahead' : 'Behind';\n        expl = `${dir} ${Math.abs(Math.round(diff))} at ${time}s (${Math.round(dps)} vs ${Math.round(benchDps)})`;\n      } else {\n        expl = `${Math.round(dps)}`;\n      }\n    }\n    this.explanation.textContent = expl;\n    this.explanation.setAttribute('x', 2);\n    this.explanation.setAttribute('y', explY);\n\n    this.elt.classList.remove('tooltip-hidden');\n  }\n\n  hide() {\n    this.elt.classList.add('tooltip-hidden');\n  }\n}\n\nfunction draw(board, log, benchmark, dimensions, linearScaling) {\n  const {railHeight, railPad, xToTime} = dimensions;\n  const {dps10s, max} = getDps10s(log.targetDamage1S);\n  const {dps10s: benchDps10s, max: benchMax} =\n    getDps10s(benchmark.targetDamage1S);\n  const realMax = Math.max(max, benchMax);\n\n  const path = getPath(log, dps10s, realMax, dimensions, linearScaling);\n  const benchPath = getPath(log, benchDps10s, realMax, dimensions, linearScaling);\n  benchPath.classList.add('dps-path-benchmark');\n\n  board.appendChild(benchPath);\n  board.appendChild(path);\n\n  let height = (railHeight + railPad) * 2 + railPad;\n\n  const tooltip = new Tooltip(board, dps10s, benchDps10s, realMax, dimensions);\n  const boardContainer = board.parentNode;\n  let boardContainerRect;\n\n  function onMouseLeave() {\n    tooltip.hide();\n  }\n\n  function onMouseMove(event) {\n    if (!boardContainerRect) {\n      boardContainerRect = boardContainer.getBoundingClientRect();\n    }\n    // if (event.clientY - boardContainerRect.top > height) {\n    //   tooltip.hide();\n    //   return;\n    // }\n    let totalX = event.clientX + boardContainer.scrollLeft -\n      boardContainerRect.left;\n    let logTime = xToTime(totalX);\n    let elapsed = Math.round((logTime - log.start) / 1000);\n    tooltip.show(elapsed * 1000 + log.start, elapsed);\n  }\n\n  board.addEventListener('mousemove', onMouseMove);\n  board.addEventListener('mouseleave', onMouseLeave);\n}\n\nexport default draw;\n", "const konamiKeys = [\n  'ArrowUp',\n  'ArrowUp',\n  'ArrowDown',\n  'ArrowDown',\n  'ArrowLeft',\n  'ArrowRight',\n  'ArrowLeft',\n  'ArrowRight',\n  'b',\n  'a',\n  'Enter',\n];\n\nconst substitutions = {\n  notAGoodPlayer: [\n    `you are $bad`, `you make me sick`,\n    `you should have slash gee geed before you logged in`,\n    `you should uninstall`, `uninstall`, `unplug your computer`,\n    `you are too heavy for north america, go to europe`,\n    `you must be from north america`,\n    `is that you jil`, `go back to ERPing`,\n    `I digital vomited in my digital mouth`, `go play $mmo`,\n    `think about all the people you have let down with your $bad gameplay`,\n    `if you want to be rewarded for being so $bad just play $mmo`,\n    `blocked and reported`,\n    `why not try some world bosses instead`,\n    // `gwen called, she saw you try to be a mesmer and wants you to uninstall`,\n    `gwen called, she wants you to uninstall`,\n    `you made taimi cry`,\n    `you make gorrik wish he could have joined blish`,\n    `palawa joko came back but you are so $bad it killed him again`,\n    `I would rather be in the realm of torment than evaluating gameplay this $bad`,\n    `thank you for giving me your account name so I can block you`,\n  ],\n  wastedTime: [\n    `in that time I simulated $bigNumber universes, in all of them you were $bad`,\n    `it took me zero point zero zero $number $number seconds to realize you will never get good`,\n    `it takes just two minutes to uninstall`,\n    `you could have downloaded $mmo in that time`,\n    `were you $afk`,\n  ],\n  afraid: [`afraid`, `scared`],\n  bad: [`trash`, `bad`, `terrible`, `garbage`, `subpar`, `disappointing`],\n  mmo: [`wow`, `ffxiv`, `eso`, `runescape`, `guild wars one`],\n  bigNumber: [\n    `$number billion`,\n    `$number hundred $doubleDigitNumber million $number hundred $doubleDigitNumber thousand $number hundred $doubleDigitNumber`,\n  ],\n  number: [`one`, `two`, `three`, `four`, `five`, `six`, `seven`, `eight`, `nine`],\n  doubleDigitNumber: [\n    `seventeen`,\n    `twelve`,\n    `twenty $number`,\n    `thirty $number`,\n    `forty $number`,\n    `fifty $number`,\n    `sixty $number`,\n    `seventy $number`,\n    `eighty $number`,\n    `ninety $number`,\n  ],\n  afk: [\n    `afk`,\n    `walking the dog`,\n    `on a bio break`,\n    `busy losing a raid tournament because you messed up reflect`,\n  ],\n  lostCast: [\n    `you may hate $spell but I hate your inability to play more`,\n    `you do realize $spell does damage`,\n    `$spell is your friend, unlike me`,\n    `poor thing, in your hands $spell is just as nonexistent as zojja`,\n  ],\n};\nconst substitutionsOriginal = JSON.stringify(substitutions);\n\nfunction substitute(text) {\n  while (text.includes('$')) {\n    const match = /\\$(\\w+)/.exec(text);\n    if (!match) {\n      return text;\n    }\n    const choices = substitutions[match[1]];\n    if (!choices || choices.length === 0) {\n      console.warn('Unable to substitute', match[1]);\n      return text;\n    }\n\n    const choiceI = Math.floor(Math.random() * choices.length);\n    const choice = choices[choiceI];\n    text = text.replace(match[0], choice);\n  }\n  return text;\n}\n\nfunction getText() {\n  const reportCardItems = document.querySelectorAll('.report-card-item');\n  if (reportCardItems.length === 0) {\n    return 'too $afraid to upload a log? $notAGoodPlayer';\n  }\n  let text = '';\n\n  for (const item of reportCardItems) {\n    const grade = item.querySelector('.grade').textContent;\n    if (grade === 'S') {\n      continue;\n    }\n    let explanation = `you ${item.querySelector('.explanation').textContent.toLowerCase()}.`;\n    explanation = explanation.replace('/', ' out of an ideal ');\n    let startToken = 'notAGoodPlayer';\n    if (Math.random() > 0.3) {\n      if (explanation.includes('cast')) {\n        startToken = 'lostCast';\n      } else if (explanation.includes('seconds')) {\n        startToken = 'wastedTime';\n      }\n    }\n    const insults = substitutions[startToken];\n    if (item.dataset.spell) {\n      substitutions.spell = [item.dataset.spell];\n    } else {\n      substitutions.spell = [\n        'that spell',\n        'that ability',\n        'that skill',\n        'that spell',\n        'that ability',\n        'that skill',\n        'pressing keys',\n      ];\n    }\n    const insultI = Math.floor(Math.random() * insults.length);\n    const insult =\n      substitute(insults[insultI]);\n\n    substitutions[startToken].splice(insultI, 1);\n    if (substitutions[startToken].length === 0) {\n      substitutions[startToken] = JSON.parse(substitutionsOriginal)[startToken];\n    }\n    text += `${explanation} ${insult}. `;\n  }\n  if (text === '') {\n    return 'maybe you aren\\'t completely $bad. just kidding, $notAGoodPlayer';\n  }\n  return text;\n}\n\nfunction speak(text) {\n  const synth = window.speechSynthesis;\n  const utterance = new SpeechSynthesisUtterance(text);\n  for (let voice of synth.getVoices()) {\n    if (voice.name === 'Daniel') {\n      utterance.voice = voice;\n    }\n  }\n  utterance.rate = 1.2;\n  synth.speak(utterance);\n}\n\nfunction doTheThing() {\n  const text = getText();\n  console.log('doing the thing', text);\n  speak(text);\n}\n\nlet index = 0;\nexport default {\n  attach: function() {\n    document.body.addEventListener('keydown', function(event) {\n      let expectedKey = konamiKeys[index];\n      if (event.key !== expectedKey) {\n        index = 0;\n        return;\n      }\n      index += 1;\n      if (index >= konamiKeys.length) {\n        doTheThing();\n        index = 0;\n      }\n    });\n  },\n};\n"],
  "mappings": "giBAAA,IAAAA,EAAAC,GAAA,CAAAC,GAAAC,KAAA,gBAAeC,GAAQC,EAAW,CAEhC,IAAMC,EAAO,MADD,MAAM,MAAM,wCAAwCD,GAAW,GACpD,KAAK,EAE5B,GAAIC,EAAK,eAAe,OAAO,EAAG,CAChC,MAAM,uDAAuDA,EAAK,QAAQ,EAC1E,MACF,CACA,OAAOC,GAAeD,EAAM,CAAC,CAAC,CAChC,CAEA,SAASE,GAAUF,EAAM,CACvB,OAAOC,GAAeD,EAAM,CAAC,CAAC,CAChC,CAEA,SAASC,GAAeE,EAAQC,EAAW,CACzC,GAAID,EAAO,SACT,QAAWE,KAAYF,EAAO,SAAU,CACtC,IAAMG,EAAQH,EAAO,SAASE,GACzBC,EAAM,KACTA,EAAM,GAAKD,EAAS,OAAO,CAAC,GAE9BD,EAAU,KAAKE,CAAK,CACtB,CAEF,GAAIH,EAAO,QACT,QAAWI,KAAWJ,EAAO,QAAS,CACpC,IAAMK,EAAOL,EAAO,QAAQI,GACvBC,EAAK,KACRA,EAAK,GAAKD,EAAQ,OAAO,CAAC,GAE5BH,EAAU,KAAKI,CAAI,CACrB,CAGF,IAAIC,EAAW,CAAC,EACZC,EAAW,CAAC,EACZC,EAAiB,CAAC,EAElBC,EAAUT,EAAO,QAAQ,IAAI,CAACU,EAAQC,IACjC,OAAO,OAAO,CACnB,GAAIA,CACN,EAAGD,CAAM,CACV,EAEGE,EAAU,GACd,QAAS,EAAI,EAAG,EAAIZ,EAAO,QAAQ,OAAQ,IAAK,CAC9C,GAAIA,EAAO,QAAQ,GAAG,eAAe,SAAS,EAAG,CAC/C,GAAI,CAAC,MAAAa,EAAO,MAAAC,CAAK,EAAIC,GAAcf,EAAO,QAAQ,GAAG,OAAO,EAC5DM,EAAS,GAAKO,EACdN,EAAS,GAAKO,CAChB,KAAO,CACL,GAAI,CAAC,MAAAD,EAAO,MAAAC,CAAK,EAAIE,GAAahB,EAAO,QAAQ,EAAE,EACnDY,EAAU,GACVN,EAAS,GAAKO,EACdN,EAAS,GAAKO,CAChB,CACA,IAAMG,EAAOjB,EAAO,QAAQ,GAAG,eAC3BiB,GAAQA,EAAK,KACfT,EAAe,GAAKS,EAAK,GAAG,GAEhC,CAEA,IAAIC,EAAS,CAAC,EAEd,QAASC,KAAalB,EACpBiB,EAAOC,EAAU,IAAMA,EAAU,KAInC,IAAIC,EAAUR,EAAU,EAAI,IAC5B,MAAO,CACL,KAAMZ,EAAO,UACb,QAAAS,EACA,MAAOT,EAAO,OAAO,GAAG,MAAQoB,EAChC,IAAKpB,EAAO,OAAO,GAAG,IAAMoB,EAC5B,OAAAF,EACA,MAAOX,EACP,MAAOD,EACP,eAAAE,CACF,CACF,CAEA,SAASO,GAAcM,EAAS,CAC9B,IAAIR,EAAQ,CAAC,EACb,QAASS,KAAQD,EAAQ,UAAU,GAAI,CACrCR,EAAMS,EAAK,IAAM,CAAC,EAClB,IAAIC,EAAa,EACjB,QAASC,KAASF,EAAK,OAAQ,CAC7B,IAAIG,EAAOD,EAAM,GAAK,IAClBE,EAASF,EAAM,GAEnB,QAASb,EAAI,EAAGA,EAAI,KAAK,IAAIe,EAASH,CAAU,EAAGZ,IAC7Ce,EAASH,EACXV,EAAMS,EAAK,IAAI,KAAK,CAAC,MAAOG,CAAI,CAAC,EAEjCZ,EAAMS,EAAK,IAAI,KAAK,CAAC,OAAQG,CAAI,CAAC,EAItCF,EAAaG,CACf,CACF,CAEA,IAAIZ,EAAQ,CAAC,EACb,QAASa,KAAYN,EAAQ,SAC3B,GAAI,EAACM,EAAS,GAGd,QAASC,KAAQP,EAAQ,SAAS,GAAI,CACpC,IAAII,EAAOG,EAAK,GAAK,IACjBC,EAAKD,EAAK,GACVE,EAAWF,EAAK,GAChBG,EAAWH,EAAK,GAChBI,EAAqBJ,EAAK,GAC9Bd,EAAM,KAAK,CACT,GAAAe,EACA,MAAOJ,EACP,IAAKA,EAAOK,EACZ,MAAOC,IAAa,CACtB,CAAC,CACH,CAGF,MAAO,CAAC,MAAAlB,EAAO,MAAAC,CAAK,CACtB,CAEA,SAASE,GAAaN,EAAQ,CAC5B,IAAIG,EAAQ,CAAC,EACTC,EAAQ,CAAC,EAEb,QAAST,KAAQK,EAAO,YAAa,CACnCG,EAAMR,EAAK,IAAM,CAAC,EAClB,IAAIkB,EAAa,EACjB,QAASC,KAASnB,EAAK,OAAQ,CAC7B,GAAI,CAACoB,EAAMC,CAAM,EAAIF,EAErB,QAASb,EAAI,EAAGA,EAAI,KAAK,IAAIe,EAASH,CAAU,EAAGZ,IAC7Ce,EAASH,EACXV,EAAMR,EAAK,IAAI,KAAK,CAAC,MAAOoB,CAAI,CAAC,EAEjCZ,EAAMR,EAAK,IAAI,KAAK,CAAC,OAAQoB,CAAI,CAAC,EAItCF,EAAaG,CACf,CACF,CAEKhB,EAAO,WACVA,EAAO,SAAW,CAAC,GAErB,QAASP,KAASO,EAAO,SAAU,CACjC,IAAImB,EAAK1B,EAAM,GACf,QAASyB,KAAQzB,EAAM,OAAQ,CAC7B,IAAI8B,EAAQL,EAAK,SACbM,EAAMD,EAAQL,EAAK,SACnBO,EAAQP,EAAK,SAAWA,EAAK,WAAa,EAC9Cd,EAAM,KAAK,CACT,GAAAe,EACA,MAAAI,EACA,IAAAC,EACA,MAAAC,CACF,CAAC,CACH,CACF,CAEA,MAAO,CAAC,MAAAtB,EAAO,MAAAC,CAAK,CACtB,CAEApB,GAAO,QAAU,CACf,UAAAK,GACA,QAAAJ,EACF,IC3KA,IAAMyC,EAAN,KAAgB,CACd,aAAc,CACZ,KAAK,UAAY,KAAK,UAAU,KAAK,IAAI,EACzC,KAAK,KAAO,CAAC,CAOf,CAEA,KAAKC,EAAQ,CACX,OAAO,QAAQ,IAAI,OAAO,KAAKA,CAAM,EAAE,IAAI,KAAK,SAAS,CAAC,CAC5D,CAEA,MAAM,UAAUC,EAAI,CAClB,GAAI,CAEF,IAAMC,EAAO,MADD,MAAM,MAAM,aAAaD,QAAS,GACvB,KAAK,EAC5B,KAAK,KAAKA,GAAMC,CAClB,MAAE,CACA,QAAQ,IAAI,kBAAmBD,CAAE,EACjC,MAAM,KAAK,iBAAiBA,CAAE,CAIhC,CACF,CAEA,MAAM,iBAAiBA,EAAI,CACzB,GAAI,CAEF,IAAMC,EAAO,MADD,MAAM,MAAM,wCAAwCD,GAAI,GAC7C,KAAK,EAC5B,KAAK,KAAKA,GAAMC,CAClB,MAAE,CACA,QAAQ,IAAI,yBAA0BD,CAAE,CAC1C,CACF,CAEA,IAAIA,EAAI,CACN,OAAO,KAAK,KAAKA,EACnB,CACF,EAEOE,EAAQ,IAAIJ,EC/CnB,IAAOK,EAAQ,CACb,qBAAsB,KACtB,oBAAqB,KACrB,kBAAmB,MACnB,yBAA0B,MAC1B,qBAAsB,MAGtB,mBAAoB,MACpB,uBAAwB,MACxB,aAAc,KACd,eAAgB,MAChB,eAAgB,MAChB,UAAW,KACX,iBAAkB,MAClB,yBAA0B,KAC1B,2BAA4B,KAC5B,4BAA6B,KAC7B,UAAW,MAEX,wBAAyB,MACzB,gBAAiB,MACjB,YAAa,MAEb,aAAc,MACd,aAAc,MACd,mBAAoB,MACpB,iBAAkB,MAClB,eAAgB,MAChB,oBAAqB,MACrB,qBAAsB,MACtB,qBAAsB,MACtB,wBAAyB,MACzB,kBAAmB,MACnB,iBAAkB,MAClB,eAAgB,MAChB,eAAgB,MAChB,sBAAuB,MACvB,aAAc,MAEd,MAAO,MACP,YAAa,GAEb,WAAY,MACZ,qBAAsB,MACtB,oBAAqB,MACrB,sBAAuB,KACvB,oBAAqB,KACrB,qBAAsB,MACtB,sBAAuB,MACvB,uBAAwB,MACxB,sBAAuB,KACvB,sBAAuB,KACvB,yBAA0B,KAE1B,eAAgB,MAChB,YAAa,MAEb,iBAAkB,KAClB,gCAAiC,MACjC,aAAc,KACd,aAAc,KACd,cAAe,KACf,iBAAkB,MAClB,QAAS,MACT,kBAAmB,MACnB,kBAAmB,MAEnB,iBAAkB,KAClB,cAAe,MACf,WAAY,MACZ,OAAQ,MACR,iBAAkB,MAElB,gBAAiB,MACjB,0BAA2B,MAC3B,aAAc,MACd,oBAAqB,MAErB,cAAe,MAEf,uBAAwB,MACxB,YAAa,KAEb,eAAgB,MAChB,eAAgB,KAEhB,YAAa,MACb,eAAgB,MAChB,mBAAoB,MACpB,YAAa,MACb,mBAAoB,MACpB,sBAAuB,MACvB,UAAW,MACX,YAAa,MACb,gBAAiB,MACjB,aAAc,MACd,qBAAsB,MACtB,YAAa,MACb,kBAAmB,MACnB,oBAAqB,MACrB,SAAU,MACV,kBAAmB,MACnB,cAAe,MACf,aAAc,MACd,eAAgB,MAChB,cAAe,MACf,sBAAuB,MACvB,WAAY,MACZ,gBAAiB,MACjB,iBAAkB,MAClB,iBAAkB,MAClB,oBAAqB,MACrB,cAAe,MACf,gBAAiB,MACjB,WAAY,MACZ,gBAAiB,MACjB,cAAe,MAEf,eAAgB,MAEhB,cAAe,MAGf,mBAAmB,MAAM,cAAc,MAAM,aAAa,MAAM,YAAY,MAAM,aAAa,MAAM,mBAAmB,MAAM,uBAAuB,MAAM,qBAAqB,MAAM,mBAAmB,MAAM,KAAO,MAAM,kBAAkB,MAAM,qBAAqB,MAAM,aAAa,MAAM,WAAa,MAAM,aAAa,MAAM,aAAa,MAAM,iBAAiB,MAAM,qBAAqB,MAAM,YAAY,MAAM,gBAAgB,MAAM,uBAAuB,MAAM,eAAe,MAAM,qBAAqB,MAAM,wBAAwB,MAAM,mBAAmB,MAAM,sBAAsB,MAAM,0BAA0B,MAAM,iBAAiB,MAAM,sBAAsB,MAAM,sBAAsB,MAAM,oBAAoB,MAAM,eAAe,MAAM,aAAa,MAAM,cAAc,MAAM,cAAc,MAAM,YAAY,MAAM,aAAe,MAAM,eAAe,MAAM,iBAAiB,MAAM,gBAAgB,MAAM,gBAAgB,MAAM,gBAAgB,MAAM,iBAAiB,MAAM,qBAAqB,MAAM,oBAAoB,MAAM,YAAc,MAAM,eAAe,MAAM,iBAAiB,MAAM,eAAe,MAAM,eAAe,MAAM,aAAa,MAAM,gBAAgB,MAAM,iBAAiB,MAAM,YAAc,MAAM,SAAW,MAAM,mBAAmB,MAAM,gBAAgB,MAAM,gBAAgB,MAAM,OAAS,MAAM,KAAO,MAAM,cAAc,MAAM,gBAAgB,MAAM,eAAe,MAAM,gBAAgB,MAAM,mBAAmB,MAAM,QAAU,KAAK,SAAW,MAAM,gBAAgB,MAAM,QAAU,MAAM,UAAY,MAAM,MAAQ,MAAM,mBAAmB,MAAM,kBAAkB,MAAM,YAAY,MAAM,kBAAkB,MAAM,mBAAmB,MAAM,WAAa,MAAM,YAAc,KAAK,aAAa,MAAM,MAAQ,MAAM,iBAAiB,MAAM,gBAAgB,MAAM,qBAAqB,MAAM,aAAa,MAAM,eAAe,MAAM,eAAe,MAAM,eAAe,MAAM,aAAa,MAAM,gBAAgB,MAAM,QAAU,MAAM,iBAAiB,MAAM,kBAAkB,MAAM,aAAa,MAAM,kBAAkB,MAAM,mBAAmB,MAAM,MAAQ,MAAM,cAAgB,MAAM,KAAO,MAAM,mBAAmB,MAAM,mBAAmB,MAAM,gBAAgB,MAAM,SAAW,MAAM,YAAY,MAAM,iBAAiB,MAAM,UAAY,MAAM,mBAAmB,MAAM,gBAAgB,MAAM,mBAAmB,MAAM,cAAe,MAAM,cAAc,MAAM,gBAAgB,MAAM,mBAAmB,MAAM,kBAAkB,MAAM,gBAAgB,MAAM,gBAAgB,MAAM,gBAAgB,MAAM,aAAa,MAAM,cAAc,MAAM,2BAA2B,MAAM,kBAAkB,MAAM,SAAW,MAAM,aAAa,MAAM,cAAc,MAAM,oBAAoB,MAAM,mBAAmB,MAAM,cAAc,MAAM,gBAAgB,MAAM,aAAa,MAAM,cAAc,MAAM,YAAc,MAAM,eAAe,MAAM,SAAW,MAAM,iBAAiB,MAAM,cAAc,MAAM,mBAAmB,MAAM,eAAe,MAAM,kBAAkB,MAAM,cAAc,MAAM,UAAY,MAAM,eAAe,MAAM,KAAO,MAAM,cAAc,MAAM,KAAO,MAAM,cAAc,MAAM,cAAc,MAAM,mBAAmB,MAAM,gBAAgB,MAAM,aAAa,MAAM,YAAY,MAAM,UAAY,MAAM,cAAc,MAAM,eAAe,MAAM,cAAc,MAAM,aAAa,MAAM,gBAAgB,MAAM,YAAY,MAAM,eAAe,MAAM,kBAAoB,MAAM,qBAAqB,MAAM,uBAAuB,MAAM,oBAAoB,MAAM,kBAAkB,MAAM,OAAS,MAAM,cAAc,MAAM,kBAAkB,MAAM,cAAc,MAAM,WAAa,MAAM,YAAY,MAAM,mBAAmB,MAAM,eAAe,MAAM,eAAe,MAAM,eAAe,MAAM,cAAc,MAAM,WAAW,MAAM,mBAAmB,MAAM,YAAc,MAAM,WAAa,MAAM,YAAc,MAAM,cAAc,MAAM,iBAAiB,MAAM,gBAAgB,MAAM,cAAc,MAAM,OAAS,MAAM,gBAAgB,MAAM,mBAAmB,MAAM,gBAAgB,MAAM,cAAc,MAAM,gBAAgB,MAAM,eAAe,MAAM,kBAAkB,MAAM,sBAAsB,MAAM,eAAe,MAAM,aAAa,MAAM,gBAAgB,MAAM,6BAA6B,MAAM,mBAAmB,MAAM,oBAAoB,MAAM,iBAAiB,MAAM,oBAAoB,MAAM,sBAAsB,MAAM,gBAAgB,MAAM,kBAAkB,MAAM,oBAAoB,MAAM,eAAe,MAAM,YAAc,MAAM,mBAAmB,MAAM,kBAAkB,MAAM,kBAAkB,MAAM,iBAAiB,MAAM,iBAAiB,MAAM,qBAAqB,MAAM,qBAAqB,MAAM,iBAAiB,MAAM,mBAAmB,MAAM,0BAA0B,MAAM,cAAc,MAAM,kBAAkB,MAAM,0BAA0B,MAAM,kBAAkB,MAAM,oBAAoB,MAAM,4BAA4B,MAAM,cAAc,MAAM,sBAAsB,MAAM,uBAAuB,MAAM,kBAAkB,MAAM,oBAAoB,MAAM,mBAAmB,MAAM,gBAAgB,MAAM,yBAAyB,MAAM,iBAAiB,MAAM,yBAAyB,MAAM,0BAA0B,MAAM,cAAc,MAAM,aAAa,MAAM,qBAAqB,MAAM,uBAAuB,MAAM,qBAAqB,MAAM,kBAAkB,MAAM,sBAAsB,MAAM,cAAc,MAAM,qBAAqB,MAAM,eAAe,MAAM,gBAAgB,MAAM,gBAAgB,MAAM,kBAAkB,MAAM,iBAAiB,MAAM,YAAY,MAAM,aAAa,MAAM,SAAW,MAAM,wBAA0B,MAAM,gBAAgB,MAAM,qBAAqB,MAAM,MAAQ,MAAM,iBAAiB,MAAM,iBAAiB,MAAM,kBAAkB,MAAM,UAAU,MAAM,cAAc,MAAM,gBAAgB,MAAM,QAAU,MAAM,eAAe,MAAM,oBAAoB,MAAM,eAAe,MAAM,gBAAgB,MAAM,gBAAgB,MAAM,mBAAmB,MAAM,kBAAkB,MAAM,gBAAgB,MAAM,cAAc,MAAM,UAAY,MAAM,iBAAiB,MAAM,kBAAkB,MAAM,mBAAmB,MAAM,mBAAmB,MAAM,gBAAgB,MAAM,iBAAiB,MAAM,gBAAgB,MAAM,YAAY,MAAM,kBAAoB,MAAM,kBAAkB,MAAM,mBAAqB,MAAM,QAAU,MAAM,oBAAoB,MAAM,kBAAkB,MAAM,gBAAgB,MAAM,aAAa,MAAM,YAAc,MAAM,kBAAkB,MAAM,cAAc,MAAM,YAAY,MAAM,eAAe,MAAM,YAAY,MAAM,iBAAiB,MAAM,mBAAmB,MAAM,aAAa,MAAM,YAAY,MAAM,aAAa,MAAM,eAAe,MAAM,uBAAuB,MAAM,cAAc,MAAM,kBAAkB,MAAM,gBAAkB,MAAM,oBAAoB,MAAM,QAAU,MAAM,gBAAgB,MAAM,kBAAkB,MAAM,kBAAkB,MAAM,cAAc,MAAM,cAAc,MAAM,mBAAmB,MAAM,uBAAuB,MAAM,MAAQ,MAAM,eAAe,MAAM,gBAAgB,MAAM,gBAAgB,MAAM,gBAAgB,MAAM,iBAAiB,MAAM,cAAc,MAAM,kBAAkB,MAAM,iBAAiB,MAAM,mBAAmB,MAAM,kBAAkB,MAAM,gBAAgB,MAAM,kBAAkB,MAAM,mBAAmB,MAAM,iBAAiB,MAAM,iBAAiB,MAAM,WAAa,MAAM,eAAe,MAAM,cAAc,MAAM,mBAAmB,MAAM,uBAAuB,MAAM,kBAAkB,MAAM,aAAa,MAAM,eAAe,MAAM,eAAe,MAAM,qBAAqB,MAAM,sBAAsB,MAAM,kBAAkB,MAAM,oBAAoB,MAAM,aAAa,MAAM,aAAa,MAAM,aAAa,MAAM,cAAc,MAAM,qBAAqB,MAAM,oBAAsB,MAAM,mBAAmB,MAAM,6BAA6B,MAAM,eAAe,MAAM,eAAe,MAAM,cAAc,MAAM,mBAAmB,MAAM,cAAc,MAAM,iBAAiB,MAAM,iBAAiB,MAAM,oBAAoB,MAAM,eAAe,MAAM,cAAc,MAAM,gBAAgB,MAAM,mBAAmB,MAAM,cAAc,MAAM,gBAAgB,MAAM,aAAa,MAAM,iBAAiB,MAAM,YAAc,MAAM,iBAAiB,MAAM,gBAAgB,MAAM,aAAa,MAAM,YAAc,MAAM,sBAAsB,MAAM,iBAAiB,MAAM,aAAa,MAAM,iBAAiB,MAAM,kBAAkB,MAAM,eAAe,MAAM,iBAAiB,MAAM,oBAAoB,MAAM,kBAAkB,MAAM,OAAS,MAAM,gBAAgB,MAAM,cAAc,MAAM,0BAA0B,MAAM,eAAe,MAAM,iBAAiB,MAAM,iBAAiB,MAAM,qBAAqB,MAAM,KAAO,MAAM,0BAAqB,MAAM,mBAAmB,MAAM,kBAAkB,MAAM,eAAe,MAAM,YAAc,MAAM,UAAY,MAAM,4BAA4B,MAAM,mBAAmB,MAAM,cAAc,MAAM,kBAAkB,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,iBAAiB,MAAM,cAAc,MAAM,0BAAqB,MAAM,OAAS,MAAM,cAAc,MAAM,sBAAsB,MAAM,aAAa,MAAM,aAAa,MAAM,gBAAgB,MAAM,sBAAsB,MAAM,UAAY,MAAM,mBAAmB,MAAM,oBAAoB,MAAM,kBAAkB,MAAM,cAAc,MAAM,qBAAqB,MAAM,qBAAqB,MAAM,aAAa,MAAM,mBAAmB,MAAM,eAAe,MAAM,iBAAiB,MAAM,WAAW,MAAM,aAAa,MAAM,kBAAkB,MAAM,cAAc,MAAM,gBAAgB,MAAM,YAAY,MAAM,aAAa,MAAM,gBAAgB,MAAM,iBAAiB,MAAM,mBAAmB,MAAM,oBAAoB,MAAM,iBAAiB,MAAM,iBAAiB,MAAM,YAAc,MAAM,iBAAiB,MAAM,mBAAmB,MAAM,oBAAoB,MAAM,eAAe,MAAM,0BAAqB,MAAM,kBAAkB,MAAM,sBAAsB,MAAM,iBAAiB,MAAM,kBAAkB,MAAM,qBAAqB,MAAM,iBAAiB,MAAM,eAAe,MAAM,eAAe,MAAM,gBAAgB,MAAM,eAAe,MAAM,gBAAgB,MAAM,iBAAiB,MAAM,oBAAoB,MAAM,kBAAkB,MAAM,gBAAgB,MAAM,mBAAmB,KAAK,wBAAwB,MAAM,kBAAkB,MAAM,sBAAsB,MAAM,cAAc,MAAM,eAAe,MAAM,cAAc,MAAM,qBAAqB,MAAM,gBAAgB,MAAM,iBAAiB,MAAM,eAAe,MAAM,iBAAiB,MAAM,mBAAmB,MAAM,MAAQ,MAAM,cAAc,MAAM,aAAa,MAAM,uBAAuB,MAAM,gBAAgB,MAAM,eAAe,MAAM,sBAAsB,MAAM,eAAe,MAAM,gBAAgB,MAAM,iBAAiB,MAAM,eAAe,MAAM,aAAa,MAAM,cAAc,MAAM,SAAW,MAAM,aAAa,MAAM,YAAY,MAAM,qBAAqB,MAAM,kBAAkB,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,YAAY,MAAM,kBAAkB,MAAM,cAAc,MAAM,gBAAgB,MAAM,yBAAyB,MAAM,qBAAqB,MAAM,mBAAmB,MAAM,qBAAqB,MAAM,gBAAgB,MAAM,sBAAsB,MAAM,cAAc,MAAM,iBAAiB,MAAM,eAAe,KAAK,iBAAiB,KAAK,MAAQ,KAAK,SAAW,KAAK,kBAAkB,KAAK,mBAAmB,KAAK,iBAAiB,KAAK,mBAAmB,KAAK,iBAAiB,KAAK,UAAY,KAAK,eAAe,KAAK,gBAAgB,KAAK,wBAAwB,KAAK,MAAQ,MAAM,aAAa,MAAM,sBAAsB,KAAK,iBAAiB,KAAK,gBAAgB,KAAK,YAAc,KAAK,2BAA2B,KAAK,aAAa,KAAK,kBAAkB,KAAK,QAAU,KAAK,gBAAgB,KAAK,gBAAgB,KAAK,SAAW,KAAK,qBAAqB,KAAK,iBAAiB,KAAK,UAAY,KAAK,aAAa,KAAK,eAAe,KAAK,aAAe,KAAK,eAAe,KAAK,iBAAiB,KAAK,YAAY,KAAK,cAAc,KAAK,YAAY,KAAK,kBAAkB,KAAK,gBAAgB,KAAK,gBAAgB,KAAK,YAAY,KAAK,eAAe,KAAK,mBAAmB,KAAK,KAAO,KAAK,2BAA2B,KAAK,gBAAgB,KAAK,YAAc,KAAK,eAAe,KAAK,QAAU,KAAK,cAAc,KAAK,OAAS,KAAK,kBAAkB,KAAK,aAAa,KAAK,QAAU,KAAK,YAAY,MAAM,eAAe,KAAK,iBAAiB,KAAK,gBAAgB,MAAM,eAAe,MAAM,SAAW,MAAM,aAAa,KAAK,eAAe,KAAK,mBAAmB,KAAK,kBAAkB,KAAK,eAAe,KAAK,kBAAkB,KAAK,UAAY,KAAK,KAAO,KAAK,UAAU,KAAK,iBAAiB,KAAK,mBAAmB,KAAK,iBAAiB,KAAK,kBAAkB,KAAK,WAAW,KAAK,eAAe,KAAK,kBAAkB,KAAK,YAAY,KAAK,qBAAqB,KAAK,qBAAqB,KAAK,cAAc,KAAK,UAAY,KAAK,KAAO,KAAK,eAAe,KAAK,QAAU,KAAK,aAAe,KAAK,YAAY,KAAK,OAAS,KAAK,YAAY,KAAK,cAAc,KAAK,aAAa,KAAK,oBAAoB,KAAK,YAAY,KAAK,YAAY,KAAK,eAAe,KAAK,SAAW,KAAK,cAAc,KAAK,WAAW,KAAK,YAAY,KAAK,cAAc,KAAK,kBAAkB,KAAK,YAAc,KAAK,mBAAmB,KAAK,aAAa,KAAK,aAAa,KAAK,gBAAgB,KAAK,gBAAgB,MAAM,aAAa,MAAM,gBAAgB,MAAM,eAAe,MAAM,oBAAoB,MAAM,iBAAiB,MAAM,gBAAgB,MAAM,wBAAwB,MAAM,UAAY,MAAM,iBAAiB,MAAM,mBAAmB,MAAM,oBAAoB,MAAM,oBAAoB,MAAM,uBAAuB,MAAM,sBAAsB,MAAM,cAAc,MAAM,gBAAgB,MAAM,mBAAmB,MAAM,eAAe,MAAM,oBAAoB,MAAM,oBAAoB,MAAM,kBAAkB,MAAM,gBAAgB,MAAM,YAAc,MAAM,aAAa,MAAM,iBAAiB,MAAM,aAAa,MAAM,WAAa,MAAM,iBAAiB,MAAM,cAAc,MAAM,qBAAqB,MAAM,qBAAqB,MAAM,qBAAqB,MAAM,YAAY,MAAM,qBAAqB,MAAM,eAAe,MAAM,cAAc,MAAM,eAAe,MAAM,gBAAgB,MAAM,iBAAiB,MAAM,cAAc,MAAM,oBAAoB,MAAM,kBAAkB,MAAM,WAAW,MAAM,oBAAoB,MAAM,mBAAmB,MAAM,iBAAiB,MAAM,gBAAgB,MAAM,eAAe,MAAM,gBAAgB,MAAM,iBAAiB,MAAM,gBAAgB,MAAM,4BAA4B,MAAM,sBAAsB,MAAM,kBAAkB,MAAM,aAAa,MAAM,aAAa,MAAM,kBAAkB,MAAM,qBAAqB,MAAM,sBAAsB,MAAM,gBAAgB,MAAM,gBAAgB,MAAM,kBAAkB,MAAM,aAAa,MAAM,kBAAkB,MAAM,cAAc,MAAM,OAAS,MAAM,oBAAoB,MAAM,yBAAyB,MAAM,gBAAgB,MAAM,mBAAmB,MAAM,8BAA8B,MAAM,cAAc,MAAM,sBAAsB,MAAM,mBAAmB,MAAM,kBAAkB,MAAM,gBAAgB,MAAM,cAAc,MAAM,cAAc,MAAM,kBAAkB,MAAM,cAAc,MAAM,wBAAwB,MAAM,qBAAqB,MAAM,iBAAiB,MAAM,iBAAiB,MAAM,gBAAgB,MAAM,aAAe,MAAM,iBAAiB,MAAM,MAAQ,MAAM,uBAAuB,MAAM,qBAAqB,MAAM,mBAAmB,MAAM,sBAAsB,MAAM,yBAAyB,MAAM,gBAAgB,KAAK,iBAAiB,KAAK,kBAAkB,KAAK,qBAAqB,KAAK,qBAAqB,KAAK,kBAAkB,KAAK,gBAAgB,KAAK,uBAAuB,KAAK,uBAAuB,KAAK,qBAAqB,KAAK,gBAAgB,KAAK,mBAAmB,KAAK,eAAe,KAAK,kBAAkB,KAAK,QAAU,KAAK,iBAAiB,KAAK,iBAAiB,KAAK,YAAY,KAAK,mBAAmB,KAAK,kBAAkB,KAAK,cAAc,KAAK,cAAc,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,gBAAgB,KAAK,OAAS,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,cAAc,KAAK,sBAAsB,KAAK,kBAAkB,KAAK,uBAAuB,KAAK,gBAAgB,KAAK,MAAQ,KAAK,gBAAgB,KAAK,iBAAiB,KAAK,KAAO,KAAK,aAAa,KAAK,cAAc,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAU,IAC3ggB,EC7HA,IAAqBC,EAArB,KAA4B,CAC1B,YAAYC,EAAOC,EAAKC,EAAO,CAC7B,KAAK,MAAQF,EACb,KAAK,IAAMC,EACX,KAAK,MAAQC,CAEf,CAEA,OAAOC,EAAK,CACV,IAAMC,EAAM,SAAS,cAAc,IAAI,EACvCA,EAAI,UAAU,IAAI,QAAQ,EAC1B,IAAMC,EAAO,SAAS,cAAc,GAAG,EAEjCL,IAAU,KAAK,MAAQG,EAAI,OAAS,KAAM,QAAQ,CAAC,EACnDF,IAAQ,KAAK,IAAME,EAAI,OAAS,KAAM,QAAQ,CAAC,EACrD,OAAAE,EAAK,QAAQ,MAAQ,KAAK,MAC1BA,EAAK,QAAQ,IAAM,KAAK,IACxBA,EAAK,UAAY,GAAGL,YAAgBC,KACpCI,EAAK,KAAO,IACZA,EAAK,UAAU,IAAI,WAAW,EAC9BD,EAAI,YAAYC,CAAI,EAChB,KAAK,OACPD,EAAI,YAAY,SAAS,eAAe,IAAM,KAAK,KAAK,CAAC,EAEpDA,CACT,CACF,ECtBA,IAAME,GAAkB,SAAS,cAAc,oBAAoB,EAEpD,SAARC,EAAoCC,EAAKC,EAAgBC,EAAW,CACzE,GAAIF,EAAI,MAAM,SAAW,EAAG,CAC1B,QAAQ,KAAK,kBAAkB,EAC/B,MACF,CACA,OAAQE,EAAU,GAAI,CACpB,IAAK,oBACL,IAAK,wBACHC,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACfK,GAA2BL,CAAG,EAC9BM,GAAkBN,CAAG,EACrBO,EAA2BP,CAAG,EAC9BQ,EAAgBR,EAAKS,EAAS,iBAAkB,GAAG,EACnDC,GAAeV,EAAKE,CAAS,EAE7BS,EAAgBX,EAAKS,EAAS,oBAAoB,EAClDE,EAAgBX,EAAKS,EAAS,mBAAmB,EACjD,MACF,IAAK,0BACL,IAAK,wBACHN,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACfK,GAA2BL,CAAG,EAC9BO,EAA2BP,CAAG,EAC9BQ,EAAgBR,EAAKS,EAAS,iBAAkB,GAAG,EACnDE,EAAgBX,EAAKS,EAAS,mBAAmB,EACjD,MACF,IAAK,iBACHL,EAAYJ,CAAG,EACfO,EAA2BP,CAAG,EAE9BY,EAAoBZ,EAAKS,EAAS,YAAa,GAAK,IAAI,EAExDD,EAAgBR,EAAKS,EAAS,mBAAoB,IAAI,EACtDD,EAAgBR,EAAKS,EAAS,iBAAkB,IAAI,EACpDD,EAAgBR,EAAKS,EAAS,cAAe,IAAI,EACjDD,EAAgBR,EAAKS,EAAS,gBAAiB,IAAI,EAEnDD,EAAgBR,EAAKS,EAAS,qBAAsB,IAAI,EACxDE,EAAgBX,EAAKS,EAAS,cAAc,EAE5CE,EAAgBX,EAAKS,EAAS,mBAAmB,EACjD,MACF,IAAK,kBACHN,EAAgBH,EAAK,EAAI,EACzBI,EAAYJ,CAAG,EACfQ,EAAgBR,EAAKS,EAAS,wBAAyB,EAAE,EACzDD,EAAgBR,EAAKS,EAAS,gBAAiB,EAAE,EAEjDE,EAAgBX,EAAKS,EAAS,WAAW,EACzC,MACF,IAAK,SACHN,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACfY,EAAoBZ,EAAKS,EAAS,eAAgB,GAAK,GAAG,EAC1DG,EAAoBZ,EAAKS,EAAS,iBAAkB,GAAK,GAAG,EAC5DI,GAAuBb,EAAK,CAC1B,CACE,IAAK,MACL,MAAO,KACT,EACA,CACE,IAAK,MACL,MAAO,KACT,CACF,EAAGS,EAAS,sBAAuB,EAAI,EAEvCE,EAAgBX,EAAKS,EAAS,YAAY,EAC1CE,EAAgBX,EAAKS,EAAS,YAAY,EAC1CE,EAAgBX,EAAKS,EAAS,kBAAkB,EAChD,IAAMK,EAAe,CAAC,OAAQ,IAAI,IAAI,CAACL,EAAS,mBAAmB,CAAC,CAAC,EACrEE,EAAgBX,EAAKS,EAAS,mBAAmB,EACjDE,EAAgBX,EAAKS,EAAS,sBAAuBK,CAAY,EACjEH,EAAgBX,EAAKS,EAAS,mBAAoBK,CAAY,EAE9D,MACF,IAAK,kBAAmB,CACtBX,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACf,IAAMc,EAAe,CAAC,OAAQ,IAAI,IAAI,CAACL,EAAS,mBAAmB,CAAC,CAAC,EAC/DM,EAAmB,OAAO,OAAO,CAAC,SAAU,CAAC,EAAGD,CAAY,EAClEH,EAAgBX,EAAKS,EAAS,mBAAmB,EACjDE,EAAgBX,EAAKS,EAAS,qBAAsBM,CAAgB,EACpEJ,EAAgBX,EAAKS,EAAS,qBAAsBK,CAAY,EAChEH,EAAgBX,EAAKS,EAAS,wBAAyBK,CAAY,EACnEH,EAAgBX,EAAKS,EAAS,gBAAgB,EAC9C,KACF,CACA,IAAK,qBAAsB,CACzBN,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACf,IAAMc,EAAe,CAAC,OAAQ,IAAI,IAAI,CAACL,EAAS,mBAAmB,CAAC,CAAC,EAC/DM,EAAmB,OAAO,OAAO,CAAC,SAAU,CAAC,EAAGD,CAAY,EAClEH,EAAgBX,EAAKS,EAAS,mBAAmB,EACjDE,EAAgBX,EAAKS,EAAS,qBAAsBK,CAAY,EAChEH,EAAgBX,EAAKS,EAAS,wBAAyBK,CAAY,EACnEH,EAAgBX,EAAKS,EAAS,kBAAmBM,CAAgB,EACjE,KACF,CACA,IAAK,oBAAqB,CACxBZ,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACf,IAAMc,EAAe,CAAC,OAAQ,IAAI,IAAI,CAACL,EAAS,mBAAmB,CAAC,CAAC,EAC/DM,EAAmB,OAAO,OAAO,CAAC,SAAU,CAAC,EAAGD,CAAY,EAClEH,EAAgBX,EAAKS,EAAS,mBAAmB,EACjDE,EAAgBX,EAAKS,EAAS,qBAAsBM,CAAgB,EACpEJ,EAAgBX,EAAKS,EAAS,qBAAqB,EACnDE,EAAgBX,EAAKS,EAAS,cAAc,EAC5CE,EAAgBX,EAAKS,EAAS,cAAc,EAC5C,KACF,CACA,IAAK,oBAAqB,CACxBN,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACfW,EAAgBX,EAAKS,EAAS,qBAAqB,EACnDE,EAAgBX,EAAKS,EAAS,cAAc,EAC5CE,EAAgBX,EAAKS,EAAS,cAAc,EAC5C,KACF,CACA,IAAK,cAAe,CAClBN,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACf,IAAMc,EAAe,CAAC,OAAQ,IAAI,IAAI,CAACL,EAAS,mBAAmB,CAAC,CAAC,EAErEE,EAAgBX,EAAKS,EAAS,mBAAmB,EACjDO,EAAwBhB,EAAKS,EAAS,qBAAsB,CAAC,EAC7DO,EAAwBhB,EAAKS,EAAS,qBAAsB,CAAC,EAC7DD,EAAgBR,EAAKS,EAAS,cAAe,EAAE,EAC/CE,EAAgBX,EAAKS,EAAS,wBAAyBK,CAAY,EACnEH,EAAgBX,EAAKS,EAAS,iBAAiB,EAC/CE,EAAgBX,EAAKS,EAAS,oBAAoB,EAClDO,EAAwBhB,EAAKS,EAAS,uBAAwB,CAAC,EAC/DO,EAAwBhB,EAAKS,EAAS,UAAc,CAAC,EACrDO,EAAwBhB,EAAKS,EAAS,aAAc,CAAC,EACrDO,EAAwBhB,EAAKS,EAAS,gBAAiB,CAAC,EACxDI,GAAuBb,EAAK,CAC1B,CACE,IAAK,MACL,MAAO,IACT,EACA,CACE,IAAK,MACL,MAAO,KACT,CACF,EAAGS,EAAS,oBAAoB,EAEhC,KACF,CACA,IAAK,iBAAkB,CACrBN,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACf,IAAMc,EAAe,CAAC,OAAQ,IAAI,IAAI,CAACL,EAAS,mBAAmB,CAAC,CAAC,EAC/DM,EAAmB,OAAO,OAAO,CAAC,SAAU,CAAC,EAAGD,CAAY,EAClEH,EAAgBX,EAAKS,EAAS,mBAAmB,EACjDE,EAAgBX,EAAKS,EAAS,kBAAmBM,CAAgB,EACjEJ,EAAgBX,EAAKS,EAAS,qBAAsBK,CAAY,EAChEH,EAAgBX,EAAKS,EAAS,wBAAyBK,CAAY,EACnEE,EAAwBhB,EAAKS,EAAS,uBAAwB,CAAC,EAC/DO,EAAwBhB,EAAKS,EAAS,UAAc,CAAC,EACrDD,EAAgBR,EAAKS,EAAS,cAAe,EAAE,EAC/CE,EAAgBX,EAAKS,EAAS,iBAAiB,EAC/CE,EAAgBX,EAAKS,EAAS,oBAAoB,EAElD,KACF,CACA,IAAK,iBAAkB,CACrBN,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACf,IAAMc,EAAe,CAAC,OAAQ,IAAI,IAAI,CAACL,EAAS,mBAAmB,CAAC,CAAC,EAC/DQ,EAAc,CAAC,OAAQ,IAAI,IAAI,CAACR,EAAS,sBAAsB,CAAC,CAAC,EAEvEE,EAAgBX,EAAKS,EAAS,mBAAmB,EACjDE,EAAgBX,EAAKS,EAAS,kBAAmBK,CAAY,EAC7DH,EAAgBX,EAAKS,EAAS,qBAAsBK,CAAY,EAChEH,EAAgBX,EAAKS,EAAS,sBAAsB,EAEpDE,EAAgBX,EAAKS,EAAS,qBAAsBQ,CAAW,EAC/DN,EAAgBX,EAAKS,EAAS,oBAAqBQ,CAAW,EAC9DL,EAAoBZ,EAAKS,EAAS,UAAc,GAAK,GAAG,EACxDG,EAAoBZ,EAAKS,EAAS,uBAAwB,GAAK,GAAG,EAClED,EAAgBR,EAAKS,EAAS,cAAe,EAAE,EAC/C,KACF,CACA,IAAK,uBAAwB,CAC3BN,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EAGfW,EAAgBX,EAAKS,EAAS,oBAAoB,EAClDE,EAAgBX,EAAKS,EAAS,mBAAmB,EACjDE,EAAgBX,EAAKS,EAAS,iBAAiB,EAC/CE,EAAgBX,EAAKS,EAAS,SAAY,EAC1CE,EAAgBX,EAAKS,EAAS,sBAAsB,EACpDD,EAAgBR,EAAKS,EAAS,cAAe,EAAE,EAE/C,KACF,CAEA,IAAK,kBACL,IAAK,wBAAyB,CAC5BN,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACfkB,GAAoBlB,EAAKS,EAAS,gCACd,KAAQ,KAAM,CAAC,EACnCU,GAAmBnB,EAAKS,EAAS,aAAc,CAAC,EAGhDW,GAAgBpB,EAAKS,EAAS,aAAc,EAAG,GAAI,EACnD,KACF,CACA,IAAK,yBACL,IAAK,yBAA0B,CAC7BN,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACfW,EAAgBX,EAAKS,EAAS,aAAa,EAC3CE,EAAgBX,EAAKS,EAAS,UAAU,EACxCD,EAAgBR,EAAKS,EAAS,OAAQ,EAAE,EACxCD,EAAgBR,EAAKS,EAAS,iBAAkB,EAAE,EAClD,KACF,CACA,IAAK,iBACL,IAAK,sBACL,IAAK,iBAAkB,CACrBN,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACfqB,GAA0BrB,EAAKS,EAAS,gBAAiB,GAAG,EAC5Da,GAA0BtB,CAAG,EAC7B,KACF,CACA,IAAK,0BAA2B,CAC9BI,EAAYJ,CAAG,EACfW,EAAgBX,EAAKS,EAAS,oBAAqB,CAAC,SAAU,CAAC,CAAC,EAChEE,EAAgBX,EAAKS,EAAS,SAAY,EAC1CE,EAAgBX,EAAKS,EAAS,yBAAyB,EACvDE,EAAgBX,EAAKS,EAAS,iBAAiB,EAC/C,KACF,CACA,IAAK,sBACHN,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACfQ,EAAgBR,EAAKS,EAAS,oBAAqB,GAAG,EACtDE,EAAgBX,EAAKS,EAAS,kBAAmB,CAAC,SAAU,CAAC,CAAC,EAC9DE,EAAgBX,EAAKS,EAAS,uBAAyB,CAAC,SAAU,CAAC,CAAC,EACpEE,EAAgBX,EAAKS,EAAS,qBAAsB,EACpDG,EAAoBZ,EAAKS,EAAS,cAAe,GAAK,GAAG,EAE3D,QACE,QAAQ,KAAK,yBAA0BP,EAAU,EAAE,EACnDC,EAAgBH,CAAG,EACnBI,EAAYJ,CAAG,EACfsB,GAA0BtB,CAAG,EAC7B,KACJ,CACF,CAEA,SAASuB,EAAkBvB,EAAKwB,EAAOC,EAAaC,EAAS,CAC3D,IAAMC,EAAO,SAAS,cAAc,IAAI,EACxCA,EAAK,UAAU,IAAI,kBAAkB,EACrC,IAAMC,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,UAAU,IAAI,QAAS,SAAWJ,EAAM,YAAY,CAAC,EAC9DI,EAAS,YAAcJ,EACvB,IAAMK,EAAiB,SAAS,cAAc,MAAM,EACpDA,EAAe,UAAU,IAAI,aAAa,EAC1CA,EAAe,YAAcJ,EAC7B,IAAMK,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,2BAA2B,EAClDA,EAAS,YAAc,eACvBA,EAAS,iBAAiB,QAAS,UAAW,CACxCH,EAAK,UAAU,SAAS,MAAM,GAChCG,EAAS,YAAc,eACvBH,EAAK,UAAU,OAAO,MAAM,EAC5BA,EAAK,WAAW,UAAU,OAAO,QAAQ,IAEzCG,EAAS,YAAc,eACvBH,EAAK,UAAU,IAAI,MAAM,EACzBA,EAAK,WAAW,UAAU,IAAI,QAAQ,EAE1C,CAAC,EACDA,EAAK,YAAYC,CAAQ,EACzBD,EAAK,YAAY,SAAS,eAAe,GAAG,CAAC,EAC7CA,EAAK,YAAYE,CAAc,EAC/BF,EAAK,YAAYG,CAAQ,EACzB,IAAMC,EAAa,SAAS,cAAc,IAAI,EAC9CA,EAAW,UAAU,IAAI,aAAa,EACtC,QAASC,KAAUN,EACjBK,EAAW,YAAYC,EAAO,OAAOhC,CAAG,CAAC,EAE3C2B,EAAK,YAAYI,CAAU,EAC3BjC,GAAgB,YAAY6B,CAAI,EAEhC,QAAQ,IAAI,kBAAmBD,CAAO,CACxC,CAEA,SAASvB,EAAgBH,EAAKiC,EAAQ,CACpC,IAAMC,EAAS,CAAC,EAEhB,QAAWC,KAAQnC,EAAI,MAAO,CAC5B,GAAI,CAACmC,EAAK,MACR,SAEF,IAAIC,EAAOC,EAAU,IAAIF,EAAK,EAAE,EAChC,GAAIC,GAAQA,EAAK,KAAM,CACrB,GAAIA,EAAK,OAAS,WAChB,SAMF,GAHI,CAACA,EAAK,YAAcA,EAAK,YAC3BF,EAAO,KAAK,CAACC,CAAI,CAAC,EAEhBC,EAAK,WAAY,CACnB,GAAI,CAACF,EAAOA,EAAO,OAAS,GAAI,CAC9B,QAAQ,KAAK,iBAAkBC,CAAI,EACnC,QACF,CACAD,EAAOA,EAAO,OAAS,GAAG,KAAKC,CAAI,CACrC,CACF,CACF,CACA,IAAIG,EAAY,CAAC,OAAQ,CAAC,EAAG,MAAO,CAAC,EACjCC,EAAY,CAAC,OAAQ,CAAC,EAAG,MAAO,CAAC,EACrC,QAASC,KAASN,EACZM,EAAM,SAAW,IAGrB,QAAQ,IAAI,sBAAuBA,EAAM,MAAM,EAC3CA,EAAM,OAAS,GACjB,QAAQ,IAAI,YAAaA,CAAK,EAE5BA,EAAM,SAAW,GACnBF,EAAU,OAASE,EAAMA,EAAM,OAAS,GAAG,IAAMA,EAAM,GAAG,MAC1DF,EAAU,OAAO,KAAKE,CAAK,GAClBA,EAAM,SAAW,IAC1BD,EAAU,OAASC,EAAMA,EAAM,OAAS,GAAG,IAAMA,EAAM,GAAG,MAC1DD,EAAU,OAAO,KAAKC,CAAK,IAG/B,QAAQ,IAAI,YAAaF,CAAS,EAClC,QAAQ,IAAI,YAAaC,CAAS,EAClC,IAAME,EAAMzC,EAAI,MAAMA,EAAI,MAAM,OAAS,GAAG,IAAMA,EAAI,MAAM,GAAG,MAK/D,GAJA,QAAQ,IAAI,kBAAmB,GAAKyC,EAAMH,EAAU,OAASG,CAAG,EAChE,QAAQ,IAAI,kBAAmB,GAAKA,EAAMF,EAAU,OAASE,CAAG,EAG5DR,EAAQ,CACV,IAAIS,EAAU,GACVJ,EAAU,OAAO,SAAW,EAC9BI,EAAU,IACDJ,EAAU,OAAO,OAAS,EACnCI,EAAU,IACDJ,EAAU,OAAO,OAAS,EACnCI,EAAU,IACDJ,EAAU,OAAO,OAAS,GACnCI,EAAU,IAEVA,EAAU,IAGZ,IAAIC,EAAU,SACVL,EAAU,OAAO,SAAW,IAC9BK,GAAW,KAEb,IAAIC,EAAY,OAAON,EAAU,OAAO,sBAAsBK,WAC9DpB,EAAkBvB,EAAK0C,EAASE,EAAWN,EAAU,OAAO,IAAKE,GACxD,IAAIK,EAAOL,EAAM,GAAG,MAAOA,EAAMA,EAAM,OAAS,GAAG,GAAG,CAC9D,CAAC,CACJ,CAEA,IAAIM,EAAU,GACVP,EAAU,OAAO,SAAW,EAC9BO,EAAU,IACDP,EAAU,OAAO,OAAS,EACnCO,EAAU,IACDP,EAAU,OAAO,OAAS,EACnCO,EAAU,IAEVA,EAAU,IAEZ,IAAIC,EAAY,UAAUR,EAAU,OAAO,6BACvCA,EAAU,OAAO,SAAW,IAC9BQ,GAAa,KAEfxB,EAAkBvB,EAAK8C,EAASC,EAAWR,EAAU,OAAO,IAAKC,GACxD,IAAIK,EAAOL,EAAM,GAAG,MAAOA,EAAMA,EAAM,OAAS,GAAG,GAAG,CAC9D,CAAC,CACJ,CAEA,SAASpC,EAAYJ,EAAK,CACxB,IAAIgD,EAAY,EACZC,EAAY,CAAC,EACbC,EAAU,EACVC,EAAgB,CAAC,EACjBC,EAAU,GACd,QAAWjB,KAAQnC,EAAI,MACrB,GAAImC,EAAK,MAAQA,EAAK,MAGtB,IAAIiB,EAAU,EAAG,CACf,IAAIC,EAASlB,EAAK,MAAQiB,EACtBC,EAAS,EACX,QAAQ,IAAI,OAAQlB,CAAI,GAExBa,GAAaK,EAGTA,EAAS,IACXJ,EAAU,KAAK,IAAIJ,EAAOO,EAASjB,EAAK,MAAOnC,EAAI,OAAOmC,EAAK,KAAO,eAAe,CAAC,EAG5F,CACKA,EAAK,QACRe,GAAWf,EAAK,IAAMA,EAAK,MAEvBA,EAAK,IAAMA,EAAK,MAAQ,IAC1BgB,EAAc,KAAK,IAAIN,EAAOV,EAAK,MAAOA,EAAK,IAAKnC,EAAI,OAAOmC,EAAK,KAAO,eAAe,CAAC,GAG/FiB,EAAUjB,EAAK,IAGjB,QAAQ,IAAI,YAAaa,CAAS,EAClC,QAAQ,IAAI,UAAWE,CAAO,EAC9B,IAAIT,EAAMW,EAAUpD,EAAI,MAAM,GAAG,MACjC,QAAQ,IAAI,SAAUyC,CAAG,EACzB,QAAQ,IAAI,sBAAuB,GAAKA,EAAMO,EAAYE,GAAWT,CAAG,EAExE,IAAMa,EAAY,oBAAoBN,EAAY,KAAM,QAAQ,CAAC,YAC7DO,EAAU,IACVP,EAAY,IACdO,EAAU,IACDP,EAAY,IACrBO,EAAU,IACDP,EAAY,MACrBO,EAAU,KAEZhC,EAAkBvB,EAAKuD,EAASD,EAAWL,CAAS,EAEpD,IAAMO,EAAgB,wBAAwBN,EAAU,KAAM,QAAQ,CAAC,YACnEO,EAAc,IACdP,EAAU,IACZO,EAAc,IACLP,EAAU,IACnBO,EAAc,IACLP,EAAU,MACnBO,EAAc,KAEhBlC,EAAkBvB,EAAKyD,EAAaD,EAAeL,CAAa,CAClE,CAEA,SAAS9C,GAA2BL,EAAK,CAEvC,IAAI0D,EAAa1D,EAAI,MAAMS,EAAS,mBAC9BkD,EAAW3D,EAAI,MAAMS,EAAS,sBAEpC,GAAI,CAACiD,EAAY,CACfA,EAAa,CAAC,EACd,IAAIE,EAAO,IACPC,EAAY,EAAID,EAChBE,EAAiB9D,EAAI,MAAQ6D,EAAYD,EAC7C,QAAWzB,KAAQnC,EAAI,MAAO,CAC5B,GAAImC,EAAK,KAAO1B,EAAS,yBACvB,SAEF,IAAIsD,EAAY5B,EAAK,MAAQyB,EACzBG,EAAYD,EAAiBD,IAG7BC,EAAiB9D,EAAI,OACvB0D,EAAW,KAAK,CACd,OAAQ,KAAK,IAAII,EAAiBD,EAAWE,EAAY,CAAC,CAC5D,CAAC,EAEHD,EAAiBC,EACjBL,EAAW,KAAK,CACd,MAAOK,CACT,CAAC,EACH,CACID,EAAiB9D,EAAI,OACvB0D,EAAW,KAAK,CACd,OAAQ,KAAK,IAAII,EAAiBD,EAAW7D,EAAI,GAAG,CACtD,CAAC,CAEL,CACA,IAAIgE,EAAwB,EAExBC,EAAc,GACdC,EAAY,CAAC,EACbC,EAAc,EAClB,QAASC,KAASV,EAAY,CAC5B,GAAIU,EAAM,MAAO,CACXH,EAAc,IAChBA,EAAcG,EAAM,OAEtB,QACF,CAEA,GAAIA,EAAM,QAAUH,EAAc,EAChC,SAEF,IAAMI,EAAYD,EAAM,OAEpBE,EAAU,EACRC,EAAQF,EAAYJ,EACtBO,EAAU,GACd,QAASC,EAAIT,EAAuBS,EAAId,EAAS,OAAQc,IAAK,CAC5D,IAAIC,EAAKf,EAASc,GAClB,GAAIC,EAAG,MAAO,CACRF,EAAU,IACZA,EAAUE,EAAG,MACbV,EAAwBS,GAE1B,QACF,CAEA,GAAIC,EAAG,QAAUF,EAAU,EACzB,SAEF,IAAMG,EAAQD,EAAG,OAKjB,GAJIC,EAAQV,GAAeO,EAAUH,IACnCC,GAAW,KAAK,IAAIK,EAAON,CAAS,EAAI,KAAK,IAAIJ,EAAaO,CAAO,GAGnEG,EAAQN,GAAaG,EAAUP,EAAa,CAC9CK,GAAWC,EACX,KACF,CAEA,GADAC,EAAU,GACNG,EAAQN,EACV,KAEJ,CACA,IAAMO,EAAWN,EAAUC,EAC3BJ,GAAe,EACXS,EAAW,IACbV,EAAU,KAAK,CACb,SAAUU,EACV,OAAQ,IAAI/B,EAAOoB,EAAaI,EAAW,GAAG,KAAK,MAAMO,EAAW,GAAG,IAAI,CAC7E,CAAC,EAEHX,EAAc,EAChB,CAEA,QAAQ,IAAIC,CAAS,EAErB,IAAIW,EAAU,cAAcX,EAAU,UAAUC,sBAC5CD,EAAU,SAAW,IACvBW,GAAW,KAEb,IAAIrD,EAAQ,IACR0C,EAAU,OAAS,EACrB1C,EAAQ,IACC0C,EAAU,OAAS,EAC5B1C,EAAQ,IACC0C,EAAU,OAAS,EAC5B1C,EAAQ,IACC0C,EAAU,OAAS,IAC5B1C,EAAQ,KAEVD,EAAkBvB,EAAKwB,EAAOqD,EAASX,EAAU,IAAIY,GAAKA,EAAE,MAAM,CAAC,CACrE,CAEA,SAASxE,GAAkBN,EAAK,CAQ9B,IAAI+E,EAAa/E,EAAI,MAAQ,KACzBgF,EAAU,EACVC,EAAW,EACTvD,EAAU,CAAC,EACbwD,EAAW,GACf,QAAW/C,KAAQnC,EAAI,MACrB,GAAImC,EAAK,KAAO1B,EAAS,aAAc,CACrCyE,EAAW,GACX,IAAIC,EAAc,GAClB,KAAOhD,EAAK,MAAQ4C,GAAcA,GAAc,GAC1CC,EAAU,EACZA,GAAW,GAEXC,GAAY,EACZE,EAAc,KAAK,IAAIA,EAAaJ,CAAU,GAEhDA,GAAc,KAEZI,EAAc,GAChBzD,EAAQ,KAAK,IAAImB,EAAOsC,EAAahD,EAAK,KAAK,CAAC,EAGlD6C,GAAW,EACPD,EAAa,IACfA,EAAa5C,EAAK,MAAQ,KAE9B,CAMF,GAJI4C,EAAa/E,EAAI,MACnBiF,GAAY,KAAK,OAAOjF,EAAI,IAAM+E,GAAc,IAAQ,EACxDrD,EAAQ,KAAK,IAAImB,EAAOkC,EAAY/E,EAAI,GAAG,CAAC,GAE1C,CAACkF,EAEH,OAEF,IAAI1D,EAAQ,IAUZ,GATIyD,EAAW,EACbzD,EAAQ,IACCyD,EAAW,EACpBzD,EAAQ,IACCyD,EAAW,EACpBzD,EAAQ,IACCyD,EAAW,IACpBzD,EAAQ,KAENuD,GAAc,EAAG,CAEnB,IAAMF,EAAU,QAAQI,KADHA,IAAa,EAAI,SAAW,4BAEjD1D,EAAkBvB,EAAKwB,EAAOqD,EAASnD,CAAO,CAChD,MACEH,EAAkBvB,EAAK,IAAK,6BAA8B,CAAC,CAAC,CAEhE,CAEA,SAASO,EAA2BP,EAAK,CACvC,GAAI,CAACA,EAAI,MAAM,eAAeS,EAAS,oBAAoB,EAEzD,OAMF,IAAM2E,EAAmB,CACvB,CAAC3E,EAAS,gBAAiB,GAC3B,CAACA,EAAS,gBAAiB,GAC3B,CAACA,EAAS,sBAAuB,GAEjC,CAACA,EAAS,WAAY,EACxB,EAEMiB,EAAU,CAAC,EAEXiC,EACJ3D,EAAI,MAAMS,EAAS,sBAChB,OAAO2D,GAASA,EAAM,eAAe,QAAQ,CAAC,EAAE,OAAO,EACtDiB,EACJrF,EAAI,MAAMS,EAAS,oBAChB,OAAO2D,GAASA,EAAM,eAAe,QAAQ,CAAC,EAAE,OAAO,EAExDM,EAAKf,EAAS,KAAK,EACnB2B,EAAK3B,EAAS,KAAK,EAEvB,QAAWxB,KAAQnC,EAAI,MAAO,CAC5B,KAAO0E,EAAG,OAASA,EAAG,MAAM,OAASvC,EAAK,OACxCuC,EAAKf,EAAS,KAAK,EAErB,KAAO2B,EAAG,OAASA,EAAG,MAAM,OAASnD,EAAK,OACxCmD,EAAKD,EAAO,KAAK,EAGfX,EAAG,OAASA,EAAG,MAAM,OAASvC,EAAK,MACrC,QAAQ,IAAI,gBAAiBA,EAAMnC,EAAI,OAAOmC,EAAK,GAAG,EACjDiD,EAAiBjD,EAAK,KACzBT,EAAQ,KAAK,IAAImB,EAAOV,EAAK,MAAOA,EAAK,IAAKnC,EAAI,OAAOmC,EAAK,GAAG,CAAC,GAGlEmD,EAAG,OAASA,EAAG,MAAM,OAASnD,EAAK,MACrC,QAAQ,IAAI,gBAAiBA,EAAMnC,EAAI,OAAOmC,EAAK,GAAG,EACjDiD,EAAiBjD,EAAK,KACzBT,EAAQ,KAAK,IAAImB,EAAOV,EAAK,MAAOA,EAAK,IAAKnC,EAAI,OAAOmC,EAAK,GAAG,CAAC,EAGxE,CAEA,IAAIX,EAAQ,IACRE,EAAQ,OAAS,EACnBF,EAAQ,IACCE,EAAQ,OAAS,EAC1BF,EAAQ,IACCE,EAAQ,OAAS,EAC1BF,EAAQ,IACCE,EAAQ,OAAS,KAC1BF,EAAQ,KAEV,IAAIqD,EAAU,+BAA+BnD,EAAQ,sBACjDA,EAAQ,SAAW,IACrBmD,GAAW,KAEbtD,EAAkBvB,EAAKwB,EAAOqD,EAASnD,CAAO,CAChD,CAEA,SAASlB,EAAgBR,EAAKuF,EAAQC,EAAY,CAChD,IAAMC,EAAWzF,EAAI,MAAMuF,GAEvBG,EAAW,EACXC,EAAY,GACZC,EAAa,GACblE,EAAU,CAAC,EAEf,QAAS0C,KAASqB,EACZrB,EAAM,OACJuB,EAAY,IACVC,EAAa,IAEXxB,EAAM,MAAQwB,EAAa,IAC7BlE,EAAQ,KAAK,IAAImB,EAAO+C,EAAYxB,EAAM,KAAK,CAAC,EAElDsB,GAAYtB,EAAM,MAAQwB,GAE5BD,EAAYvB,EAAM,OAIlBA,EAAM,SACRwB,EAAaxB,EAAM,OACnBuB,EAAY,IAIhB,IAAME,GAAWH,EAAW,KAAM,QAAQ,CAAC,EACrCI,EAAO,IAAM,KAAK,MAAM,IAAMJ,GAAY1F,EAAI,IAAMA,EAAI,MAAM,EAC9D+F,EAAO/F,EAAI,OAAOuF,GAClBV,EAAU,OAAOiB,gBAAmBC,kBAAqBF,cAAoBL,MAC/EhE,EAAQ,IACNwE,GAAYR,EAAaM,GAAQN,EACnCQ,EAAW,IACbxE,EAAQ,IACCwE,EAAW,IACpBxE,EAAQ,IACCwE,EAAW,GACpBxE,EAAQ,IACCwE,EAAW,MACpBxE,EAAQ,KAEVD,EAAkBvB,EAAKwB,EAAOqD,EAASnD,CAAO,CAChD,CAEA,SAASuE,EAAaC,EAAO,CAC3B,IAAIC,EAAa,GAAIC,EAAW,GAC5BC,EAAc,GAAIC,EAAY,GAC9BC,EAAa,GACjB,QAAWpE,KAAQ+D,EACjB,GAAIK,EAEEpE,EAAK,KAAO1B,EAAS,2BACvB0F,EAAahE,EAAK,OAGhBA,EAAK,KAAO1B,EAAS,6BACvB2F,EAAWjE,EAAK,IAChBoE,EAAa,YAEND,EAAY,EAEjBnE,EAAK,KAAO1B,EAAS,8BACvB,QAAQ,IAAI,cAAe0B,EAAK,KAAK,EACrCkE,EAAclE,EAAK,OAEjBA,EAAK,KAAO1B,EAAS,6BACvB6F,EAAYnE,EAAK,SAGnB,OAGJ,MAAO,CACL,WAAAgE,EACA,SAAAC,EACA,YAAAC,EACA,UAAAC,CACF,CACF,CAEA,SAAS5F,GAAeV,EAAKE,EAAW,CACtC,GAAI,CACF,WAAYsG,EACZ,SAAUC,EACV,YAAaC,EACb,UAAWC,CACb,EAAIV,EAAa/F,EAAU,KAAK,EAC5B,CAAC,WAAAiG,EAAY,SAAAC,EAAU,YAAAC,EAAa,UAAAC,CAAS,EAAIL,EAAajG,EAAI,KAAK,EAE3E,GADA,QAAQ,IAAIiG,EAAa/F,EAAU,KAAK,EAAG+F,EAAajG,EAAI,KAAK,CAAC,EAC9DmG,EAAa,EAAG,CAClB5E,EAAkBvB,EAAK,IAAK,wBAA0B,CAAC,CAAC,EACxD,MACF,CACA,GAAIqG,EAAc,EAAG,CACnB9E,EAAkBvB,EAAK,IAAK,4BAA8B,CAAC,CAAC,EAC5D,MACF,CACA,IAAM4G,EAAWR,EAAWD,EACtBU,EAAYP,EAAYD,EACxBS,EAAgBL,EAAgBD,EAChCO,EAAiBJ,EAAiBD,EAElCM,EAAQb,EAAanG,EAAI,MAAQwG,GACpCI,EAAWE,IACXT,EAAcrG,EAAI,MAAQ0G,IAC1BG,EAAYE,GAEf,QAAQ,IAAI,WAAYC,EAAMb,EAAYC,EAAUC,EAAaC,CAAS,EAE1E,IAAI9E,EAAQ,IACRwF,EAAO,IACTxF,EAAQ,IACCwF,EAAO,IAChBxF,EAAQ,IACCwF,EAAO,IAChBxF,EAAQ,IACCwF,EAAO,MAChBxF,EAAQ,KAGV,SAASyF,EAASC,EAAG,CACnB,MAAO,GAAG,KAAK,MAAMA,EAAI,EAAE,EAAI,GAAK,MACtC,CACA,QAAQ,IAAI,YAAaR,CAAgB,EACzC,IAAMhF,EAAU,CACd,IAAImB,EAAOsD,EAAYC,EAAU,uBAAuBa,EAAST,CAAe,KAAKS,EAASR,CAAa,IAAI,EAC/G,IAAI5D,EAAOwD,EAAaC,EAAW,wBAAwBW,EAASP,CAAgB,KAAKO,EAASN,CAAc,IAAI,CACtH,EAEApF,EAAkBvB,EAAKwB,EAAO,+BAA+BwF,EAAO,KAAM,QAAQ,CAAC,YAAatF,CAAO,CACzG,CAEA,SAASf,EAAgBX,EAAKmH,EAASC,EAAU,CAAC,EAAG,CAEnD,IAAMC,EAAYhF,EAAU,IAAI8E,CAAO,EACvC,GAAI,CAACE,EAAW,CACd,QAAQ,KAAK,qBAAsBF,CAAO,EAC1C,MACF,CAEA,IAAIG,EACAC,EAAgB,EACpB,QAASC,KAAQH,EAAU,MACrBG,EAAK,OAAS,aAChBF,EAAWE,EAAK,MAAQ,IAAO,MAE7BA,EAAK,OAAS,mBAChBD,EAAgBC,EAAK,SAAW,IAAO,MAG3C,GAAI,CAACF,EAAU,CACb,QAAQ,KAAK,yBAA0BH,EAASE,CAAS,EACzD,MACF,CAEAC,EAAW,KAAK,IAAIC,EAAeD,CAAQ,EAE3C,IAAIG,EAAWzH,EAAI,MAAQsH,EACvBI,EAAa,EACXhG,EAAU,CAAC,EACbiG,EAASP,EAAQ,OACrB,QAAWjF,KAAQnC,EAAI,MAIrB,GAHI2H,GAAUA,EAAO,IAAIxF,EAAK,EAAE,IAC9BsF,EAAWtF,EAAK,KAEdA,EAAK,KAAOgF,EAAS,CACvB,GAAIhF,EAAK,MAAQsF,EAAU,CACzB,IAAIpE,EAASlB,EAAK,MAAQsF,EACtBpE,EAAS,KACX3B,EAAQ,KAAK,IAAImB,EAAO4E,EAAUtF,EAAK,KAAK,CAAC,EAE/CuF,GAAcrE,CAChB,CACAoE,EAAWtF,EAAK,IAAMmF,CACxB,CAEF,IAAIM,EAAc,KAAK,MAAMF,EAAaJ,CAAQ,EAC9C9F,EAAQ,IACNqG,EAAWT,EAAQ,UAAY,EACrCQ,GAAeC,EACXD,EAAc,EAChBpG,EAAQ,IACCoG,EAAc,EACvBpG,EAAQ,IACCoG,EAAc,EACvBpG,EAAQ,IACCoG,EAAc,IACvBpG,EAAQ,KAEVoG,GAAeC,EAEf,IAAMhD,EAAU,QAAQ+C,KADLA,IAAgB,EAAI,OAAS,cACQP,EAAU,OAClE9F,EAAkBvB,EAAKwB,EAAOqD,EAASnD,CAAO,CAChD,CAEA,SAASV,EAAwBhB,EAAKmH,EAASW,EAAe,CAE5D,IAAMT,EAAYhF,EAAU,IAAI8E,CAAO,EACvC,GAAI,CAACE,EAAW,CACd,QAAQ,KAAK,qBAAsBF,CAAO,EAC1C,MACF,CACA,IAAIY,EAAoB,GACpBC,EAAa,GAEbC,EAAgB,EAChBC,EAAQ,EACRC,EAAU,CAAC,EAEf,QAAWhG,KAAQnC,EAAI,MACjBmC,EAAK,KAAO1B,EAAS,cACvBsH,EAAoB,GAChBC,IACFA,EAAa,GACbG,EAAQ,KAAK,CACX,MAAAD,EACA,IAAK/F,EAAK,IACV,cAAA8F,CACF,CAAC,GAEHC,EAAQ/F,EAAK,OAEX,CAAA4F,GAGA5F,EAAK,KAAOgF,IACTa,IACHA,EAAa,GACbC,EAAgB,GAElBA,GAAiB,GAGrB,IAAIzG,EAAQ,IACR4G,EAAY,EACZ1G,EAAU,CAAC,EACf,QAAS2G,KAAUF,EAAS,CAC1B,GAAIE,EAAO,gBAAkBP,EAAe,CAC1CM,GAAa,EACb,QACF,CACA1G,EAAQ,KAAK,IAAImB,EAAOwF,EAAO,MAAOA,EAAO,IAAK,QAAQA,EAAO,iBAAiBP,SAAqB,CAAC,CAC1G,CAEIK,EAAQ,OAASC,IAAc,EACjC5G,EAAQ,IACC2G,EAAQ,OAASC,EAAY,EACtC5G,EAAQ,IACC2G,EAAQ,OAASC,EAAY,EACtC5G,EAAQ,IACC2G,EAAQ,OAASC,EAAY,IACtC5G,EAAQ,KAEV,IAAM8G,EAAaH,EAAQ,SAAW,EAAI,OAAS,QAC7CtD,EAAU,QAAQwC,EAAU,QAAQS,cAA0BM,KAAaD,EAAQ,UAAUG,IACnG/G,EAAkBvB,EAAKwB,EAAOqD,EAASnD,CAAO,CAChD,CAEA,SAASd,EAAoBZ,EAAKmH,EAASoB,EAAwB,CAEjE,IAAMlB,EAAYhF,EAAU,IAAI8E,CAAO,EACvC,GAAI,CAACE,EAAW,CACd,QAAQ,KAAK,qBAAsBF,CAAO,EAC1C,MACF,CAEA,IAAIjB,EAAQ,EACZ,QAAW/D,KAAQnC,EAAI,MACjBmC,EAAK,KAAOgF,IACdjB,GAAS,GAGb,IAAI1E,EAAQ,IACNsG,EACJ,KAAK,MAAMS,GAA0BvI,EAAI,IAAMA,EAAI,OAAS,GAAI,EAC9D8H,EAAgB5B,EAAQ,EAC1B1E,EAAQ,IACCsG,EAAgB5B,EAAQ,EACjC1E,EAAQ,IACCsG,EAAgB5B,EAAQ,EACjC1E,EAAQ,IACCsG,EAAgB5B,EAAQ,IACjC1E,EAAQ,KAEV,IAAM8G,EAAapC,IAAU,EAAI,OAAS,QACpCrB,EAAU,QAAQwC,EAAU,QAAQnB,KAAS4B,KAAiBQ,IACpE/G,EAAkBvB,EAAKwB,EAAOqD,EAAS,CAAC,CAAC,CAC3C,CAEA,SAASvD,GAA0BtB,EAAK,CACtCuB,EAAkBvB,EAAK,IAAK,gCAAiC,CAAC,CAAC,CACjE,CAEA,SAASmB,GAAmBnB,EAAKmH,EAASU,EAAU,CAClD,IAAMR,EAAYhF,EAAU,IAAI8E,CAAO,EACvC,GAAI,CAACE,EAAW,CACd,QAAQ,KAAK,qBAAsBF,CAAO,EAC1C,MACF,CACA,IAAMzF,EAAU,CAAC,EACjB,QAAWS,KAAQnC,EAAI,MACjB,CAACmC,EAAK,OAGNA,EAAK,KAAOgF,GACdzF,EAAQ,KAAK,IAAImB,EAAOV,EAAK,MAAOA,EAAK,GAAG,CAAC,EAGjD,IAAIX,EAAQ,IACRgH,EAAW9G,EAAQ,OACvB8G,GAAYX,EACRW,EAAW,EACbhH,EAAQ,IACCgH,EAAW,EACpBhH,EAAQ,IACCgH,EAAW,EACpBhH,EAAQ,IACCgH,EAAW,IACpBhH,EAAQ,KAEVgH,GAAYX,EACZ,IAAMS,EAAaE,IAAa,EAAI,OAAS,QACvC3D,EAAU,kBAAkBwC,EAAU,QAAQmB,KAAYF,IAChE/G,EAAkBvB,EAAKwB,EAAOqD,EAASnD,CAAO,CAChD,CAEA,SAASN,GAAgBpB,EAAKmH,EAASsB,EAAUC,EAAU,CACzD,IAAMrB,EAAYhF,EAAU,IAAI8E,CAAO,EACvC,GAAI,CAACE,EAAW,CACd,QAAQ,KAAK,qBAAsBF,CAAO,EAC1C,MACF,CACA,IAAMzF,EAAU,CAAC,EACbc,EAAQ,CAAC,EACTmG,EAAW,EACf,QAAWxG,KAAQnC,EAAI,MACrB,GAAI,EAACmC,EAAK,MAGV,IAAIA,EAAK,KAAOgF,EAAS,CACvB,GAAI3E,EAAM,SAAW,EACnB,SAGEL,EAAK,MAAQK,EAAM,GAAG,IAAMkG,IAC9BlG,EAAQ,CAAC,GAEX,QACF,CACAA,EAAM,KAAKL,CAAI,EAEXK,EAAM,OAASiG,IACjB/G,EAAQ,KAAK,IAAImB,EAAOV,EAAK,MAAOA,EAAK,GAAG,CAAC,EAC7CwG,GAAYxG,EAAK,IAAMA,EAAK,OAIhC,IAAIX,EAAQ,IACRgH,EAAW9G,EAAQ,OACnB8G,EAAW,EACbhH,EAAQ,IACCgH,EAAW,EACpBhH,EAAQ,IACCgH,EAAW,EACpBhH,EAAQ,IACCgH,EAAW,IACpBhH,EAAQ,KAEV,IAAM8G,EAAaE,IAAa,EAAI,OAAS,QACvC3D,EAAU,WAAWwC,EAAU,iBAAiBmB,KAAYF,YAAqBK,EAAW,KAAM,QAAQ,CAAC,MACjHpH,EAAkBvB,EAAKwB,EAAOqD,EAASnD,CAAO,CAChD,CAEA,SAASR,GAAoBlB,EAAKmH,EAASG,EAAUsB,EAAY,CAC/D,IAAMvB,EAAYhF,EAAU,IAAI8E,CAAO,EACvC,GAAI,CAACE,EAAW,CACd,QAAQ,KAAK,qBAAsBF,CAAO,EAC1C,MACF,CAEA,IAAInC,EAAU4D,EACV7D,EAAa/E,EAAI,MAAQsH,EACzBrC,EAAW,EACTvD,EAAU,CAAC,EACbwD,EAAW,GACf,QAAW/C,KAAQnC,EAAI,MACrB,GAAImC,EAAK,KAAOgF,EAAS,CACvBjC,EAAW,GACX,IAAIC,EAAc,GAClB,KAAOhD,EAAK,MAAQ4C,GAAcA,GAAc,GAC1CC,EAAU4D,EACZ5D,GAAW,GAEXC,GAAY,EACZE,EAAc,KAAK,IAAIA,EAAaJ,CAAU,GAEhDA,GAAcuC,EAEZnC,EAAc,GAChBzD,EAAQ,KAAK,IAAImB,EAAOsC,EAAahD,EAAK,KAAK,CAAC,EAGlD6C,GAAW,EACPD,EAAa,IACfA,EAAa5C,EAAK,MAAQmF,EAE9B,CAMF,GAJIvC,EAAa/E,EAAI,MACnBiF,GAAY,KAAK,OAAOjF,EAAI,IAAM+E,GAAcuC,CAAQ,EACxD5F,EAAQ,KAAK,IAAImB,EAAOkC,EAAY/E,EAAI,GAAG,CAAC,GAE1C,CAACkF,EAEH,OAEF,IAAI1D,EAAQ,IAUZ,GATIyD,EAAW,EACbzD,EAAQ,IACCyD,EAAW,EACpBzD,EAAQ,IACCyD,EAAW,EACpBzD,EAAQ,IACCyD,EAAW,IACpBzD,EAAQ,KAENuD,GAAc,EAAG,CAEnB,IAAMF,EAAU,QAAQI,KADHA,IAAa,EAAI,SAAW,gBACMoC,EAAU,OACjE9F,EAAkBvB,EAAKwB,EAAOqD,EAASnD,CAAO,CAChD,CACF,CAEA,SAASL,GAA0BrB,EAAKmH,EAAS0B,EAAgB,CAC/D,IAAMxB,EAAYhF,EAAU,IAAI8E,CAAO,EACvC,GAAI,CAACE,EAAW,CACd,QAAQ,KAAK,qBAAsBF,CAAO,EAC1C,MACF,CACA,IAAIzF,EAAU,CAAC,EACXoH,EAAY,CAAC,EACjB,QAAW3G,KAAQnC,EAAI,MACrB,GAAImC,EAAK,KAAOgF,IACd2B,EAAU,KAAK3G,EAAK,IAAMA,EAAK,KAAK,EAChCA,EAAK,IAAMA,EAAK,MAAQ0G,GAAgB,CAC1C,IAAI7B,GAAQ7E,EAAK,IAAMA,EAAK,MAAQ0G,GAAkB,IACtDnH,EAAQ,KAAK,IAAImB,EAAOV,EAAK,MAAQ0G,EAAgB1G,EAAK,IAAK,WAAW6E,EAAK,QAAQ,CAAC,IAAI,CAAC,CAC/F,CAIJ,QAAQ,IAAI,aAAc8B,CAAS,EAEnC,IAAIC,EAAY,EAChB,QAASC,KAAQF,EACfC,GAAaC,EAAOH,EAGtB,IAAIrH,EAAQ,IACRuH,EAAY,IACdvH,EAAQ,IACCuH,EAAY,IACrBvH,EAAQ,IACCuH,EAAY,IACrBvH,EAAQ,IACCuH,EAAY,MACrBvH,EAAQ,KAEV,IAAMqD,EAAU,SAASkE,EAAY,KAAM,QAAQ,CAAC,eAAe1B,EAAU,mBAC7E9F,EAAkBvB,EAAKwB,EAAOqD,EAASnD,CAAO,CAChD,CAEA,SAASb,GAAuBb,EAAKiJ,EAAWC,EAAcC,EAAS,CACrE,IAAIC,EAAO,EACPC,EAAY,GACZC,EAAS,EACTnB,EAAU,CAAC,EAEf,QAAWhG,KAAQnC,EAAI,MAKrB,GAJImC,EAAK,KAAO+G,IACdG,EAAY,IAGVlH,EAAK,KAAO1B,EAAS,YAAa,CACpC,GAAI4I,EAAW,CACb,IAAIE,EAAYN,EAAUG,GAC1BjB,EAAQ,KAAK,CACX,MAAOmB,EACP,IAAKnH,EAAK,IACV,OAAQoH,CACV,CAAC,EACDH,GAAQA,EAAO,GAAKH,EAAU,MAChC,CACAK,EAASnH,EAAK,GAChB,CAGF,IAAIX,EAAQ,IACR4G,EAAY,EACZ1G,EAAU,CAAC,EACX8H,EAAO,EACPC,EAAU,EACd,QAASpB,KAAUF,EAAS,CAC1B,IAAI1F,EAAM4F,EAAO,IAAMA,EAAO,MAC9B,GAAIA,EAAO,OAAO,IAAM5F,EAAK,CAC3B2F,GAAa,EACb,QACF,CACA,IAAIsB,EAASjH,EAAM4F,EAAO,OAAO,IACjCmB,GAAQE,EACRD,EAAU,KAAK,IAAIA,EAASC,CAAM,EAClChI,EAAQ,KAAK,IAAImB,EAAOwF,EAAO,MAAOA,EAAO,IAAK,SAASqB,oBAAyBrB,EAAO,OAAO,OAAO,CAAC,CAC5G,CAEIc,IACFK,GAAQC,GAGND,EAAO,GACThI,EAAQ,IACCgI,EAAO,IAChBhI,EAAQ,IACCgI,EAAO,IAChBhI,EAAQ,IACCgI,EAAO,IAChBhI,EAAQ,IACCgI,EAAO,MAChBhI,EAAQ,KAEV,IAAMmI,EAAaxB,EAAQ,SAAW,EAAI,OAAS,QAC/CyB,EAAsB,GACtBT,IACFS,EAAsB,aAAaH,QAErC,IAAM5E,EAAU,mBAAmB2E,SAAYpB,KAAaD,EAAQ,UAAUwB,IAAaC,KAC3FrI,EAAkBvB,EAAKwB,EAAOqD,EAASnD,CAAO,CAChD,CCptCA,IAAMmI,GAAa,CAEjB,QAAS,GACT,OAAQ,GACR,SAAU,GAEV,aAAc,GACd,OAAQ,GACR,SAAU,GAEV,OAAQ,GACR,QAAS,GACT,UAAW,GAEX,SAAU,GACV,UAAW,GACX,UAAW,GAGX,UAAW,GACX,QAAS,GAET,UAAW,GACX,QAAS,GACT,QAAS,GACT,SAAU,GACV,aAAc,GACd,UAAW,GACX,WAAY,GAEZ,OAAQ,GACR,SAAU,GACV,WAAY,GAEZ,UAAW,GACX,aAAc,GACd,WAAY,EACd,EAEqBC,EAArB,KAAkC,CAChC,YAAYC,EAAK,CACf,KAAK,KAAOA,EAAI,MAAQ,UACxB,QAAQ,IAAIA,EAAI,OAAO,EACvB,KAAK,QAAUA,EAAI,QAChB,OAAOC,GAAUH,GAAWG,EAAO,WAAW,EACjD,KAAK,SAAW,KAAK,SAAS,KAAK,IAAI,EACvC,KAAK,IAAM,KACX,KAAK,aAAe,KACpB,KAAK,SAAW,IAClB,CAEA,QAAS,CACP,KAAK,IAAM,SAAS,cAAc,KAAK,EACvC,KAAK,IAAI,UAAU,IAAI,eAAe,EAEtC,IAAIC,EAAY,SAAS,cAAc,KAAK,EAC5CA,EAAU,UAAU,IAAI,0BAA0B,EAClDA,EAAU,YAAc,KAAK,KAC7B,KAAK,IAAI,YAAYA,CAAS,EAE9B,KAAK,aAAe,SAAS,cAAc,QAAQ,EACnD,KAAK,aAAa,UAAU,IAAI,6BAA6B,EAC7D,QAASD,KAAU,KAAK,QAAS,CAC/B,IAAIE,EAAe,SAAS,cAAc,QAAQ,EAClDA,EAAa,YAAcF,EAAO,KAClCE,EAAa,MAAQF,EAAO,KAC5B,KAAK,aAAa,YAAYE,CAAY,CAC5C,CACA,KAAK,IAAI,YAAY,KAAK,YAAY,EAEtC,IAAIC,EAAS,SAAS,cAAc,OAAO,EAC3CA,EAAO,UAAU,IAAI,sBAAsB,EAC3CA,EAAO,KAAO,SACdA,EAAO,MAAQ,UACfA,EAAO,iBAAiB,QAAS,KAAK,QAAQ,EAC9C,KAAK,IAAI,YAAYA,CAAM,EAE3B,SAAS,cAAc,0BAA0B,EAAE,YAAY,KAAK,GAAG,CACzE,CAEA,QAAS,CACP,KAAK,IAAI,WAAW,UAAU,IAAI,QAAQ,EAC1C,KAAK,IAAI,WAAW,YAAY,KAAK,GAAG,EACxC,KAAK,aAAe,KACpB,KAAK,IAAM,IACb,CAEA,UAAW,CACT,IAAIC,EAAiB,KACrB,QAASJ,KAAU,KAAK,QAClB,KAAK,aAAa,QAAUA,EAAO,OACrCI,EAAiBJ,GAGrB,KAAK,OAAO,EACZ,KAAK,SAASI,CAAc,EAC5B,KAAK,SAAW,IAClB,CACF,EC9FA,IAAAC,EAAqB,QCHrB,IAAAC,GAAqB,QAErB,eAAeC,EAAIC,EAAIC,EAAM,CAC3B,IAAMC,EAAM,gBAAgBF,SAEtBG,EAAM,MADA,MAAM,MAAMD,CAAG,GACL,KAAK,EACrBE,EAAM,GAAAC,QAAS,UAAUF,CAAG,EAClC,OAAAC,EAAI,MAAQA,EAAI,MAAM,GACtBA,EAAI,MAAQA,EAAI,MAAM,GACtBA,EAAI,eAAiBA,EAAI,eAAe,GACxCA,EAAI,GAAKJ,EACJC,IACHG,EAAI,KAAOJ,EAAG,QAAQ,KAAM,GAAG,GAE1BI,CACT,CAEA,SAASE,EAAQF,EAAKJ,EAAI,CACxB,QAASO,KAAQH,EAAI,MACnB,GAAIG,EAAK,KAAOP,EACd,MAAO,GAGX,MAAO,EACT,CAEA,SAASQ,GAAQJ,EAAKH,EAAM,CAC1B,GAAIG,EAAI,SACN,QAASK,KAAOL,EAAI,QAClB,GAAIA,EAAI,QAAQK,GAAK,OAASR,EAC5B,MAAO,GAIb,GAAIG,EAAI,QACN,QAASK,KAAOL,EAAI,OAClB,GAAIA,EAAI,OAAOK,KAASR,EACtB,MAAO,GAKb,MAAO,EACT,CAEA,IAAMS,GAAY,KAClB,SAASC,GAAcC,EAAgBC,EAAQ,CAC7C,QAASC,KAAQF,EAAe,YAC9B,GAAIE,EAAK,KAAOD,GAGhB,QAASE,KAAYD,EAAK,SACxB,QAASE,KAAaD,EAAS,UAC7B,GAAIA,EAAS,UAAUC,GAAa,EAClC,MAAO,GAKf,MAAO,EACT,CAEe,SAARC,GAAiBb,EAAKQ,EAAgB,CAC3C,IAAMM,EAAON,EAAe,WAE5B,GAAIM,IAAS,UACX,OAAIN,EAAe,QAAQ,SAAS,QAAQ,EAExCR,EAAI,OAAO,eAAee,EAAS,oBAAoB,EAEhDpB,EAAI,mBAAmB,EAEvBA,EAAI,mBAAmB,EAGzBA,EAAI,eAAe,EAI9B,GAAImB,IAAS,SAAU,CACrB,IAAIE,EAAUhB,EAAI,OAAO,eAAee,EAAS,UAAU,EACvDE,EAAajB,EAAI,MAAM,eAAee,EAAS,SAAS,EAC5D,GAAIC,EAAS,CACX,GAAIC,EAGF,OADEjB,EAAI,OAAO,eAAee,EAAS,oBAAoB,EAEhDpB,EAAI,kBAAkB,EAEtBA,EAAI,6BAA6B,EAG5C,GAAIa,EAAe,QAAQ,SAAS,OAAO,EACzC,OAAOb,EAAI,oBAAoB,EAEjC,GAAIa,EAAe,QAAQ,SAAS,SAAS,EAC3C,OAAOb,EAAI,sBAAsB,EAEnC,GAAIa,EAAe,QAAQ,SAAS,QAAQ,EAC1C,OAAOb,EAAI,qBAAqB,CAEpC,KAAO,QAAIa,EAAe,QAAQ,SAAS,OAAO,EAEvCb,EADLqB,EACS,qBAEF,oBAFsB,EAK7Bd,EAAQF,EAAKe,EAAS,wBAAwB,EAEvCpB,EADLsB,EACS,wBAEA,yBAFuB,EAK7BtB,EADEsB,EACE,wBAEA,mBAFuB,CAKxC,CAEA,GAAIH,IAAS,WAEX,OAAOnB,EAAI,gBAAgB,EAK7B,GAAImB,IAAS,eACX,OAAIN,EAAe,QAAQ,SAAS,QAAQ,EACtCA,EAAe,QAAQ,SAAS,SAAS,EACpCb,EAAI,mBAAmB,EAEvBA,EAAI,mBAAmB,EAG9Ba,EAAe,QAAQ,SAAS,YAAY,EAC1CN,EAAQF,EAAKe,EAAS,YAAY,EAC7BpB,EAAI,iBAAiB,EACnBY,GAAcC,EAAgBF,EAAS,EACzCX,EAAI,uBAAuB,EAE3BA,EAAI,iBAAiB,EAErBa,EAAe,QAAQ,SAAS,SAAS,EAC3Cb,EAAI,cAAc,EAChBO,EAAQF,EAAKe,EAAS,YAAY,EACpCpB,EAAI,oBAAoB,EACtBY,GAAcC,EAAgBF,EAAS,EACzCX,EAAI,0BAA0B,EAC5Ba,EAAe,QAAQ,SAAS,QAAQ,EAC1Cb,EAAI,qBAAqB,EAEzBA,EAAI,oBAAoB,EAInC,GAAImB,IAAS,SACX,OAAIN,EAAe,QAAQ,SAAS,OAAO,EACrCA,EAAe,QAAQ,SAAS,KAAK,EAChCb,EAAI,cAAc,EAElBA,EAAI,cAAc,EAGtBA,EAAI,QAAQ,EAGrB,GAAImB,IAAS,WACX,OAAIN,EAAe,QAAQ,SAAS,YAAY,EACvCb,EAAI,aAAa,EAEtBO,EAAQF,EAAKe,EAAS,uBAAuB,EACxCpB,EAAI,gBAAgB,EAEzBO,EAAQF,EAAKe,EAAS,iBAAiB,EAClCpB,EAAI,gBAAgB,EAEtBA,EAAI,sBAAsB,EAGnC,GAAImB,IAAS,SACX,OAAIN,EAAe,QAAQ,SAAS,SAAS,EACpCb,EAAI,cAAc,EAElBA,EAAI,QAAQ,EAIvB,GAAImB,IAAS,UACX,OAAOnB,EAAI,SAAS,EAGtB,GAAImB,IAAS,YAEX,OAAOnB,EAAI,iBAAiB,EAQ9B,GAAImB,IAAS,YACX,OAAIN,EAAe,QAAQ,SAAS,OAAO,EAClCb,EAAI,kBAAkB,EACpBa,EAAe,QAAQ,SAAS,OAAO,EACzCb,EAAI,kBAAkB,EAEtBA,EAAI,YAAY,EAI3B,GAAImB,IAAS,WACX,OAAIZ,EAAQF,EAAKe,EAAS,aAAa,EAC9BpB,EAAI,gBAAgB,EAEtBA,EAAI,UAAU,EAGvB,GAAImB,IAAS,YACX,OAAIZ,EAAQF,EAAKe,EAAS,sBAAsB,EACvCpB,EAAI,yBAAyB,EAElCa,EAAe,QAAQ,SAAS,MAAM,EACjCb,EAAI,sBAAsB,EAE/BO,EAAQF,EAAKe,EAAS,WAAW,EAC5BpB,EAAI,sBAAsB,EAE5BA,EAAI,iBAAiB,EAG9B,GAAImB,IAAS,YAEX,OAAIN,EAAe,QAAQ,SAAS,UAAU,EACrCb,EAAI,oBAAoB,EACtBa,EAAe,QAAQ,SAAS,OAAO,EAE5CA,EAAe,QAAQ,KAAO,OAASA,EAAe,QAAQ,KAAO,MAChEb,EAAI,kBAAkB,EAExBA,EAAI,iBAAiB,EAG1Ba,EAAe,QAAQ,SAAS,YAAY,EACvCb,EAAI,wBAAwB,EAE5BA,EAAI,wBAAwB,EAIvC,GAAImB,IAAS,UACX,OAAIN,EAAe,QAAQ,SAAS,QAAQ,EACnCb,EAAI,eAAe,EAErBA,EAAI,eAAe,EAG5B,GAAImB,IAAS,YACX,OAAIN,EAAe,QAAQ,SAAS,OAAO,EAClCb,EAAI,iBAAiB,EAErBA,EAAI,iBAAiB,EAIhC,GAAImB,IAAS,UAAW,CACtB,GAAIN,EAAe,QAAQ,SAAS,OAAO,EACzC,OAAOb,EAAI,eAAe,EACrB,GAAIa,EAAe,QAAQ,SAAS,QAAQ,EACjD,OAAOb,EAAI,eAAe,CAE9B,CAIA,GAAImB,IAAS,UACX,OAAIZ,EAAQF,EAAKe,EAAS,cAAc,EAC/BpB,EAAI,oBAAoB,EAE1BA,EAAI,eAAe,EAG5B,GAAImB,IAAS,eACX,OAAIN,EAAe,QAAQ,SAAS,OAAO,EACrCN,EAAQF,EAAKe,EAAS,iBAAiB,EAClCpB,EAAI,4BAA4B,EAEhCA,EAAI,oBAAoB,EAExBa,EAAe,QAAQ,SAAS,SAAS,EAC3Cb,EAAI,sBAAsB,EAE1BA,EAAI,sBAAsB,EAIrC,GAAImB,IAAS,WACX,OAAOnB,EAAI,UAAU,EAGvB,GAAImB,IAAS,YACX,OAAIZ,EAAQF,EAAKe,EAAS,aAAa,EAC9BpB,EAAI,iBAAiB,EACnBa,EAAe,QAAQ,SAAS,YAAY,EAC9Cb,EAAI,oBAAoB,EAExBA,EAAI,uBAAuB,EAItC,GAAImB,IAAS,aACX,OAAIZ,EAAQF,EAAKe,EAAS,cAAc,EAClCP,EAAe,QAAQ,SAAS,YAAY,EACvCb,EAAI,qBAAqB,EAE9BS,GAAQJ,EAAK,iBAAiB,EACzBL,EAAI,6BAA6B,EAEnCA,EAAI,wBAAwB,EAE9BA,EAAI,wBAAwB,EAGrC,GAAImB,IAAS,SACX,OAAIN,EAAe,QAAQ,SAAS,OAAO,EACrCN,EAAQF,EAAKe,EAAS,cAAc,EAC/BpB,EAAI,aAAa,EAEjBA,EAAI,cAAc,EAGpBA,EAAI,cAAc,EAI7B,GAAImB,IAAS,WAAY,CACvB,GAAIN,EAAe,QAAQ,SAAS,OAAO,EACzC,OAAOb,EAAI,eAAe,EAG5B,IAAIuB,EAASlB,EAAI,MAAM,eAAee,EAAS,YAAY,EAE3D,OAAIf,EAAI,MAAM,eAAee,EAAS,yBAAyB,EACtDpB,EAAI,gBAAgB,EAEpBA,EADEuB,EACE,sBAEA,gBAFqB,CAIpC,CAEA,OAAIJ,IAAS,aACPN,EAAe,QAAQ,SAAS,OAAO,EAClCb,EAAI,wBAAwB,EAE9BA,EAAI,qBAAqB,EAQ9BmB,IAAS,YACGN,EAAe,QAAQ,SAAS,SAAS,EAEjDN,EAAQF,EAAKe,EAAS,cAAc,EAC/BpB,EAAI,iBAAiB,EAErBA,EAAI,yBAAyB,EAE7BO,EAAQF,EAAKe,EAAS,WAAW,EACnCpB,EAAI,iBAAiB,EAErBA,EAAI,yBAAyB,EAKpCmB,IAAS,eACJnB,EAAI,sBAAsB,EAG/BmB,IAAS,aACPV,GAAQJ,EAAK,gBAAgB,EACxBL,EAAI,kBAAkB,EAExBA,EAAI,oBAAoB,EAG1B,QAAQ,QAAQ,CACrB,gBAAiB,CAAC,EAClB,MAAO,CAAC,CACV,CAAC,CACH,CC3YA,IAAMwB,GAAe,CACnB,CAACC,EAAS,0BAA2B,EACvC,EAEMC,GAAwB,CAC5B,KAAM,IACN,MAAO,IACT,EAEMC,GAAqB,CACzB,aAAc,IACd,mBAAoB,IACpB,gBAAkB,IAClB,gBAAiB,IACjB,aAAc,GAChB,EAEA,SAASC,GAAcC,EAAM,CAC3B,IAAIC,EAAOC,EAAU,IAAIF,EAAK,EAAE,EAChC,GAAI,GAACC,GAAQ,CAACA,EAAK,MAGnB,OAAOA,EAAK,IACd,CAEA,SAASE,GAAcH,EAAMI,EAAQ,CACnC,IAAIH,EAAOC,EAAU,IAAIF,EAAK,EAAE,EAChC,GAAIC,GAAQA,EAAK,KAAM,CACrB,IAAII,EAAU,GAEVC,EAAUL,EAAK,KAAK,MAAM,sBAAsB,EACpD,GAAIK,GAAWA,EAAQ,OAAS,EAC9BD,EAAUC,EAAQ,GACdL,EAAK,YAAc,CAACA,EAAK,aAC3BI,GAAW,aAEJJ,EAAK,OAAS,QACvBI,EAAU,YACDJ,EAAK,OAAS,UACvBI,EAAU,YACDJ,EAAK,OAAS,OACvBI,EAAU,YACDJ,EAAK,OAAS,WACvBI,EAAU,QACL,CACL,IAAIE,EAAcN,EAAK,KAAK,MAAM,iBAAiB,EAC/CM,GAAeA,EAAY,OAAS,IACtCF,EAAU,IAAME,EAAY,GAEhC,CACA,OAAOF,CACT,SAAWD,EAAOJ,EAAK,IAAK,CAC1B,IAAIQ,EAAYJ,EAAOJ,EAAK,IAC5B,GAAIQ,IAAc,QAChB,MAAO,IACF,GAAIA,EAAU,WAAW,SAAS,EAAG,CAC1C,IAAIC,EAAUD,EAAU,MAAM,cAAc,EAC5C,GAAIC,GAAWA,EAAQ,OAAS,EAC9B,MAAO,IAAMA,EAAQ,EAEzB,KAAO,IAAID,EAAU,WAAW,UAAU,EACxC,MAAO,KACF,GAAIV,GAAmB,eAAeU,CAAS,EACpD,OAAOV,GAAmBU,GAE9B,CAEA,GAAIX,GAAsB,eAAeG,EAAK,EAAE,EAC9C,OAAOH,GAAsBG,EAAK,GAEtC,CAEA,SAASU,GAAUC,EAAOC,EAAKC,EAAOC,EAAKC,EAAYC,EACpCC,EAAY,OAAQ,CACrC,GAAM,CAAC,WAAAC,EAAY,QAAAC,EAAS,QAAAC,CAAO,EAAIL,EAEvC,QAAWf,KAAQa,EAAO,CACxB,GAAIlB,GAAaK,EAAK,IACpB,SAEF,IAAMqB,EAAI,SAAS,gBAAgB,6BAA8B,GAAG,EAE9DC,EAAQ,SAAS,gBAAgB,6BACA,OAAO,EAC1CC,EAAQX,EAAI,OAAOZ,EAAK,KAAOA,EAAK,GAClCwB,EAAa,KAAKxB,EAAK,MAAQY,EAAI,OAAS,KAAM,QAAQ,CAAC,KAC3Da,EAAW,KAAKzB,EAAK,IAAMA,EAAK,OAAS,KAAM,QAAQ,CAAC,KAC9DuB,GAAS,KAAKC,MAAeC,KAC7BH,EAAM,YAAcC,EAEpB,IAAMG,EAAO,SAAS,gBAAgB,6BAA8B,MAAM,EAC1EA,EAAK,UAAU,IAAI,MAAM,EACpB1B,EAAK,OACRqB,EAAE,UAAU,IAAI,QAAQ,EAEtBL,GACFU,EAAK,UAAU,IAAIV,CAAS,EAG9B,IAAIW,EAAY5B,GAAcC,CAAI,EAC9B4B,EAAO,KAEPX,IAAc,SACZU,GACFC,EAAO,SAAS,gBAAgB,6BAA8B,OAAO,EACrEA,EAAK,aAAa,IAAKR,EAAQpB,EAAK,KAAK,CAAC,EAC1C4B,EAAK,aAAa,KAAMV,EAAaC,GAAWL,EAAM,CAAC,EACvDc,EAAK,aAAa,QAASV,EAAa,CAAC,EACzCU,EAAK,aAAa,SAAUV,EAAa,CAAC,EAC1CU,EAAK,UAAU,IAAI,MAAM,EACzBA,EAAK,aAAa,OAAQD,CAAS,GAEnC,QAAQ,KAAK,qBAAsB3B,EAAK,GAAIY,EAAI,OAAOZ,EAAK,GAAG,GAInE,IAAIQ,EAAYL,GAAcH,EAAMY,EAAI,MAAM,EAC1CiB,EAAO,MACPZ,IAAc,QAAU,CAACW,KACvBpB,GACFqB,EAAO,SAAS,gBAAgB,6BAA8B,MAAM,EACpEA,EAAK,aAAa,IAAKT,EAAQpB,EAAK,KAAK,CAAC,EAC1C6B,EAAK,aAAa,KAAMX,EAAaC,GAAWL,EAAMI,EAAa,CAAC,EACpEW,EAAK,UAAU,IAAI,MAAM,EACzBA,EAAK,YAAcrB,GAEnB,QAAQ,KAAK,qBAAsBR,EAAK,GAAIY,EAAI,OAAOZ,EAAK,GAAG,GAInE0B,EAAK,aAAa,IAAKN,EAAQpB,EAAK,KAAK,CAAC,EAC1C0B,EAAK,aAAa,KAAMR,EAAaC,GAAWL,CAAG,EACnD,IAAMgB,EAAQV,EAAQpB,EAAK,GAAG,EAAIoB,EAAQpB,EAAK,KAAK,EAChD8B,EAAQ,EACVJ,EAAK,aAAa,QAASI,CAAK,GAEhCJ,EAAK,aAAa,QAAS,CAAC,EAC5BA,EAAK,UAAU,IAAI,cAAc,GAGnCA,EAAK,aAAa,SAAUR,CAAU,EAEtCG,EAAE,YAAYC,CAAK,EACnBD,EAAE,YAAYK,CAAI,EACdE,GACFP,EAAE,YAAYO,CAAI,EAEhBC,GACFR,EAAE,YAAYQ,CAAI,EAEpBlB,EAAM,YAAYU,CAAC,CACrB,CACF,CAEA,IAAOU,EAAQrB,GC3Jf,IAAMsB,EAAc,CAClB,iCAAkC,GAClC,0BAA2B,GAC3B,2BAA4B,GAC5B,kBAAmB,GACnB,qBAAsB,GACtB,wBAAyB,GACzB,wBAAyB,GACzB,yBAA0B,GAC1B,wBAAyB,GACzB,YAAa,GACb,0BAA2B,GAC3B,8BAA+B,GAC/B,iBAAkB,GAClB,qBAAsB,GACtB,2BAA4B,GAC5B,aAAc,GACd,kBAAmB,GACnB,cAAgB,EAClB,EAEMC,EAAoB,CAExB,YAAa,EACb,aAAc,EACd,cAAe,EACf,aAAc,EACd,aAAc,EACd,aAAc,EACd,cAAe,EACf,YAAa,EACb,WAAY,EACZ,UAAW,EACX,WAAY,GACZ,oBAAqB,GACrB,mBAAoB,GACpB,iBAAkB,GAClB,kCAAmC,GACnC,gBAAiB,GACjB,mBAAqB,GACrB,oBAAqB,GACrB,YAAa,GAEb,iBAAkB,EAClB,mBAAoB,EACpB,kBAAmB,EACnB,mBAAoB,EACpB,uBAAwB,EAExB,gBAAiB,EACjB,aAAc,EACd,cAAe,EACf,WAAY,EACZ,kBAAmB,EACnB,wBAA0B,GAC1B,mBAAoB,GAGpB,kBAAoB,EACpB,gBAAiB,EACjB,sBAAuB,EAEvB,eAAgB,EAChB,oBAAqB,EACrB,cAAe,EAEf,gBAAiB,EACjB,iBAAkB,EAClB,sBAAuB,EAGvB,kBAAoB,EAEpB,iBAAkB,EAClB,aAAc,EAEd,mBAAoB,EACpB,OAAU,EACV,eAAgB,EAGhB,8BAAgC,EAChC,6BAA+B,EAC/B,kBAAmB,EACnB,SAAU,EACV,eAAgB,EAChB,iBAAkB,EAClB,cAAe,EACf,eAAgB,EAEhB,gBAAiB,EAEjB,SAAY,EACZ,iBAAmB,EAGnB,gBAAiB,EACjB,mBAAoB,EACpB,WAAa,EACb,mBAAoB,EAEpB,UAAa,EACb,gBAAiB,EAGjB,eAAgB,EAChB,YAAe,EAMf,yBAA0B,EAC1B,4BAA6B,EAC7B,4BAA6B,EAC7B,0BAA2B,EAC3B,4BAA6B,EAC7B,uBAAwB,EACxB,kBAAmB,EACnB,mBAAqB,EACrB,0BAA4B,EAE5B,kBAAmB,EACnB,iBAAkB,GAClB,oBAAqB,GACrB,oBAAqB,GACrB,oBAAqB,GACrB,oBAAqB,GACrB,iBAAkB,GAClB,kBAAmB,GAEnB,sBAAuB,EAGvB,iBAAmB,EACnB,gBAAiB,EACjB,oBAAqB,EAErB,mBAAoB,EACpB,kBAAmB,EACnB,mBAAoB,EACpB,QAAS,EAET,eAAgB,EAChB,kBAAmB,EAEnB,mBAAoB,EACpB,oBAAqB,EACrB,oBAAqB,EACrB,oBAAqB,CACvB,EAEA,SAASC,GAAgCC,EAAK,CAC5C,IAAMC,EAAQD,EAAI,MAClB,GAAI,CAACC,EAAM,eAAeC,EAAS,gBAAgB,EAAG,CACpD,QAAQ,IAAI,WAAYF,CAAG,EAC3B,MACF,CACA,IAAMG,EAAMF,EAAMC,EAAS,kBACrBE,EAAoB,CAAC,EAC3B,QAAWC,KAAaF,EAAK,CAC3B,GAAI,CAACE,EAAU,eAAe,QAAQ,EACpC,SAEF,IAAMC,EAAOD,EAAU,OACvB,GAAIC,IAAS,EACX,SAEF,IAAMC,EAAa,IAAO,KAC1BH,EAAkB,KAAK,CAAC,MAAOE,CAAI,CAAC,EACpCF,EAAkB,KAAK,CAAC,OAAQE,EAAOC,CAAU,CAAC,CACpD,CACAN,EAAMC,EAAS,SAAWE,EAC1BJ,EAAI,OAAOE,EAAS,SAAW,UAC/B,QAAQ,IAAI,gBAAiBF,CAAG,CAClC,CAEA,SAASQ,GAAkBC,EAAGC,EAAGC,EAAQC,EAAa,CACpD,IAAMC,EAAQ,SAAS,gBAAgB,6BACA,GAAG,EACpCC,EAAQ,SAAS,gBAAgB,6BACA,OAAO,EACxCC,EAAO,SAAS,gBAAgB,6BACA,MAAM,EAC5C,OAAAA,EAAK,aAAa,IAAKN,CAAC,EACxBM,EAAK,aAAa,IAAKL,CAAC,EACxBK,EAAK,aAAa,SAAUJ,CAAM,EAClCI,EAAK,UAAU,IAAI,MAAM,EACrBH,EACFG,EAAK,UAAU,IAAI,cAAc,EAEjCF,EAAM,YAAYC,CAAK,EAEzBD,EAAM,YAAYE,CAAI,EACfF,CACT,CAEA,SAASG,GAAoBC,EAAaC,EAASC,EAAK,CACtD,IAAMJ,EAAOE,EAAY,cAAc,MAAM,EAC7CF,EAAK,aAAa,QAASG,EAAQC,CAAG,EACpBJ,EAAK,aAAa,GAAG,CAAC,EACxC,IAAMD,EAAQG,EAAY,cAAc,OAAO,EAC/C,GAAI,CAACH,EACH,OAEF,IAAMM,EAAQ,WAAWH,EAAY,QAAQ,KAAK,EAC5CI,GACH,WAAWJ,EAAY,QAAQ,KAAK,EAAI,KAAM,QAAQ,CAAC,EACpDK,IAAaH,EAAMC,GAAS,KAAM,QAAQ,CAAC,EACjDN,EAAM,YAAc,GAAGO,OAAcC,IACvC,CAEA,SAASC,GAAKC,EAAOC,EAAQzB,EAAK0B,EAAQC,EAAUC,EAAYC,EAClDjB,EAAa,CACzB,GAAM,CAAC,WAAAkB,EAAY,QAAAC,EAAS,QAAAb,CAAO,EAAIU,EAEvC7B,GAAgCC,CAAG,EAE/B0B,EAAO,aAAe,UACxB,OAAO,OAAO7B,EAAa,CACzB,kBAAmB,GACnB,mBAAoB,GACpB,iBAAkB,GAClB,mBAAoB,EACtB,CAAC,EAGC6B,EAAO,aAAe,YACxB,OAAO,OAAO5B,EAAmB,CAC/B,UAAa,CACf,CAAC,EAGH,QAASkC,KAAMhC,EAAI,MACZA,EAAI,OAAOgC,KACd,QAAQ,KAAK,qBAAsBA,CAAE,EACrChC,EAAI,OAAOgC,GAAM,GAAGA,KAIxB,IAAI/B,EAAQD,EAAI,MAEhB,GAAI,CAAC6B,EAAY,CACf5B,EAAQ,CAAC,EACT,QAAW+B,KAAMhC,EAAI,MAAO,CAC1B,IAAMiC,EAAWjC,EAAI,OAAOgC,GACxBnC,EAAY,eAAeoC,CAAQ,GAGnCnC,EAAkB,eAAemC,CAAQ,IAC3ChC,EAAM+B,GAAMhC,EAAI,MAAMgC,GAE1B,CACF,CAEA,IAAME,EAAU,OAAO,KAAKjC,CAAK,EAAE,KAAK,CAACkC,EAAGC,IAAM,CAChD,IAAIC,EAAQrC,EAAI,OAAOmC,GACnBG,EAAQtC,EAAI,OAAOoC,GACvB,OAAItC,EAAkB,eAAeuC,CAAK,EACpCvC,EAAkB,eAAewC,CAAK,EACjCxC,EAAkBuC,GAASvC,EAAkBwC,GAE/C,GACExC,EAAkB,eAAewC,CAAK,EACxC,EAEFD,EAAM,cAAcC,CAAK,CAClC,CAAC,EAEGC,EAAMZ,EACV,QAAWa,KAAUN,EAAS,CAY5B,GARI,CAAC,SAAS,KAAKlC,EAAI,OAAOwC,EAAO,GAIjCxC,EAAI,OAAOwC,GAAQ,WAAW,OAAO,GAIrC3C,EAAYG,EAAI,OAAOwC,IACzB,SAGF,IAAMC,EAAe,CAAC,EACtB,QAAWC,KAASzC,EAAMuC,GAAS,CACjC,GAAIE,EAAM,MAAO,CACf,IAAMzB,EAAcT,GAClBU,EAAQwB,EAAM,KAAK,GAAIZ,EAAaC,GAAWQ,EAAKT,EACpDlB,CAAW,EACbK,EAAY,QAAQ,MAAQyB,EAAM,MAClCD,EAAa,KAAKxB,CAAW,CAC/B,CACA,GAAIyB,EAAM,OAAQ,CAChB,IAAIzB,EAAcwB,EAAa,IAAI,EAC9BxB,IACHA,EAAcT,GACZU,EAAQlB,EAAI,KAAK,GAAI8B,EAAaC,GAAWQ,EAAKT,EAClDlB,CAAW,EACbK,EAAY,QAAQ,MAAQjB,EAAI,OAElCgB,GAAoBC,EAAaC,EAASwB,EAAM,MAAM,EACtDlB,EAAM,YAAYP,CAAW,CAC/B,CACF,CACA,QAAWA,KAAewB,EAAa,QAAQ,EAC7CzB,GAAoBC,EAAaC,EAASlB,EAAI,GAAG,EACjDwB,EAAM,YAAYP,CAAW,EAG/B,GAAI,CAACL,EAAa,CAChB,IAAM+B,EAAO,SAAS,gBAAgB,6BACA,MAAM,EAC5CA,EAAK,YAAc3C,EAAI,OAAOwC,GAC9BG,EAAK,aAAa,IAAK,CAAC,EACxBA,EAAK,aAAa,IAAKJ,GAAOT,EAAaC,GAAWD,EAAa,CAAC,EACpEa,EAAK,UAAU,IAAI,MAAM,EACzBlB,EAAO,YAAYkB,CAAI,CACzB,CACAJ,GAAO,CACT,CAEA,OAAOA,EAAMZ,CACf,CAEA,IAAOiB,EAAQrB,GCzUf,SAASsB,GAAUC,EAAc,CAC/B,IAAMC,EAAS,IAAI,MAAMD,EAAa,MAAM,EACxCE,EAAM,EAEV,QAASC,EAAI,EAAGA,EAAIH,EAAa,OAAQG,IAAK,CAC5C,IAAIC,EAAa,EACbD,GAAK,KACPC,EAAaJ,EAAaG,EAAI,KAGhC,IAAIE,GADgBL,EAAaG,GACNC,GAAc,GACzCH,EAAOE,GAAKE,EACZH,EAAM,KAAK,IAAIG,EAAKH,CAAG,CACzB,CACA,MAAO,CAAC,OAAAD,EAAQ,IAAAC,CAAG,CACrB,CAEA,SAASI,GAAOC,EAAQC,EAAYC,EAAe,CACjD,GAAM,CAAC,WAAAC,EAAY,QAAAC,CAAO,EAAIH,EAC1BI,GAAUF,EAAaC,GAAW,EAAIA,EAC1C,GAAIF,EACF,OAAO,SAASJ,EAAK,CACnB,OAAOO,EAASP,EAAME,EAASK,EAASD,CAC1C,EAEF,IAAIT,EAAMK,EAAS,IACfM,EAAS,KAAK,IAAIX,EAAMK,CAAM,EAC9BO,EAAS,KAAK,IAAIZ,CAAG,EACzB,OAAO,SAASG,EAAK,CACnB,IAAMU,EAAO,KAAK,IAAIb,EAAMG,CAAG,EAE/B,OADWQ,EAASE,IAASF,EAASC,GAAUF,EAASD,CAE3D,CACF,CAEA,SAASK,GAAQC,EAAKhB,EAAQM,EAAQC,EAAYC,EAAe,CAC/D,GAAM,CAAC,QAAAS,CAAO,EAAIV,EAEdW,EAAS,GACTC,EAAMd,GAAOC,EAAQC,EAAYC,CAAa,EAElD,QAAS,EAAI,EAAG,EAAIR,EAAO,OAAQ,IAAK,CACtC,IAAIoB,EAAIH,EAAQ,EAAI,IAAOD,EAAI,KAAK,EAChCK,EAAIF,EAAInB,EAAO,EAAE,EACjB,IAAM,EACRkB,GAAU,IAEVA,GAAU,IAEZA,GAAUE,EAAI,IAAMC,EAAI,GAC1B,CACA,IAAMC,EAAO,SAAS,gBAAgB,6BAA8B,MAAM,EAE1E,OAAAA,EAAK,aAAa,IAAKJ,CAAM,EAC7BI,EAAK,UAAU,IAAI,UAAU,EACtBA,CACT,CAEA,IAAMC,EAAN,KAAc,CACZ,YAAYC,EAAWxB,EAAQyB,EAAanB,EAAQC,EAAY,CAC9D,KAAK,OAASP,EACd,KAAK,YAAcyB,EACnB,KAAK,QAAUlB,EAAW,QAC1B,KAAK,IAAMF,GAAOC,EAAQC,CAAU,EAEpC,KAAK,IAAM,SAAS,gBAAgB,6BAA8B,GAAG,EACrE,KAAK,IAAI,UAAU,IAAI,SAAS,EAChC,KAAK,IAAI,UAAU,IAAI,gBAAgB,EAEvC,KAAK,SAAW,SAAS,gBAAgB,6BACA,MAAM,EAC/C,KAAK,SAAS,UAAU,IAAI,cAAc,EAE1C,KAAK,YAAc,SAAS,gBAAgB,6BACA,MAAM,EAClD,KAAK,YAAY,UAAU,IAAI,qBAAqB,EAEpD,KAAK,IAAI,YAAY,KAAK,QAAQ,EAClC,KAAK,IAAI,YAAY,KAAK,WAAW,EAErCiB,EAAU,YAAY,KAAK,GAAG,CAChC,CAEA,KAAKE,EAAWC,EAAM,CACpB,GAAIA,EAAO,EACT,OAGF,IAAIP,EAAI,KAAK,QAAQM,CAAS,EAC9B,KAAK,IAAI,aAAa,YAAa,aAAaN,MAAM,EAEtD,KAAK,SAAS,aAAa,IAAK,EAAE,EAElC,IAAIQ,EAAO,GACPC,EAAQ,EACZ,GAAIF,EAAO,KAAK,OAAO,OAAQ,CAC7B,IAAIvB,EAAM,KAAK,OAAOuB,GAClBG,EAAO,KAAK,IAAI1B,CAAG,EAGvB,GAFAyB,EAAQC,EAEJH,EAAO,KAAK,YAAY,OAAQ,CAClC,IAAII,EAAW,KAAK,YAAYJ,GAC5BK,EAAY,KAAK,IAAID,CAAQ,EACjCF,EAAQ,KAAK,IAAIA,GAAQC,EAAOE,GAAa,CAAC,EAE9C,IAAIC,EAAW,MAAMH,QAAWE,IAChC,KAAK,SAAS,aAAa,IAAKC,CAAQ,EAExC,IAAIC,EAAO9B,EAAM2B,EAEjBH,EAAO,GADGM,EAAO,EAAI,QAAU,YACd,KAAK,IAAI,KAAK,MAAMA,CAAI,CAAC,QAAQP,OAAU,KAAK,MAAMvB,CAAG,QAAQ,KAAK,MAAM2B,CAAQ,IACvG,MACEH,EAAO,GAAG,KAAK,MAAMxB,CAAG,GAE5B,CACA,KAAK,YAAY,YAAcwB,EAC/B,KAAK,YAAY,aAAa,IAAK,CAAC,EACpC,KAAK,YAAY,aAAa,IAAKC,CAAK,EAExC,KAAK,IAAI,UAAU,OAAO,gBAAgB,CAC5C,CAEA,MAAO,CACL,KAAK,IAAI,UAAU,IAAI,gBAAgB,CACzC,CACF,EAEA,SAASM,GAAKC,EAAOpB,EAAKqB,EAAW9B,EAAYC,EAAe,CAC9D,GAAM,CAAC,WAAAC,EAAY,QAAAC,EAAS,QAAA4B,CAAO,EAAI/B,EACjC,CAAC,OAAAP,EAAQ,IAAAC,CAAG,EAAIH,GAAUkB,EAAI,cAAc,EAC5C,CAAC,OAAQS,EAAa,IAAKc,CAAQ,EACvCzC,GAAUuC,EAAU,cAAc,EAC9BG,EAAU,KAAK,IAAIvC,EAAKsC,CAAQ,EAEhCjB,EAAOP,GAAQC,EAAKhB,EAAQwC,EAASjC,EAAYC,CAAa,EAC9DiC,EAAY1B,GAAQC,EAAKS,EAAae,EAASjC,EAAYC,CAAa,EAC9EiC,EAAU,UAAU,IAAI,oBAAoB,EAE5CL,EAAM,YAAYK,CAAS,EAC3BL,EAAM,YAAYd,CAAI,EAEtB,IAAIX,GAAUF,EAAaC,GAAW,EAAIA,EAEpCgC,EAAU,IAAInB,EAAQa,EAAOpC,EAAQyB,EAAae,EAASjC,CAAU,EACrEoC,EAAiBP,EAAM,WACzBQ,EAEJ,SAASC,GAAe,CACtBH,EAAQ,KAAK,CACf,CAEA,SAASI,EAAYC,EAAO,CACrBH,IACHA,EAAqBD,EAAe,sBAAsB,GAM5D,IAAIK,EAASD,EAAM,QAAUJ,EAAe,WAC1CC,EAAmB,KACjBK,EAAUX,EAAQU,CAAM,EACxBE,EAAU,KAAK,OAAOD,EAAUjC,EAAI,OAAS,GAAI,EACrD0B,EAAQ,KAAKQ,EAAU,IAAOlC,EAAI,MAAOkC,CAAO,CAClD,CAEAd,EAAM,iBAAiB,YAAaU,CAAW,EAC/CV,EAAM,iBAAiB,aAAcS,CAAY,CACnD,CAEA,IAAOM,GAAQhB,GC1Kf,IAAMiB,GAAa,CACjB,UACA,UACA,YACA,YACA,YACA,aACA,YACA,aACA,IACA,IACA,OACF,EAEMC,EAAgB,CACpB,eAAgB,CACd,eAAgB,mBAChB,sDACA,uBAAwB,YAAa,uBACrC,oDACA,iCACA,kBAAmB,oBACnB,wCAAyC,eACzC,uEACA,8DACA,uBACA,wCAEA,0CACA,qBACA,kDACA,gEACA,+EACA,8DACF,EACA,WAAY,CACV,8EACA,6FACA,yCACA,8CACA,eACF,EACA,OAAQ,CAAC,SAAU,QAAQ,EAC3B,IAAK,CAAC,QAAS,MAAO,WAAY,UAAW,SAAU,eAAe,EACtE,IAAK,CAAC,MAAO,QAAS,MAAO,YAAa,gBAAgB,EAC1D,UAAW,CACT,kBACA,2HACF,EACA,OAAQ,CAAC,MAAO,MAAO,QAAS,OAAQ,OAAQ,MAAO,QAAS,QAAS,MAAM,EAC/E,kBAAmB,CACjB,YACA,SACA,iBACA,iBACA,gBACA,gBACA,gBACA,kBACA,iBACA,gBACF,EACA,IAAK,CACH,MACA,kBACA,iBACA,6DACF,EACA,SAAU,CACR,6DACA,oCACA,mCACA,kEACF,CACF,EACMC,GAAwB,KAAK,UAAUD,CAAa,EAE1D,SAASE,GAAWC,EAAM,CACxB,KAAOA,EAAK,SAAS,GAAG,GAAG,CACzB,IAAMC,EAAQ,UAAU,KAAKD,CAAI,EACjC,GAAI,CAACC,EACH,OAAOD,EAET,IAAME,EAAUL,EAAcI,EAAM,IACpC,GAAI,CAACC,GAAWA,EAAQ,SAAW,EACjC,eAAQ,KAAK,uBAAwBD,EAAM,EAAE,EACtCD,EAGT,IAAMG,EAAU,KAAK,MAAM,KAAK,OAAO,EAAID,EAAQ,MAAM,EACnDE,EAASF,EAAQC,GACvBH,EAAOA,EAAK,QAAQC,EAAM,GAAIG,CAAM,CACtC,CACA,OAAOJ,CACT,CAEA,SAASK,IAAU,CACjB,IAAMC,EAAkB,SAAS,iBAAiB,mBAAmB,EACrE,GAAIA,EAAgB,SAAW,EAC7B,MAAO,+CAET,IAAIN,EAAO,GAEX,QAAWO,KAAQD,EAAiB,CAElC,GADcC,EAAK,cAAc,QAAQ,EAAE,cAC7B,IACZ,SAEF,IAAIC,EAAc,OAAOD,EAAK,cAAc,cAAc,EAAE,YAAY,YAAY,KACpFC,EAAcA,EAAY,QAAQ,IAAK,mBAAmB,EAC1D,IAAIC,EAAa,iBACb,KAAK,OAAO,EAAI,KACdD,EAAY,SAAS,MAAM,EAC7BC,EAAa,WACJD,EAAY,SAAS,SAAS,IACvCC,EAAa,eAGjB,IAAMC,EAAUb,EAAcY,GAC1BF,EAAK,QAAQ,MACfV,EAAc,MAAQ,CAACU,EAAK,QAAQ,KAAK,EAEzCV,EAAc,MAAQ,CACpB,aACA,eACA,aACA,aACA,eACA,aACA,eACF,EAEF,IAAMc,EAAU,KAAK,MAAM,KAAK,OAAO,EAAID,EAAQ,MAAM,EACnDE,EACJb,GAAWW,EAAQC,EAAQ,EAE7Bd,EAAcY,GAAY,OAAOE,EAAS,CAAC,EACvCd,EAAcY,GAAY,SAAW,IACvCZ,EAAcY,GAAc,KAAK,MAAMX,EAAqB,EAAEW,IAEhET,GAAQ,GAAGQ,KAAeI,KAC5B,CACA,OAAIZ,IAAS,GACJ,kEAEFA,CACT,CAEA,SAASa,GAAMb,EAAM,CACnB,IAAMc,EAAQ,OAAO,gBACfC,EAAY,IAAI,yBAAyBf,CAAI,EACnD,QAASgB,KAASF,EAAM,UAAU,EAC5BE,EAAM,OAAS,WACjBD,EAAU,MAAQC,GAGtBD,EAAU,KAAO,IACjBD,EAAM,MAAMC,CAAS,CACvB,CAEA,SAASE,IAAa,CACpB,IAAMjB,EAAOK,GAAQ,EACrB,QAAQ,IAAI,kBAAmBL,CAAI,EACnCa,GAAMb,CAAI,CACZ,CAEA,IAAIkB,EAAQ,EACLC,GAAQ,CACb,OAAQ,UAAW,CACjB,SAAS,KAAK,iBAAiB,UAAW,SAASC,EAAO,CACxD,IAAIC,EAAczB,GAAWsB,GAC7B,GAAIE,EAAM,MAAQC,EAAa,CAC7BH,EAAQ,EACR,MACF,CACAA,GAAS,EACLA,GAAStB,GAAW,SACtBqB,GAAW,EACXC,EAAQ,EAEZ,CAAC,CACH,CACF,EL3KA,IAAMI,GAAiB,SAAS,cAAc,kBAAkB,EAChEC,GAAM,EAEN,eAAeA,IAAQ,CACrB,IAAMC,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAkB,SAAS,cAAc,mBAAmB,EAElE,SAASC,GAAoB,CAC3B,IAAIC,EAAUH,EAAc,MAAM,KAAK,EACvC,GAAI,CAAC,iCAAiC,KAAKG,CAAO,EAAG,CACnD,MAAM,+DAA+D,EACrE,MACF,CACA,IAAIC,EAAM,IAAI,IAAID,CAAO,EACzBF,EAAgB,MAAQ,WACxBA,EAAgB,oBAAoB,QAASC,CAAiB,EAC9DD,EAAgB,oBAAoB,WAAYI,CAAe,EAC/DC,GAAcF,EAAI,SAAS,OAAO,CAAC,CAAC,CACtC,CAEA,SAASC,EAAgBE,EAAO,CAC1BA,EAAM,MAAQ,SAChBL,EAAkB,CAEtB,CAEAD,EAAgB,iBAAiB,QAASC,CAAiB,EAC3DF,EAAc,iBAAiB,WAAYK,CAAe,EAE1D,IAAIG,EAAW,SAAS,eAAe,WAAW,EAClDA,EAAS,iBAAiB,SAAU,UAAW,CAC7C,IAAIC,EAAW,SAAS,cAAc,oBAAoB,EAC1DA,EAAS,YAAc,UAEvB,IAAIC,EAAOF,EAAS,MAAM,GAE1B,WAAW,UAAW,CACpBG,GAAWD,CAAI,CACjB,EAAG,GAAG,CACR,CAAC,EACDZ,GAAe,UAAU,OAAO,QAAQ,EAExC,IAAIc,EAAiB,SAAS,cAAc,2BAA2B,EACnEC,EAAQ,SAAS,cAAc,iBAAiB,EAChDC,EAAa,SAAS,eAAe,aAAa,EACtDA,EAAW,iBAAiB,SAAU,UAAW,CAC/C,IAAIL,EAAW,SAAS,cAAc,sBAAsB,EAC5DA,EAAS,YAAc,YAEvB,IAAIC,EAAOI,EAAW,MAAM,GAE5B,WAAW,UAAW,CACpB,IAAMC,EAAS,IAAI,WACnBA,EAAO,OAAS,SAASR,EAAO,CAC9B,QAAQ,IAAI,MAAM,EAClB,IAAIS,EAAS,SAAS,cAAc,QAAQ,EAC5CA,EAAO,IAAMT,EAAM,OAAO,OAC1BS,EAAO,KAAON,EAAK,KAEnBG,EAAM,YAAYG,CAAM,EAExBJ,EAAe,UAAU,OAAO,UAAU,CAC5C,EACAG,EAAO,WAAa,SAASR,EAAO,CAClC,GAAIA,EAAM,iBAAkB,CAC1B,IAAIU,EAAU,KAAK,MAAM,IAAMV,EAAM,OAASA,EAAM,KAAK,EAAI,IAC7DE,EAAS,YAAc,aAAeQ,CACxC,CACF,EAEAF,EAAO,cAAcL,CAAI,CAC3B,EAAG,GAAG,CACR,CAAC,CACH,CAEA,SAASC,GAAWD,EAAM,CACxB,IAAMK,EAAS,IAAI,WACnBA,EAAO,OAAS,SAASR,EAAO,CAC9B,GAAI,CACF,IAAMW,EAAWX,EAAM,OAAO,OAC1BY,EAAM,EAAAC,QAAS,UAAU,KAAK,MAAMF,CAAQ,CAAC,EACjDpB,GAAe,UAAU,IAAI,QAAQ,EACrCuB,GAAcF,CAAG,CACnB,MAAE,CACA,MAAM,+CAA+C,CACvD,CACF,EACAJ,EAAO,WAAWL,CAAI,CACxB,CAEA,SAASJ,GAAcgB,EAAM,CAC3B,EAAAF,QAAS,QAAQE,CAAI,EAAE,KAAK,SAASH,EAAK,CACpC,CAACA,IAILrB,GAAe,UAAU,IAAI,QAAQ,EACrCuB,GAAcF,CAAG,EACnB,CAAC,EAAE,MAAMI,GAAK,CACZ,MAAM,uCAAuC,CAC/C,CAAC,CACH,CAEA,SAASF,GAAcF,EAAK,CAC1B,QAAQ,IAAI,MAAOA,CAAG,EACtB,IAAIK,EAAe,IAAIC,EAAaN,CAAG,EACvCK,EAAa,SAAW,SAASE,EAAgB,CAC/CC,GAAWR,EAAKO,CAAc,CAChC,EACAF,EAAa,OAAO,CACtB,CAEA,eAAeG,GAAWR,EAAKO,EAAgB,CAC7C,QAAQ,IAAIA,EAAgBP,CAAG,EAC/BA,EAAI,MAAQA,EAAI,MAAMO,EAAe,IACrCP,EAAI,MAAQA,EAAI,MAAMO,EAAe,IACrCP,EAAI,eAAiBA,EAAI,eAAeO,EAAe,IAEvDP,EAAI,MAAM,KAAK,SAASS,EAAGC,EAAG,CAC5B,OAAOD,EAAE,MAAQC,EAAE,KACrB,CAAC,EACD,IAAMC,EAAa,CAAC,EACpB,QAASC,KAAQZ,EAAI,MACnBW,EAAWC,EAAK,IAAM,GAGxB,QAASC,KAAMb,EAAI,OACb,CAAC,SAAS,KAAKA,EAAI,OAAOa,EAAG,IAGjCF,EAAWE,GAAM,IAGnB,IAAIC,EAAY,MAAMC,GAAsBf,EAAKO,CAAc,EAE/D,QAASK,KAAQE,EAAU,MACzBH,EAAWC,EAAK,IAAM,GAExB,MAAMI,EAAU,KAAKL,CAAU,EAE/B,SAAS,eAAe,gBAAgB,EAAE,YAAcG,EAAU,KAClEA,EAAU,MAAM,KAAK,SAASL,EAAGC,EAAG,CAClC,OAAOD,EAAE,MAAQC,EAAE,KACrB,CAAC,EAED,SAAS,cAAc,YAAY,EAAE,UAAU,OAAO,QAAQ,EAC9D,IAAMO,GAASjB,EAAI,IAAMA,EAAI,OAAS,GAChCkB,EAAa,GACbC,EAAU,EAEVC,EAAW,SAAS,cAAc,WAAW,EAC7C1B,EAAQ,SAAS,cAAc,iBAAiB,EAChD2B,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,UAAU,IAAI,iBAAiB,EAC9CA,EAAe,UAAU,IAAI,gBAAgB,EAC7C,IAAMC,EAAQ,SAAS,gBAAgB,6BAA8B,KAAK,EAC1EA,EAAM,MAAM,MAAQL,EAAQ,KAC5BK,EAAM,UAAU,IAAI,OAAO,EAC3BD,EAAe,YAAYC,CAAK,EAEhC,IAAMC,EAAS,SAAS,gBAAgB,6BAA8B,KAAK,EAC3EA,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,UAAU,IAAI,gBAAgB,EAErC,IAAMC,EAAS,SAAS,gBAAgB,6BAA8B,MAAM,EAC5EA,EAAO,aAAa,IAAK,CAAC,EAC1BA,EAAO,aAAa,IAAK,CAAC,EAC1BA,EAAO,aAAa,QAAS,CAAC,EAC9BA,EAAO,UAAU,IAAI,QAAQ,EAC7BF,EAAM,YAAYE,CAAM,EAExBJ,EAAS,YAAYG,CAAM,EAC3BH,EAAS,YAAYC,CAAc,EAEnC,SAASI,EAAQC,EAAM,CACrB,OAAOT,GAASS,EAAO1B,EAAI,QAAUA,EAAI,IAAMA,EAAI,MACrD,CAEA,SAAS2B,EAAQC,EAAG,CAClB,OAAQA,EAAIX,GAAUjB,EAAI,IAAMA,EAAI,OAASA,EAAI,KACnD,CAEA,IAAM6B,EAAc,CAClB,CAACC,EAAS,sBAAuB,YACjC,CAACA,EAAS,qBAAsB,WAChC,CAACA,EAAS,uBAAwB,aAClC,CAACA,EAAS,uBAAwB,aAClC,CAACA,EAAS,oBAAqB,UAC/B,CAACA,EAAS,sBAAuB,YACjC,CAACA,EAAS,qBAAsB,WAChC,CAACA,EAAS,uBAAwB,aAClC,CAACA,EAAS,wBAAyB,cACnC,CAACA,EAAS,wBAAyB,cACnC,CAACA,EAAS,sBAAuB,YACjC,CAACA,EAAS,uBAAwB,YACpC,EAEA,QAAWjB,KAAMgB,EACf7B,EAAI,OAAOa,GAAMgB,EAAYhB,GAC7BC,EAAU,OAAOD,GAAMgB,EAAYhB,GAIrC,QAAWD,KAAQE,EAAU,MAC3BF,EAAK,OAASZ,EAAI,MAClBY,EAAK,KAAOZ,EAAI,MAGlB,IAAM+B,EAAa,CACjB,WAAAb,EACA,QAAAC,EACA,MAAAF,EACA,QAAAQ,EACA,QAAAE,CACF,EAEMK,EAAU,CACd,cAAe,GACf,QAAS,GACT,gBAAiB,GACjB,YAAa,IACb,UAAW,EACb,EACMC,EAAgB,SAAS,eAAe,gBAAgB,EAC9DA,EAAc,QAAUD,EAAQ,cAChC,IAAME,EAAU,SAAS,eAAe,UAAU,EAClDA,EAAQ,QAAUF,EAAQ,QAC1B,IAAMG,EAAkB,SAAS,eAAe,mBAAmB,EACnEA,EAAgB,QAAUH,EAAQ,gBAClC,IAAMI,EAAY,SAAS,eAAe,YAAY,EACtDA,EAAU,QAAUJ,EAAQ,UAE5B,SAASK,EAASC,EAAK,CACrB,OAAO,SAASlD,EAAO,CACrB,QAAQ,IAAI,WAAYkD,EAAKlD,EAAOA,EAAM,MAAM,EAChD4C,EAAQM,GAAOlD,EAAM,OAAO,QAC5BmD,GAAUvC,EAAKc,EAAWP,EAAgBwB,EAAYC,CAAO,CAC/D,CACF,CACAC,EAAc,iBAAiB,SAAUI,EAAS,eAAe,CAAC,EAClEH,EAAQ,iBAAiB,SAAUG,EAAS,SAAS,CAAC,EACtDF,EAAgB,iBAAiB,SAAUE,EAAS,iBAAiB,CAAC,EACtED,EAAU,iBAAiB,SAAUC,EAAS,WAAW,CAAC,EAE1DE,GAAUvC,EAAKc,EAAWP,EAAgBwB,EAAYC,CAAO,EAE7D,IAAIQ,EAAqBnB,EAAe,sBAAsB,EAE9D,SAASoB,EAAgBC,EAASC,EAAa,CAC7C,IAAMC,EAAOnB,EAAQiB,CAAO,EAC5BlB,EAAO,aAAa,IAAKoB,CAAI,GACzB,CAACD,GAAeC,EAAOvB,EAAe,YACtCuB,EAAOvB,EAAe,WAAamB,EAAmB,SACxDnB,EAAe,WAAauB,EAAOJ,EAAmB,MAAQ,GAE5DG,IACFjD,EAAM,aAAegD,EAAU1C,EAAI,OAAS,IAAOgC,EAAQ,YAE/D,CAEAV,EAAM,iBAAiB,QAAS,SAASlC,EAAO,CAC9C,IAAIyD,EAASzD,EAAM,QAAUiC,EAAe,WAC1CmB,EAAmB,KACjBE,EAAUf,EAAQkB,CAAM,EAC5BJ,EAAgBC,EAAS,EAAI,CAC/B,CAAC,EAED,SAAS,KAAK,iBAAiB,QAAS,SAAStD,EAAO,CACtD,GAAIA,EAAM,OAAO,UAAU,SAAS,WAAW,EAAG,CAChDA,EAAM,eAAe,EACrB,IAAI0D,EAAQ,WAAW1D,EAAM,OAAO,QAAQ,KAAK,EAC7C0D,GACFL,EAAgBK,EAAO,EAAI,CAE/B,CACF,CAAC,EAEDpD,EAAM,iBAAiB,aAAc,UAAW,CAC9C+C,GAAiB/C,EAAM,YAAcsC,EAAQ,aAAe,IAC5ChC,EAAI,KAAK,CAC3B,CAAC,EAED+C,EAAmB/C,EAAKO,EAAgBO,CAAS,EAEjDkC,GAAU,OAAO,CACnB,CAEA,SAASC,GAAmBjD,EAAKc,EAAW,CAC1C,IAAIoC,EAAgB,CAAC,EACrB,QAASrC,KAAMb,EAAI,MACbc,EAAU,MAAM,eAAeD,CAAE,EACnCqC,EAAcrC,GAAMC,EAAU,MAAMD,IAEpCC,EAAU,OAAOD,GAAMC,EAAU,OAAOD,IAAOb,EAAI,OAAOa,GAC1DqC,EAAcrC,GAAM,CAAC,GAGzBC,EAAU,MAAQoC,CACpB,CAEA,SAASX,GAAUvC,EAAKc,EAAWqC,EAAQpB,EAAYC,EAAS,CAC9D,GAAM,CAAC,WAAAd,EAAY,QAAAC,CAAO,EAAIY,EAExBT,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAS,SAAS,cAAc,SAAS,EAC/CF,EAAM,UAAY,GAClBC,EAAO,UAAY,GAEnB,IAAI6B,EAAM,EAEV,GAAIpB,EAAQ,QAAS,CACnBqB,GAAa/B,EAAOtB,EAAKc,EAAWiB,CAAU,EAC9C,IAAMuB,EAAgB,SAAS,gBAAgB,6BACA,MAAM,EACrDA,EAAc,YAAc,iBAC5BA,EAAc,aAAa,IAAK,CAAC,EACjCA,EAAc,aAAa,IAAKpC,EAAa,CAAC,EAC9CoC,EAAc,UAAU,IAAI,MAAM,EAClC/B,EAAO,YAAY+B,CAAa,EAEhCF,GAAO,CACT,CAEA,GAAIpB,EAAQ,cAAe,CACzBuB,EAAiBjC,EAAOtB,EAAKc,EAAU,MAAOsC,EAAKrB,EAAY,YAC9CC,EAAQ,UAAY,OAAS,MAAM,EAEpD,IAAMwB,EAAO,SAAS,gBAAgB,6BAA8B,MAAM,EAC1EA,EAAK,YAAc,YACnBA,EAAK,aAAa,IAAK,CAAC,EACxBA,EAAK,aAAa,IAAKJ,GAAOlC,EAAaC,GAAWD,EAAa,CAAC,EACpEsC,EAAK,UAAU,IAAI,MAAM,EACzBjC,EAAO,YAAYiC,CAAI,EAEvBJ,GAAO,EAEPH,GAAmBjD,EAAKc,CAAS,EACjC2C,EAAiBnC,EAAOC,EAAQT,EAAWqC,EAAQC,EAAM,EAAGrB,EAC3CC,EAAQ,gBAAiB,EAAI,CAChD,CAEAuB,EAAiBjC,EAAOtB,EAAKA,EAAI,MAAOoD,EAAKrB,EAAY,KACxCC,EAAQ,UAAY,OAAS,MAAM,EAKpD,IAAM0B,EAJYD,EAAiBnC,EAAOC,EAAQvB,EAAKmD,EAAQC,EAAM,EAClCrB,EAAYC,EAAQ,gBACpB,EAAK,EAEX,EAAIoB,EACjC9B,EAAM,MAAM,OAASoC,GAAYxC,EAAaC,GAAWA,EAAU,KACnEI,EAAO,MAAM,OAASmC,GAAYxC,EAAaC,GAAWA,EAAU,KAEpEK,EAAO,aAAa,SAAUkC,GAAYxC,EAAaC,GAAWA,CAAO,EACzEG,EAAM,YAAYE,CAAM,CAC1B",
  "names": ["require_EIParser", "__commonJSMin", "exports", "module", "getJson", "permalink", "json", "eiLogDataToLog", "parseJson", "eiData", "usedStuff", "skillKey", "skill", "buffKey", "buff", "allBuffs", "allCasts", "targetDamage1S", "players", "player", "i", "apiMode", "buffs", "casts", "parseHtmlData", "parseApiData", "tdps", "skills", "usedThing", "timeMul", "details", "boon", "prevStacks", "state", "time", "stacks", "rotation", "cast", "id", "duration", "endEvent", "_quicknessProbably", "start", "end", "fired", "SkillData", "skills", "id", "data", "SkillData_default", "SkillIds_default", "Mishap", "start", "end", "label", "log", "elt", "time", "reportCardItems", "generateReportCard", "log", "selectedPlayer", "benchmark", "checkAutoChains", "checkWasted", "checkPrimordialAttunements", "checkArcaneBlasts", "checkAttunementTransitions", "checkBuffUptime", "SkillIds_default", "checkFGSTiming", "checkSkillUsage", "checkSkillFrequency", "checkWeaponSwapCadence", "optsEtherSig", "optsEtherSigLeni", "checkSkillPerWeaponSwap", "optsIlluSig", "checkAmmoSkillUsage", "checkBadSkillUsage", "checkNotChained", "checkAverageSkillDuration", "apologizeForMissingPasses", "addReportCardItem", "grade", "explanation", "mishaps", "item", "gradeElt", "explanationElt", "expander", "mishapList", "mishap", "strict", "chains", "cast", "data", "SkillData_default", "wastedOne", "wastedTwo", "chain", "dur", "woGrade", "attacks", "woSummary", "Mishap", "wtGrade", "wtSummary", "deadspace", "dsMishaps", "cancels", "cancelMishaps", "lastEnd", "wasted", "dsSummary", "dsGrade", "cancelSummary", "cancelGrade", "primordial", "fireFire", "tick", "stanceDur", "lastPrimordial", "primStart", "lastFireFireProcessed", "stanceStart", "misaligns", "totalAligns", "event", "stanceEnd", "covered", "total", "ffStart", "i", "ff", "ffEnd", "coverage", "summary", "a", "nextCharge", "charges", "overcaps", "anyFound", "mishapStart", "usualTransitions", "airAir", "aa", "buffId", "targetPerc", "elements", "downtime", "lastApply", "lastRemove", "dropped", "perc", "name", "percDiff", "getFGSTiming", "casts", "firstStart", "firstEnd", "secondStart", "secondEnd", "isFirstFGS", "benchFirstStart", "benchFirstEnd", "benchSecondStart", "benchSecondEnd", "firstDur", "secondDur", "benchFirstDur", "benchSecondDur", "diff", "toSecStr", "x", "skillId", "options", "skillData", "recharge", "countRecharge", "fact", "nextCast", "wastedTime", "resets", "wastedCasts", "leniency", "expectedCasts", "isFirstWeaponSwap", "isInWeapon", "castsInWeapon", "start", "results", "successes", "result", "timePlural", "expectedCastsPerSecond", "badCasts", "maxCasts", "cooldown", "timeLost", "maxCharges", "targetDuration", "castTimes", "totalDiff", "time", "durations", "startSkillId", "lenient", "durI", "isStarted", "lastWs", "targetDur", "over", "maxOver", "amount", "swapPlural", "leniencyExplanation", "validSpecs", "TargetSelect", "log", "player", "bossLabel", "playerOption", "submit", "selectedPlayer", "import_EIParser", "import_EIParser", "get", "id", "name", "url", "raw", "log", "EIParser", "hasCast", "cast", "hasBuff", "key", "QUICKNESS", "hasGeneration", "selectedPlayer", "buffId", "buff", "buffData", "agentName", "benchmark_default", "spec", "SkillIds_default", "isCondi", "isFreshAir", "isDeva", "boringSkills", "SkillIds_default", "specialCaseSkillNames", "namesSpecterShroud", "castSkillIcon", "cast", "data", "SkillData_default", "castSkillName", "skills", "content", "matches", "profMatches", "skillName", "chapter", "drawCasts", "board", "log", "casts", "row", "dimensions", "rectClass", "labelMode", "railHeight", "railPad", "timeToX", "g", "title", "label", "startLabel", "durLabel", "rect", "skillIcon", "icon", "text", "width", "drawCastTimeline_default", "boringBuffs", "profSpecificBuffs", "recreateJusticeFromSpearPassive", "log", "buffs", "SkillIds_default", "soj", "fakeJusticeEvents", "buffEvent", "time", "justiceDur", "createBuffElement", "x", "y", "height", "outlineOnly", "group", "title", "rect", "finalizeBuffElement", "buffElement", "timeToX", "end", "start", "startStr", "duration", "draw", "board", "legend", "player", "startRow", "dimensions", "showBoring", "railHeight", "railPad", "id", "buffName", "buffIds", "a", "b", "aName", "bName", "row", "buffId", "buffElements", "event", "name", "drawBuffTimeline_default", "getDps10s", "targetDamage", "dps10s", "max", "i", "damagePast", "dps", "dpsToY", "dpsMax", "dimensions", "linearScaling", "railHeight", "railPad", "height", "logMax", "logMin", "logY", "getPath", "log", "timeToX", "points", "toY", "x", "y", "path", "Tooltip", "container", "benchDps10s", "logTimeMs", "time", "expl", "explY", "dpsY", "benchDps", "benchDpsY", "diffPath", "diff", "draw", "board", "benchmark", "xToTime", "benchMax", "realMax", "benchPath", "tooltip", "boardContainer", "boardContainerRect", "onMouseLeave", "onMouseMove", "event", "totalX", "logTime", "elapsed", "drawDpsGraph_default", "konamiKeys", "substitutions", "substitutionsOriginal", "substitute", "text", "match", "choices", "choiceI", "choice", "getText", "reportCardItems", "item", "explanation", "startToken", "insults", "insultI", "insult", "speak", "synth", "utterance", "voice", "doTheThing", "index", "EasterEgg_default", "event", "expectedKey", "setupContainer", "setup", "dpsReportText", "dpsReportSubmit", "dpsReportListener", "urlText", "url", "dpsTextListener", "loadDpsReport", "event", "logInput", "logLabel", "file", "loadEIJson", "videoContainer", "video", "videoInput", "reader", "source", "percent", "contents", "log", "EIParser", "displayHeader", "slug", "_", "targetSelect", "TargetSelect", "selectedPlayer", "displayLog", "a", "b", "usedSkills", "cast", "id", "benchmark", "benchmark_default", "SkillData_default", "width", "railHeight", "railPad", "timeline", "boardContainer", "board", "legend", "needle", "timeToX", "time", "xToTime", "x", "bonusSkills", "SkillIds_default", "dimensions", "options", "showBenchmark", "showDps", "showBoringBuffs", "showIcons", "onChange", "key", "drawBoard", "boardContainerRect", "scrollToLogTime", "logTime", "scrollVideo", "logX", "totalX", "start", "generateReportCard", "EasterEgg_default", "normalizeBuffOrder", "newBenchBuffs", "player", "row", "drawDpsGraph_default", "dpsGraphLabel", "drawCastTimeline_default", "name", "drawBuffTimeline_default", "rowCount"]
}
